(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
!function(e,t){"function"==typeof define&&define.amd?define(["underscore","backbone"],function(r,a){return t(r||e._,a||e.Backbone)}):"object"==typeof exports?module.exports=t(require("underscore"),require("backbone")):t(_,Backbone)}(this,function(e,t){function r(a,n){function i(e){return String(e).replace(s,encodeURIComponent(s))}var s=t.Router.arrayValueSplit;if(!a)return"";n=n||"";var o=[];return e.each(a,function(t,a){if(a=n+a,e.isString(t)||e.isNumber(t)||e.isBoolean(t)||e.isDate(t))null!=t&&o.push(a+"="+i(encodeURIComponent(t)));else if(e.isArray(t)){for(var u="",c=0;c<t.length;c++){var l=t[c];null!=l&&(u+=s+i(l))}u&&o.push(a+"="+u)}else{var h=r(t,a+".");h&&o.push(h)}}),o.join("&")}function a(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}}function n(t,r){var a=t.split("&");e.each(a,function(e){var t=e.split("=");r(t.shift(),t.join("="))})}var i=/^\?(.*)/,s=/\((.*?)\)/g,o=/(\(\?)?:\w+/g,u=/\*\w+/g,c=/[\-{}\[\]+?.,\\\^$|#\s]/g,l=/^([^\?]*)/,h=/[\:\*]([^\:\?\/]+)/g,p=/^[#\/]|\s+$/g,f=/\/$/;t.Router.arrayValueSplit="|",e.extend(t.History.prototype,{getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var r=this.root.replace(f,""),a=this.location.search;e.indexOf(r)||(e=e.substr(r.length)),a&&this._hasPushState&&(e+=a)}else e=this.getHash();return e.replace(p,"")},getQueryParameters:function(t,r){t=this.getFragment(t,r);var s=t.replace(l,""),o=s.match(i);if(o){s=o[1];var u={};return n(s,function(t,r){r=a(r),u[t]?e.isString(u[t])?u[t]=[u[t],r]:u[t].push(r):u[t]=r}),u}return{}}}),e.extend(t.Router.prototype,{initialize:function(e){this.encodedSplatParts=e&&e.encodedSplatParts},_routeToRegExp:function(t){var r=u.exec(t)||{index:-1},a=o.exec(t)||{index:-1},n=t.match(h)||[];t=t.replace(c,"\\$&").replace(s,"(?:$1)?").replace(o,function(e,t){return t?e:"([^\\/\\?]+)"}).replace(u,"([^??]*?)"),t+="(\\?.*)?";var i=new RegExp("^"+t+"$");return r.index>=0&&(a>=0?i.splatMatch=r.index-a.index:i.splatMatch=-1),i.paramNames=e.map(n,function(e){return e.replace(/\)$/,"").substring(1)}),i.namedParameters=this.namedParameters,i},_extractParameters:function(r,s){var o=r.exec(s).slice(1),u={};o.length>0&&!o[o.length-1]&&o.splice(o.length-1,1);var c=o.length&&o[o.length-1]&&o[o.length-1].match(i);if(c){var l=c[1],h={};if(l){var p=this;n(l,function(e,t){p._setParamValue(e,t,h)})}o[o.length-1]=h,e.extend(u,h)}var f=o.length;if(r.splatMatch&&this.encodedSplatParts){if(r.splatMatch<0)return o;f-=1}for(var g=0;g<f;g++)e.isString(o[g])&&(o[g]=a(o[g]),r.paramNames&&r.paramNames.length>=g-1&&(u[r.paramNames[g]]=o[g]));return t.Router.namedParameters||r.namedParameters?[u]:o},_setParamValue:function(e,t,r){e=e.replace("[]",""),e=e.replace("%5B%5D","");for(var a=e.split("."),n=r,i=0;i<a.length;i++){var s=a[i];i===a.length-1?n[s]=this._decodeParamValue(t,n[s]):n=n[s]=n[s]||{}}},_decodeParamValue:function(r,n){var i=t.Router.arrayValueSplit;if(i&&r.indexOf(i)>=0){for(var s=r.split(i),o=s.length-1;o>=0;o--)s[o]?s[o]=a(s[o]):s.splice(o,1);return s}return r=a(r),n?e.isArray(n)?(n.push(r),n):[n,r]:r},toFragment:function(t,a){return a&&(e.isString(a)||(a=r(a)),a&&(t+="?"+a)),t}})});
},{"backbone":3,"underscore":140}],2:[function(require,module,exports){
!function(e,t){"object"==typeof exports&&"function"==typeof require?module.exports=t(require("backbone")):"function"==typeof define&&define.amd?define(["backbone"],function(r){return t(r||e.Backbone)}):t(Backbone)}(this,function(e){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function r(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}function i(e){return e===Object(e)}function o(e,t){for(var r=e.length;r--;)if(e[r]===t)return!0;return!1}function n(e,t){for(var r in t)e[r]=t[r];return e}function a(e,t){if(null!=e){var r=e[t];return"function"==typeof r?e[t]():r}}return e.LocalStorage=window.Store=function(e,t){if(!this.localStorage)throw"Backbone.localStorage: Environment does not support localStorage.";this.name=e,this.serializer=t||{serialize:function(e){return i(e)?JSON.stringify(e):e},deserialize:function(e){return e&&JSON.parse(e)}};var r=this.localStorage().getItem(this.name);this.records=r&&r.split(",")||[]},n(e.LocalStorage.prototype,{save:function(){this.localStorage().setItem(this.name,this.records.join(","))},create:function(e){return e.id||0===e.id||(e.id=r(),e.set(e.idAttribute,e.id)),this.localStorage().setItem(this._itemName(e.id),this.serializer.serialize(e)),this.records.push(e.id.toString()),this.save(),this.find(e)},update:function(e){this.localStorage().setItem(this._itemName(e.id),this.serializer.serialize(e));var t=e.id.toString();return o(this.records,t)||(this.records.push(t),this.save()),this.find(e)},find:function(e){return this.serializer.deserialize(this.localStorage().getItem(this._itemName(e.id)))},findAll:function(){for(var e,t,r=[],i=0;i<this.records.length;i++)e=this.records[i],t=this.serializer.deserialize(this.localStorage().getItem(this._itemName(e))),null!=t&&r.push(t);return r},destroy:function(e){this.localStorage().removeItem(this._itemName(e.id));for(var t=e.id.toString(),r=0;r<this.records.length;r++)this.records[r]===t&&this.records.splice(r,1);return this.save(),e},localStorage:function(){return localStorage},_clear:function(){var e=this.localStorage(),t=new RegExp("^"+this.name+"-");e.removeItem(this.name);for(var r in e)t.test(r)&&e.removeItem(r);this.records.length=0},_storageSize:function(){return this.localStorage().length},_itemName:function(e){return this.name+"-"+e}}),e.LocalStorage.sync=window.Store.sync=e.localSync=function(t,r,i){var o,n,s=a(r,"localStorage")||a(r.collection,"localStorage"),c=e.$?e.$.Deferred&&e.$.Deferred():e.Deferred&&e.Deferred();try{switch(t){case"read":o=void 0!=r.id?s.find(r):s.findAll();break;case"create":o=s.create(r);break;case"update":o=s.update(r);break;case"delete":o=s.destroy(r)}}catch(e){n=22===e.code&&0===s._storageSize()?"Private browsing is unsupported":e.message}return o?(i&&i.success&&("0.9.10"===e.VERSION?i.success(r,o,i):i.success(o)),c&&c.resolve(o)):(n=n?n:"Record Not Found",i&&i.error&&("0.9.10"===e.VERSION?i.error(r,n,i):i.error(n)),c&&c.reject(n)),i&&i.complete&&i.complete(o),c&&c.promise()},e.ajaxSync=e.sync,e.getSyncMethod=function(t,r){var i=r&&r.ajaxSync;return i||!a(t,"localStorage")&&!a(t.collection,"localStorage")?e.ajaxSync:e.localSync},e.sync=function(t,r,i){return e.getSyncMethod(r,i).apply(this,[t,r,i])},e.LocalStorage});
},{"backbone":3}],3:[function(require,module,exports){
(function (global){
!function(t){var e="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(i,n,s){e.Backbone=t(e,s,i,n)});else if("undefined"!=typeof exports){var i,n=require("underscore");try{i=require("jquery")}catch(t){}t(e,exports,n,i)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(function(t,e,i,n){var s=t.Backbone,r=Array.prototype.slice;e.VERSION="1.2.3",e.$=n,e.noConflict=function(){return t.Backbone=s,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=function(t,e,n){switch(t){case 1:return function(){return i[e](this[n])};case 2:return function(t){return i[e](this[n],t)};case 3:return function(t,s){return i[e](this[n],h(t,this),s)};case 4:return function(t,s,r){return i[e](this[n],h(t,this),s,r)};default:return function(){var t=r.call(arguments);return t.unshift(this[n]),i[e].apply(i,t)}}},o=function(t,e,n){i.each(e,function(e,s){i[s]&&(t.prototype[s]=a(e,s,n))})},h=function(t,e){return i.isFunction(t)?t:i.isObject(t)&&!e._isModel(t)?u(t):i.isString(t)?function(e){return e.get(t)}:t},u=function(t){var e=i.matches(t);return function(t){return e(t.attributes)}},c=e.Events={},l=/\s+/,d=function(t,e,n,s,r){var a,o=0;if(n&&"object"==typeof n){void 0!==s&&"context"in r&&void 0===r.context&&(r.context=s);for(a=i.keys(n);o<a.length;o++)e=d(t,e,a[o],n[a[o]],r)}else if(n&&l.test(n))for(a=n.split(l);o<a.length;o++)e=t(e,a[o],s,r);else e=t(e,n,s,r);return e};c.on=function(t,e,i){return f(this,t,e,i)};var f=function(t,e,i,n,s){if(t._events=d(g,t._events||{},e,i,{context:n,ctx:t,listening:s}),s){var r=t._listeners||(t._listeners={});r[s.id]=s}return t};c.listenTo=function(t,e,n){if(!t)return this;var s=t._listenId||(t._listenId=i.uniqueId("l")),r=this._listeningTo||(this._listeningTo={}),a=r[s];if(!a){var o=this._listenId||(this._listenId=i.uniqueId("l"));a=r[s]={obj:t,objId:s,id:o,listeningTo:r,count:0}}return f(t,e,n,this,a),this};var g=function(t,e,i,n){if(i){var s=t[e]||(t[e]=[]),r=n.context,a=n.ctx,o=n.listening;o&&o.count++,s.push({callback:i,context:r,ctx:r||a,listening:o})}return t};c.off=function(t,e,i){return this._events?(this._events=d(v,this._events,t,e,{context:i,listeners:this._listeners}),this):this},c.stopListening=function(t,e,n){var s=this._listeningTo;if(!s)return this;for(var r=t?[t._listenId]:i.keys(s),a=0;a<r.length;a++){var o=s[r[a]];if(!o)break;o.obj.off(e,n,this)}return i.isEmpty(s)&&(this._listeningTo=void 0),this};var v=function(t,e,n,s){if(t){var r,a=0,o=s.context,h=s.listeners;if(e||n||o){for(var u=e?[e]:i.keys(t);a<u.length;a++){e=u[a];var c=t[e];if(!c)break;for(var l=[],d=0;d<c.length;d++){var f=c[d];n&&n!==f.callback&&n!==f.callback._callback||o&&o!==f.context?l.push(f):(r=f.listening,r&&0===--r.count&&(delete h[r.id],delete r.listeningTo[r.objId]))}l.length?t[e]=l:delete t[e]}return i.size(t)?t:void 0}for(var g=i.keys(h);a<g.length;a++)r=h[g[a]],delete h[r.id],delete r.listeningTo[r.objId]}};c.once=function(t,e,n){var s=d(p,{},t,e,i.bind(this.off,this));return this.on(s,void 0,n)},c.listenToOnce=function(t,e,n){var s=d(p,{},e,n,i.bind(this.stopListening,this,t));return this.listenTo(t,s)};var p=function(t,e,n,s){if(n){var r=t[e]=i.once(function(){s(e,r),n.apply(this,arguments)});r._callback=n}return t};c.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),i=Array(e),n=0;n<e;n++)i[n]=arguments[n+1];return d(m,this._events,t,void 0,i),this};var m=function(t,e,i,n){if(t){var s=t[e],r=t.all;s&&r&&(r=r.slice()),s&&_(s,n),r&&_(r,[e].concat(n))}return t},_=function(t,e){var i,n=-1,s=t.length,r=e[0],a=e[1],o=e[2];switch(e.length){case 0:for(;++n<s;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;++n<s;)(i=t[n]).callback.call(i.ctx,r);return;case 2:for(;++n<s;)(i=t[n]).callback.call(i.ctx,r,a);return;case 3:for(;++n<s;)(i=t[n]).callback.call(i.ctx,r,a,o);return;default:for(;++n<s;)(i=t[n]).callback.apply(i.ctx,e);return}};c.bind=c.on,c.unbind=c.off,i.extend(e,c);var y=e.Model=function(t,e){var n=t||{};e||(e={}),this.cid=i.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{}),n=i.defaults({},n,i.result(this,"defaults")),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};i.extend(y.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!i.iteratee(t,this)(this.attributes)},set:function(t,e,n){if(null==t)return this;var s;if("object"==typeof t?(s=t,n=e):(s={})[t]=e,n||(n={}),!this._validate(s,n))return!1;var r=n.unset,a=n.silent,o=[],h=this._changing;this._changing=!0,h||(this._previousAttributes=i.clone(this.attributes),this.changed={});var u=this.attributes,c=this.changed,l=this._previousAttributes;for(var d in s)e=s[d],i.isEqual(u[d],e)||o.push(d),i.isEqual(l[d],e)?delete c[d]:c[d]=e,r?delete u[d]:u[d]=e;if(this.id=this.get(this.idAttribute),!a){o.length&&(this._pending=n);for(var f=0;f<o.length;f++)this.trigger("change:"+o[f],this,u[o[f]],n)}if(h)return this;if(!a)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!i.isEmpty(this.changed):i.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&i.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,n={};for(var s in t){var r=t[s];i.isEqual(e[s],r)||(n[s]=r)}return!!i.size(n)&&n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){t=i.extend({parse:!0},t);var e=this,n=t.success;return t.success=function(i){var s=t.parse?e.parse(i,t):i;return!!e.set(s,t)&&(n&&n.call(t.context,e,i,t),void e.trigger("sync",e,i,t))},z(this,t),this.sync("read",this,t)},save:function(t,e,n){var s;null==t||"object"==typeof t?(s=t,n=e):(s={})[t]=e,n=i.extend({validate:!0,parse:!0},n);var r=n.wait;if(s&&!r){if(!this.set(s,n))return!1}else if(!this._validate(s,n))return!1;var a=this,o=n.success,h=this.attributes;n.success=function(t){a.attributes=h;var e=n.parse?a.parse(t,n):t;return r&&(e=i.extend({},s,e)),!(e&&!a.set(e,n))&&(o&&o.call(n.context,a,t,n),void a.trigger("sync",a,t,n))},z(this,n),s&&r&&(this.attributes=i.extend({},h,s));var u=this.isNew()?"create":n.patch?"patch":"update";"patch"!==u||n.attrs||(n.attrs=s);var c=this.sync(u,this,n);return this.attributes=h,c},destroy:function(t){t=t?i.clone(t):{};var e=this,n=t.success,s=t.wait,r=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(i){s&&r(),n&&n.call(t.context,e,i,t),e.isNew()||e.trigger("sync",e,i,t)};var a=!1;return this.isNew()?i.defer(t.success):(z(this,t),a=this.sync("delete",this,t)),s||r(),a},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||F();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.defaults({validate:!0},t))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return!n||(this.trigger("invalid",this,n,i.extend(e,{validationError:n})),!1)}});var b={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};o(y,b,"attributes");var x=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,i.extend({silent:!0},e))},w={add:!0,remove:!0,merge:!0},E={add:!0,remove:!1},k=function(t,e,i){i=Math.min(Math.max(i,0),t.length);for(var n=Array(t.length-i),s=e.length,r=0;r<n.length;r++)n[r]=t[r+i];for(r=0;r<s;r++)t[r+i]=e[r];for(r=0;r<n.length;r++)t[r+s+i]=n[r]};i.extend(x.prototype,c,{model:y,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:!1},e,E))},remove:function(t,e){e=i.extend({},e);var n=!i.isArray(t);t=n?[t]:i.clone(t);var s=this._removeModels(t,e);return!e.silent&&s&&this.trigger("update",this,e),n?s[0]:s},set:function(t,e){if(null!=t){e=i.defaults({},e,w),e.parse&&!this._isModel(t)&&(t=this.parse(t,e));var n=!i.isArray(t);t=n?[t]:t.slice();var s=e.at;null!=s&&(s=+s),s<0&&(s+=this.length+1);for(var r,a=[],o=[],h=[],u={},c=e.add,l=e.merge,d=e.remove,f=!1,g=this.comparator&&null==s&&e.sort!==!1,v=i.isString(this.comparator)?this.comparator:null,p=0;p<t.length;p++){r=t[p];var m=this.get(r);if(m){if(l&&r!==m){var _=this._isModel(r)?r.attributes:r;e.parse&&(_=m.parse(_,e)),m.set(_,e),g&&!f&&(f=m.hasChanged(v))}u[m.cid]||(u[m.cid]=!0,a.push(m)),t[p]=m}else c&&(r=t[p]=this._prepareModel(r,e),r&&(o.push(r),this._addReference(r,e),u[r.cid]=!0,a.push(r)))}if(d){for(p=0;p<this.length;p++)r=this.models[p],u[r.cid]||h.push(r);h.length&&this._removeModels(h,e)}var y=!1,b=!g&&c&&d;if(a.length&&b?(y=this.length!=a.length||i.some(this.models,function(t,e){return t!==a[e]}),this.models.length=0,k(this.models,a,0),this.length=this.models.length):o.length&&(g&&(f=!0),k(this.models,o,null==s?this.length:s),this.length=this.models.length),f&&this.sort({silent:!0}),!e.silent){for(p=0;p<o.length;p++)null!=s&&(e.index=s+p),r=o[p],r.trigger("add",r,this,e);(f||y)&&this.trigger("sort",this,e),(o.length||h.length)&&this.trigger("update",this,e)}return n?t[0]:t}},reset:function(t,e){e=e?i.clone(e):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,i.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return r.apply(this.models,arguments)},get:function(t){if(null!=t){var e=this.modelId(this._isModel(t)?t.attributes:t);return this._byId[t]||this._byId[e]||this._byId[t.cid]}},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var n=e.length;return i.isFunction(e)&&(e=i.bind(e,this)),1===n||i.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return i.invoke(this.models,"get",t)},fetch:function(t){t=i.extend({parse:!0},t);var e=t.success,n=this;return t.success=function(i){var s=t.reset?"reset":"set";n[s](i,t),e&&e.call(t.context,n,i,t),n.trigger("sync",n,i,t)},z(this,t),this.sync("read",this,t)},create:function(t,e){e=e?i.clone(e):{};var n=e.wait;if(t=this._prepareModel(t,e),!t)return!1;n||this.add(t,e);var s=this,r=e.success;return e.success=function(t,e,i){n&&s.add(t,i),r&&r.call(i.context,t,e,i)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?i.clone(e):{},e.collection=this;var n=new this.model(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_removeModels:function(t,e){for(var i=[],n=0;n<t.length;n++){var s=this.get(t[n]);if(s){var r=this.indexOf(s);this.models.splice(r,1),this.length--,e.silent||(e.index=r,s.trigger("remove",s,this,e)),i.push(s),this._removeReference(s,e)}}return!!i.length&&i},_isModel:function(t){return t instanceof y},_addReference:function(t,e){this._byId[t.cid]=t;var i=this.modelId(t.attributes);null!=i&&(this._byId[i]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var i=this.modelId(t.attributes);null!=i&&delete this._byId[i],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){if("add"!==t&&"remove"!==t||i===this){if("destroy"===t&&this.remove(e,n),"change"===t){var s=this.modelId(e.previousAttributes()),r=this.modelId(e.attributes);s!==r&&(null!=s&&delete this._byId[s],null!=r&&(this._byId[r]=e))}this.trigger.apply(this,arguments)}}});var S={forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3};o(x,S,"models");var I=e.View=function(t){this.cid=i.uniqueId("view"),i.extend(this,i.pick(t,P)),this._ensureElement(),this.initialize.apply(this,arguments)},T=/^(\S+)\s*(.*)$/,P=["model","collection","el","id","attributes","className","tagName","events"];i.extend(I.prototype,c,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=i.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var n=t[e];if(i.isFunction(n)||(n=this[n]),n){var s=e.match(T);this.delegate(s[1],s[2],i.bind(n,this))}}return this},delegate:function(t,e,i){return this.$el.on(t+".delegateEvents"+this.cid,e,i),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,i){return this.$el.off(t+".delegateEvents"+this.cid,e,i),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var t=i.extend({},i.result(this,"attributes"));this.id&&(t.id=i.result(this,"id")),this.className&&(t.class=i.result(this,"className")),this.setElement(this._createElement(i.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,n,s){var r=H[t];i.defaults(s||(s={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:r,dataType:"json"};if(s.url||(a.url=i.result(n,"url")||F()),null!=s.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(s.attrs||n.toJSON(s))),s.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),s.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){a.type="POST",s.emulateJSON&&(a.data._method=r);var o=s.beforeSend;s.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",r),o)return o.apply(this,arguments)}}"GET"===a.type||s.emulateJSON||(a.processData=!1);var h=s.error;s.error=function(t,e,i){s.textStatus=e,s.errorThrown=i,h&&h.call(s.context,t,e,i)};var u=s.xhr=e.ajax(i.extend(a,s));return n.trigger("request",n,u,s),u};var H={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var $=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},A=/\((.*?)\)/g,C=/(\(\?)?:\w+/g,R=/\*\w+/g,j=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend($.prototype,c,{initialize:function(){},route:function(t,n,s){i.isRegExp(t)||(t=this._routeToRegExp(t)),i.isFunction(n)&&(s=n,n=""),s||(s=this[n]);var r=this;return e.history.route(t,function(i){var a=r._extractParameters(t,i);r.execute(s,a,n)!==!1&&(r.trigger.apply(r,["route:"+n].concat(a)),r.trigger("route",n,a),e.history.trigger("route",r,n,a))}),this},execute:function(t,e,i){t&&t.apply(this,e)},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var t,e=i.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(j,"\\$&").replace(A,"(?:$1)?").replace(C,function(t,e){return e?t:"([^/?]+)"}).replace(R,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return i.map(n,function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null})}});var M=e.History=function(){this.handlers=[],this.checkUrl=i.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},N=/^[#\/]|\s+$/g,O=/^\/+|\/+$/g,U=/#.*$/;M.started=!1,i.extend(M.prototype,c,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(N,"")},start:function(t){if(M.started)throw new Error("Backbone.history has already been started");if(M.started=!0,this.options=i.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(O,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var n=document.body,s=n.insertBefore(this.iframe,n.firstChild).contentWindow;s.document.open(),s.document.close(),s.location.hash="#"+this.fragment}var r=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?r("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?r("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),M.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e!==this.fragment&&(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),i.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!M.started)return!1;e&&e!==!0||(e={trigger:!!e}),t=this.getFragment(t||"");var i=this.root;""!==t&&"?"!==t.charAt(0)||(i=i.slice(0,-1)||"/");var n=i+t;if(t=this.decodeFragment(t.replace(U,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var s=this.iframe.contentWindow;e.replace||(s.document.open(),s.document.close()),this._updateHash(s.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),e.history=new M;var q=function(t,e){var n,s=this;n=t&&i.has(t,"constructor")?t.constructor:function(){return s.apply(this,arguments)},i.extend(n,s,e);var r=function(){this.constructor=n};return r.prototype=s.prototype,n.prototype=new r,t&&i.extend(n.prototype,t),n.__super__=s.prototype,n};y.extend=x.extend=$.extend=I.extend=M.extend=q;var F=function(){throw new Error('A "url" property or function must be specified')},z=function(t,e){var i=e.error;e.error=function(n){i&&i.call(e.context,t,n,e),t.trigger("error",t,n,e)}};return e});
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"jquery":17,"underscore":140}],4:[function(require,module,exports){
(function (global){
!function(e){function o(e){throw new RangeError(T[e])}function n(e,o){for(var n=e.length,r=[];n--;)r[n]=o(e[n]);return r}function r(e,o){var r=e.split("@"),t="";r.length>1&&(t=r[0]+"@",e=r[1]),e=e.replace(S,".");var u=e.split("."),i=n(u,o).join(".");return t+i}function t(e){for(var o,n,r=[],t=0,u=e.length;t<u;)o=e.charCodeAt(t++),o>=55296&&o<=56319&&t<u?(n=e.charCodeAt(t++),56320==(64512&n)?r.push(((1023&o)<<10)+(1023&n)+65536):(r.push(o),t--)):r.push(o);return r}function u(e){return n(e,function(e){var o="";return e>65535&&(e-=65536,o+=P(e>>>10&1023|55296),e=56320|1023&e),o+=P(e)}).join("")}function i(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:b}function f(e,o){return e+22+75*(e<26)-((0!=o)<<5)}function c(e,o,n){var r=0;for(e=n?M(e/j):e>>1,e+=M(e/o);e>L*C>>1;r+=b)e=M(e/L);return M(r+(L+1)*e/(e+m))}function l(e){var n,r,t,f,l,s,d,a,p,h,v=[],g=e.length,w=0,m=I,j=A;for(r=e.lastIndexOf(E),r<0&&(r=0),t=0;t<r;++t)e.charCodeAt(t)>=128&&o("not-basic"),v.push(e.charCodeAt(t));for(f=r>0?r+1:0;f<g;){for(l=w,s=1,d=b;f>=g&&o("invalid-input"),a=i(e.charCodeAt(f++)),(a>=b||a>M((x-w)/s))&&o("overflow"),w+=a*s,p=d<=j?y:d>=j+C?C:d-j,!(a<p);d+=b)h=b-p,s>M(x/h)&&o("overflow"),s*=h;n=v.length+1,j=c(w-l,n,0==l),M(w/n)>x-m&&o("overflow"),m+=M(w/n),w%=n,v.splice(w++,0,m)}return u(v)}function s(e){var n,r,u,i,l,s,d,a,p,h,v,g,w,m,j,F=[];for(e=t(e),g=e.length,n=I,r=0,l=A,s=0;s<g;++s)v=e[s],v<128&&F.push(P(v));for(u=i=F.length,i&&F.push(E);u<g;){for(d=x,s=0;s<g;++s)v=e[s],v>=n&&v<d&&(d=v);for(w=u+1,d-n>M((x-r)/w)&&o("overflow"),r+=(d-n)*w,n=d,s=0;s<g;++s)if(v=e[s],v<n&&++r>x&&o("overflow"),v==n){for(a=r,p=b;h=p<=l?y:p>=l+C?C:p-l,!(a<h);p+=b)j=a-h,m=b-h,F.push(P(f(h+j%m,0))),a=M(j/m);F.push(P(f(a,0))),l=c(r,w,u==i),r=0,++u}++r,++n}return F.join("")}function d(e){return r(e,function(e){return F.test(e)?l(e.slice(4).toLowerCase()):e})}function a(e){return r(e,function(e){return O.test(e)?"xn--"+s(e):e})}var p="object"==typeof exports&&exports&&!exports.nodeType&&exports,h="object"==typeof module&&module&&!module.nodeType&&module,v="object"==typeof global&&global;v.global!==v&&v.window!==v&&v.self!==v||(e=v);var g,w,x=2147483647,b=36,y=1,C=26,m=38,j=700,A=72,I=128,E="-",F=/^xn--/,O=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=b-y,M=Math.floor,P=String.fromCharCode;if(g={version:"1.4.1",ucs2:{decode:t,encode:u},decode:l,encode:s,toASCII:a,toUnicode:d},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return g});else if(p&&h)if(module.exports==p)h.exports=g;else for(w in g)g.hasOwnProperty(w)&&(p[w]=g[w]);else e.punycode=g}(this);
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],5:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),_select=require("select"),_select2=_interopRequireDefault(_select),ClipboardAction=function(){function e(t){_classCallCheck(this,e),this.resolveOptions(t),this.initSelection()}return e.prototype.resolveOptions=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=e.action,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""},e.prototype.initSelection=function(){if(this.text&&this.target)throw new Error('Multiple attributes declared, use either "target" or "text"');if(this.text)this.selectFake();else{if(!this.target)throw new Error('Missing required attributes, use either "target" or "text"');this.selectTarget()}},e.prototype.selectFake=function(){var e=this;this.removeFake(),this.fakeHandler=document.body.addEventListener("click",function(){return e.removeFake()}),this.fakeElem=document.createElement("textarea"),this.fakeElem.style.position="absolute",this.fakeElem.style.left="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=_select2.default(this.fakeElem),this.copyText()},e.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click"),this.fakeHandler=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},e.prototype.selectTarget=function(){this.selectedText=_select2.default(this.target),this.copyText()},e.prototype.copyText=function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)},e.prototype.handleResult=function(e){e?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},e.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},e.prototype.destroy=function(){this.removeFake()},_createClass(e,[{key:"action",set:function(){var e=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!=typeof e||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');this._target=e}},get:function(){return this._target}}]),e}();exports.default=ClipboardAction,module.exports=exports.default;
},{"select":12}],6:[function(require,module,exports){
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function getAttributeValue(t,e){var i="data-clipboard-"+t;if(e.hasAttribute(i))return e.getAttribute(i)}exports.__esModule=!0;var _clipboardAction=require("./clipboard-action"),_clipboardAction2=_interopRequireDefault(_clipboardAction),_tinyEmitter=require("tiny-emitter"),_tinyEmitter2=_interopRequireDefault(_tinyEmitter),_goodListener=require("good-listener"),_goodListener2=_interopRequireDefault(_goodListener),Clipboard=function(t){function e(i,o){_classCallCheck(this,e),t.call(this),this.resolveOptions(o),this.listenClick(i)}return _inherits(e,t),e.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText},e.prototype.listenClick=function(t){var e=this;this.listener=_goodListener2.default(t,"click",function(t){return e.onClick(t)})},e.prototype.onClick=function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new _clipboardAction2.default({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})},e.prototype.defaultAction=function(t){return getAttributeValue("action",t)},e.prototype.defaultTarget=function(t){var e=getAttributeValue("target",t);if(e)return document.querySelector(e)},e.prototype.defaultText=function(t){return getAttributeValue("text",t)},e.prototype.destroy=function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},e}(_tinyEmitter2.default);exports.default=Clipboard,module.exports=exports.default;
},{"./clipboard-action":5,"good-listener":11,"tiny-emitter":13}],7:[function(require,module,exports){
var matches=require("matches-selector");module.exports=function(e,r,t){for(var o=t?e:e.parentNode;o&&o!==document;){if(matches(o,r))return o;o=o.parentNode}};
},{"matches-selector":8}],8:[function(require,module,exports){
function match(e,o){if(vendor)return vendor.call(e,o);for(var t=e.parentNode.querySelectorAll(o),r=0;r<t.length;++r)if(t[r]==e)return!0;return!1}var proto=Element.prototype,vendor=proto.matchesSelector||proto.webkitMatchesSelector||proto.mozMatchesSelector||proto.msMatchesSelector||proto.oMatchesSelector;module.exports=match;
},{}],9:[function(require,module,exports){
function delegate(e,t,r,n,l){var s=listener.apply(this,arguments);return e.addEventListener(r,s,l),{destroy:function(){e.removeEventListener(r,s,l)}}}function listener(e,t,r,n){return function(r){r.delegateTarget=closest(r.target,t,!0),r.delegateTarget&&n.call(e,r)}}var closest=require("closest");module.exports=delegate;
},{"closest":7}],10:[function(require,module,exports){
exports.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},exports.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||exports.node(t[0]))},exports.string=function(t){return"string"==typeof t||t instanceof String},exports.fn=function(t){var n=Object.prototype.toString.call(t);return"[object Function]"===n};
},{}],11:[function(require,module,exports){
function listen(e,t,r){if(!e&&!t&&!r)throw new Error("Missing required arguments");if(!is.string(t))throw new TypeError("Second argument must be a String");if(!is.fn(r))throw new TypeError("Third argument must be a Function");if(is.node(e))return listenNode(e,t,r);if(is.nodeList(e))return listenNodeList(e,t,r);if(is.string(e))return listenSelector(e,t,r);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function listenNode(e,t,r){return e.addEventListener(t,r),{destroy:function(){e.removeEventListener(t,r)}}}function listenNodeList(e,t,r){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,r)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,r)})}}}function listenSelector(e,t,r){return delegate(document.body,e,t,r)}var is=require("./is"),delegate=require("delegate");module.exports=listen;
},{"./is":10,"delegate":9}],12:[function(require,module,exports){
function select(e){var t;if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName)e.focus(),e.setSelectionRange(0,e.value.length),t=e.value;else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),o=document.createRange();o.selectNodeContents(e),n.removeAllRanges(),n.addRange(o),t=n.toString()}return t}module.exports=select;
},{}],13:[function(require,module,exports){
function E(){}E.prototype={on:function(t,n,e){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:n,ctx:e}),this},once:function(t,n,e){function i(){f.off(t,i),n.apply(e,arguments)}var f=this;return i._=n,this.on(t,i,e)},emit:function(t){var n=[].slice.call(arguments,1),e=((this.e||(this.e={}))[t]||[]).slice(),i=0,f=e.length;for(i;i<f;i++)e[i].fn.apply(e[i].ctx,n);return this},off:function(t,n){var e=this.e||(this.e={}),i=e[t],f=[];if(i&&n)for(var o=0,r=i.length;o<r;o++)i[o].fn!==n&&i[o].fn._!==n&&f.push(i[o]);return f.length?e[t]=f:delete e[t],this}},module.exports=E;
},{}],14:[function(require,module,exports){
!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,n){return e||(e=window),n||(n="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(n,e,e.document)}:t(jQuery,window,document)}(function(t,e,n,a){"use strict";function r(e){var n,a,o="a aa ai ao as b fn i m o s ",i={};t.each(e,function(t,s){n=t.match(/^([^A-Z]+?)([A-Z])/),n&&o.indexOf(n[1]+" ")!==-1&&(a=t.replace(n[0],n[2].toLowerCase()),i[a]=t,"o"===n[1]&&r(e[t]))}),e._hungarianMap=i}function o(e,n,i){e._hungarianMap||r(e);var s;t.each(n,function(r,l){s=e._hungarianMap[r],s===a||!i&&n[s]!==a||("o"===s.charAt(0)?(n[s]||(n[s]={}),t.extend(!0,n[s],n[r]),o(e[s],n[s],i)):n[s]=n[r])})}function i(t){var e=qt.defaults.oLanguage,n=t.sZeroRecords;!t.sEmptyTable&&n&&"No data available in table"===e.sEmptyTable&&Nt(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&n&&"Loading..."===e.sLoadingRecords&&Nt(t,t,"sZeroRecords","sLoadingRecords"),t.sInfoThousands&&(t.sThousands=t.sInfoThousands);var a=t.sDecimal;a&&Vt(a)}function s(t){be(t,"ordering","bSort"),be(t,"orderMulti","bSortMulti"),be(t,"orderClasses","bSortClasses"),be(t,"orderCellsTop","bSortCellsTop"),be(t,"order","aaSorting"),be(t,"orderFixed","aaSortingFixed"),be(t,"paging","bPaginate"),be(t,"pagingType","sPaginationType"),be(t,"pageLength","iDisplayLength"),be(t,"searching","bFilter"),"boolean"==typeof t.sScrollX&&(t.sScrollX=t.sScrollX?"100%":""),"boolean"==typeof t.scrollX&&(t.scrollX=t.scrollX?"100%":"");var e=t.aoSearchCols;if(e)for(var n=0,a=e.length;n<a;n++)e[n]&&o(qt.models.oSearch,e[n])}function l(e){be(e,"orderable","bSortable"),be(e,"orderData","aDataSort"),be(e,"orderSequence","asSorting"),be(e,"orderDataType","sortDataType");var n=e.aDataSort;n&&!t.isArray(n)&&(e.aDataSort=[n])}function u(e){if(!qt.__browser){var n={};qt.__browser=n;var a=t("<div/>").css({position:"fixed",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(t("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(t("<div/>").css({width:"100%",height:10}))).appendTo("body"),r=a.children(),o=r.children();n.barWidth=r[0].offsetWidth-r[0].clientWidth,n.bScrollOversize=100===o[0].offsetWidth&&100!==r[0].clientWidth,n.bScrollbarLeft=1!==Math.round(o.offset().left),n.bBounding=!!a[0].getBoundingClientRect().width,a.remove()}t.extend(e.oBrowser,qt.__browser),e.oScroll.iBarWidth=qt.__browser.barWidth}function c(t,e,n,r,o,i){var s,l=r,u=!1;for(n!==a&&(s=n,u=!0);l!==o;)t.hasOwnProperty(l)&&(s=u?e(s,t[l],l,t):t[l],u=!0,l+=i);return s}function f(e,a){var r=qt.defaults.column,o=e.aoColumns.length,i=t.extend({},qt.models.oColumn,r,{nTh:a?a:n.createElement("th"),sTitle:r.sTitle?r.sTitle:a?a.innerHTML:"",aDataSort:r.aDataSort?r.aDataSort:[o],mData:r.mData?r.mData:o,idx:o});e.aoColumns.push(i);var s=e.aoPreSearchCols;s[o]=t.extend({},qt.models.oSearch,s[o]),d(e,o,t(a).data())}function d(e,n,r){var i=e.aoColumns[n],s=e.oClasses,u=t(i.nTh);if(!i.sWidthOrig){i.sWidthOrig=u.attr("width")||null;var c=(u.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);c&&(i.sWidthOrig=c[1])}r!==a&&null!==r&&(l(r),o(qt.defaults.column,r),r.mDataProp===a||r.mData||(r.mData=r.mDataProp),r.sType&&(i._sManualType=r.sType),r.className&&!r.sClass&&(r.sClass=r.className),t.extend(i,r),Nt(i,r,"sWidth","sWidthOrig"),r.iDataSort!==a&&(i.aDataSort=[r.iDataSort]),Nt(i,r,"aDataSort"));var f=i.mData,d=I(f),h=i.mRender?I(i.mRender):null,p=function(t){return"string"==typeof t&&t.indexOf("@")!==-1};i._bAttrSrc=t.isPlainObject(f)&&(p(f.sort)||p(f.type)||p(f.filter)),i.fnGetData=function(t,e,n){var r=d(t,e,a,n);return h&&e?h(r,e,t,n):r},i.fnSetData=function(t,e,n){return A(f)(t,e,n)},"number"!=typeof f&&(e._rowReadObject=!0),e.oFeatures.bSort||(i.bSortable=!1,u.addClass(s.sSortableNone));var g=t.inArray("asc",i.asSorting)!==-1,b=t.inArray("desc",i.asSorting)!==-1;i.bSortable&&(g||b)?g&&!b?(i.sSortingClass=s.sSortableAsc,i.sSortingClassJUI=s.sSortJUIAscAllowed):!g&&b?(i.sSortingClass=s.sSortableDesc,i.sSortingClassJUI=s.sSortJUIDescAllowed):(i.sSortingClass=s.sSortable,i.sSortingClassJUI=s.sSortJUI):(i.sSortingClass=s.sSortableNone,i.sSortingClassJUI="")}function h(t){if(t.oFeatures.bAutoWidth!==!1){var e=t.aoColumns;St(t);for(var n=0,a=e.length;n<a;n++)e[n].nTh.style.width=e[n].sWidth}var r=t.oScroll;""===r.sY&&""===r.sX||bt(t),Wt(t,null,"column-sizing",[t])}function p(t,e){var n=v(t,"bVisible");return"number"==typeof n[e]?n[e]:null}function g(e,n){var a=v(e,"bVisible"),r=t.inArray(n,a);return r!==-1?r:null}function b(t){return v(t,"bVisible").length}function v(e,n){var a=[];return t.map(e.aoColumns,function(t,e){t[n]&&a.push(e)}),a}function S(t){var e,n,r,o,i,s,l,u,c,f=t.aoColumns,d=t.aoData,h=qt.ext.type.detect;for(e=0,n=f.length;e<n;e++)if(l=f[e],c=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(r=0,o=h.length;r<o;r++){for(i=0,s=d.length;i<s&&(c[i]===a&&(c[i]=T(t,i,e,"type")),u=h[r](c[i],t),u||r===h.length-1)&&"html"!==u;i++);if(u){l.sType=u;break}}l.sType||(l.sType="string")}}function m(e,n,r,o){var i,s,l,u,c,d,h,p=e.aoColumns;if(n)for(i=n.length-1;i>=0;i--){h=n[i];var g=h.targets!==a?h.targets:h.aTargets;for(t.isArray(g)||(g=[g]),l=0,u=g.length;l<u;l++)if("number"==typeof g[l]&&g[l]>=0){for(;p.length<=g[l];)f(e);o(g[l],h)}else if("number"==typeof g[l]&&g[l]<0)o(p.length+g[l],h);else if("string"==typeof g[l])for(c=0,d=p.length;c<d;c++)("_all"==g[l]||t(p[c].nTh).hasClass(g[l]))&&o(c,h)}if(r)for(i=0,s=r.length;i<s;i++)o(i,r[i])}function D(e,n,r,o){var i=e.aoData.length,s=t.extend(!0,{},qt.models.oRow,{src:r?"dom":"data",idx:i});s._aData=n,e.aoData.push(s);for(var l=e.aoColumns,u=0,c=l.length;u<c;u++)l[u].sType=null;e.aiDisplayMaster.push(i);var f=e.rowIdFn(n);return f!==a&&(e.aIds[f]=s),!r&&e.oFeatures.bDeferRender||H(e,i,r,o),i}function y(e,n){var a;return n instanceof t||(n=t(n)),n.map(function(t,n){return a=j(e,n),D(e,a.data,n,a.cells)})}function _(t,e){return e._DT_RowIndex!==a?e._DT_RowIndex:null}function C(e,n,a){return t.inArray(a,e.aoData[n].anCells)}function T(t,e,n,r){var o=t.iDraw,i=t.aoColumns[n],s=t.aoData[e]._aData,l=i.sDefaultContent,u=i.fnGetData(s,r,{settings:t,row:e,col:n});if(u===a)return t.iDrawError!=o&&null===l&&(Ht(t,0,"Requested unknown parameter "+("function"==typeof i.mData?"{function}":"'"+i.mData+"'")+" for row "+e+", column "+n,4),t.iDrawError=o),l;if(u!==s&&null!==u||null===l){if("function"==typeof u)return u.call(s)}else u=l;return null===u&&"display"==r?"":u}function w(t,e,n,a){var r=t.aoColumns[n],o=t.aoData[e]._aData;r.fnSetData(o,a,{settings:t,row:e,col:n})}function x(e){return t.map(e.match(/(\\.|[^\.])+/g)||[""],function(t){return t.replace(/\\./g,".")})}function I(e){if(t.isPlainObject(e)){var n={};return t.each(e,function(t,e){e&&(n[t]=I(e))}),function(t,e,r,o){var i=n[e]||n._;return i!==a?i(t,e,r,o):t}}if(null===e)return function(t){return t};if("function"==typeof e)return function(t,n,a,r){return e(t,n,a,r)};if("string"!=typeof e||e.indexOf(".")===-1&&e.indexOf("[")===-1&&e.indexOf("(")===-1)return function(t,n){return t[e]};var r=function(e,n,o){var i,s,l,u;if(""!==o)for(var c=x(o),f=0,d=c.length;f<d;f++){if(i=c[f].match(ve),s=c[f].match(Se),i){if(c[f]=c[f].replace(ve,""),""!==c[f]&&(e=e[c[f]]),l=[],c.splice(0,f+1),u=c.join("."),t.isArray(e))for(var h=0,p=e.length;h<p;h++)l.push(r(e[h],n,u));var g=i[0].substring(1,i[0].length-1);e=""===g?l:l.join(g);break}if(s)c[f]=c[f].replace(Se,""),e=e[c[f]]();else{if(null===e||e[c[f]]===a)return a;e=e[c[f]]}}return e};return function(t,n){return r(t,n,e)}}function A(e){if(t.isPlainObject(e))return A(e._);if(null===e)return function(){};if("function"==typeof e)return function(t,n,a){e(t,"set",n,a)};if("string"!=typeof e||e.indexOf(".")===-1&&e.indexOf("[")===-1&&e.indexOf("(")===-1)return function(t,n){t[e]=n};var n=function(e,r,o){for(var i,s,l,u,c,f=x(o),d=f[f.length-1],h=0,p=f.length-1;h<p;h++){if(s=f[h].match(ve),l=f[h].match(Se),s){if(f[h]=f[h].replace(ve,""),e[f[h]]=[],i=f.slice(),i.splice(0,h+1),c=i.join("."),t.isArray(r))for(var g=0,b=r.length;g<b;g++)u={},n(u,r[g],c),e[f[h]].push(u);else e[f[h]]=r;return}l&&(f[h]=f[h].replace(Se,""),e=e[f[h]](r)),null!==e[f[h]]&&e[f[h]]!==a||(e[f[h]]={}),e=e[f[h]]}d.match(Se)?e=e[d.replace(Se,"")](r):e[d.replace(ve,"")]=r};return function(t,a){return n(t,a,e)}}function F(t){return ce(t.aoData,"_aData")}function L(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0,t.aIds={}}function P(t,e,n){for(var r=-1,o=0,i=t.length;o<i;o++)t[o]==e?r=o:t[o]>e&&t[o]--;r!=-1&&n===a&&t.splice(r,1)}function R(t,e,n,r){var o,i,s=t.aoData[e],l=function(n,a){for(;n.childNodes.length;)n.removeChild(n.firstChild);n.innerHTML=T(t,e,a,"display")};if("dom"!==n&&(n&&"auto"!==n||"dom"!==s.src)){var u=s.anCells;if(u)if(r!==a)l(u[r],r);else for(o=0,i=u.length;o<i;o++)l(u[o],o)}else s._aData=j(t,s,r,r===a?a:s._aData).data;s._aSortData=null,s._aFilterData=null;var c=t.aoColumns;if(r!==a)c[r].sType=null;else{for(o=0,i=c.length;o<i;o++)c[o].sType=null;N(t,s)}}function j(e,n,r,o){var i,s,l,u=[],c=n.firstChild,f=0,d=e.aoColumns,h=e._rowReadObject;o=o!==a?o:h?{}:[];var p=function(t,e){if("string"==typeof t){var n=t.indexOf("@");if(n!==-1){var a=t.substring(n+1),r=A(t);r(o,e.getAttribute(a))}}},g=function(e){if(r===a||r===f)if(s=d[f],l=t.trim(e.innerHTML),s&&s._bAttrSrc){var n=A(s.mData._);n(o,l),p(s.mData.sort,e),p(s.mData.type,e),p(s.mData.filter,e)}else h?(s._setter||(s._setter=A(s.mData)),s._setter(o,l)):o[f]=l;f++};if(c)for(;c;)i=c.nodeName.toUpperCase(),"TD"!=i&&"TH"!=i||(g(c),u.push(c)),c=c.nextSibling;else{u=n.anCells;for(var b=0,v=u.length;b<v;b++)g(u[b])}var S=n.firstChild?n:n.nTr;if(S){var m=S.getAttribute("id");m&&A(e.rowId)(o,m)}return{data:o,cells:u}}function H(t,e,a,r){var o,i,s,l,u,c=t.aoData[e],f=c._aData,d=[];if(null===c.nTr){for(o=a||n.createElement("tr"),c.nTr=o,c.anCells=d,o._DT_RowIndex=e,N(t,c),l=0,u=t.aoColumns.length;l<u;l++)s=t.aoColumns[l],i=a?r[l]:n.createElement(s.sCellType),i._DT_CellIndex={row:e,column:l},d.push(i),a&&!s.mRender&&s.mData===l||(i.innerHTML=T(t,e,l,"display")),s.sClass&&(i.className+=" "+s.sClass),s.bVisible&&!a?o.appendChild(i):!s.bVisible&&a&&i.parentNode.removeChild(i),s.fnCreatedCell&&s.fnCreatedCell.call(t.oInstance,i,T(t,e,l),f,e,l);Wt(t,"aoRowCreatedCallback",null,[o,f,e])}c.nTr.setAttribute("role","row")}function N(e,n){var a=n.nTr,r=n._aData;if(a){var o=e.rowIdFn(r);if(o&&(a.id=o),r.DT_RowClass){var i=r.DT_RowClass.split(" ");n.__rowc=n.__rowc?ge(n.__rowc.concat(i)):i,t(a).removeClass(n.__rowc.join(" ")).addClass(r.DT_RowClass)}r.DT_RowAttr&&t(a).attr(r.DT_RowAttr),r.DT_RowData&&t(a).data(r.DT_RowData)}}function O(e){var n,a,r,o,i,s=e.nTHead,l=e.nTFoot,u=0===t("th, td",s).length,c=e.oClasses,f=e.aoColumns;for(u&&(o=t("<tr/>").appendTo(s)),n=0,a=f.length;n<a;n++)i=f[n],r=t(i.nTh).addClass(i.sClass),u&&r.appendTo(o),e.oFeatures.bSort&&(r.addClass(i.sSortingClass),i.bSortable!==!1&&(r.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),At(e,i.nTh,n))),i.sTitle!=r[0].innerHTML&&r.html(i.sTitle),Bt(e,"header")(e,r,i,c);if(u&&B(e.aoHeader,s),t(s).find(">tr").attr("role","row"),t(s).find(">tr>th, >tr>td").addClass(c.sHeaderTH),t(l).find(">tr>th, >tr>td").addClass(c.sFooterTH),null!==l){var d=e.aoFooter[0];for(n=0,a=d.length;n<a;n++)i=f[n],i.nTf=d[n].cell,i.sClass&&t(i.nTf).addClass(i.sClass)}}function k(e,n,r){var o,i,s,l,u,c,f,d,h,p=[],g=[],b=e.aoColumns.length;if(n){for(r===a&&(r=!1),o=0,i=n.length;o<i;o++){for(p[o]=n[o].slice(),p[o].nTr=n[o].nTr,s=b-1;s>=0;s--)e.aoColumns[s].bVisible||r||p[o].splice(s,1);g.push([])}for(o=0,i=p.length;o<i;o++){if(f=p[o].nTr)for(;c=f.firstChild;)f.removeChild(c);for(s=0,l=p[o].length;s<l;s++)if(d=1,h=1,g[o][s]===a){for(f.appendChild(p[o][s].cell),g[o][s]=1;p[o+d]!==a&&p[o][s].cell==p[o+d][s].cell;)g[o+d][s]=1,d++;for(;p[o][s+h]!==a&&p[o][s].cell==p[o][s+h].cell;){for(u=0;u<d;u++)g[o+u][s+h]=1;h++}t(p[o][s].cell).attr("rowspan",d).attr("colspan",h)}}}}function M(e){var n=Wt(e,"aoPreDrawCallback","preDraw",[e]);if(t.inArray(!1,n)!==-1)return void pt(e,!1);var r=[],o=0,i=e.asStripeClasses,s=i.length,l=(e.aoOpenRows.length,e.oLanguage),u=e.iInitDisplayStart,c="ssp"==Et(e),f=e.aiDisplay;e.bDrawing=!0,u!==a&&u!==-1&&(e._iDisplayStart=c?u:u>=e.fnRecordsDisplay()?0:u,e.iInitDisplayStart=-1);var d=e._iDisplayStart,h=e.fnDisplayEnd();if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,pt(e,!1);else if(c){if(!e.bDestroying&&!V(e))return}else e.iDraw++;if(0!==f.length)for(var p=c?0:d,g=c?e.aoData.length:h,v=p;v<g;v++){var S=f[v],m=e.aoData[S];null===m.nTr&&H(e,S);var D=m.nTr;if(0!==s){var y=i[o%s];m._sRowStripe!=y&&(t(D).removeClass(m._sRowStripe).addClass(y),m._sRowStripe=y)}Wt(e,"aoRowCallback",null,[D,m._aData,o,v]),r.push(D),o++}else{var _=l.sZeroRecords;1==e.iDraw&&"ajax"==Et(e)?_=l.sLoadingRecords:l.sEmptyTable&&0===e.fnRecordsTotal()&&(_=l.sEmptyTable),r[0]=t("<tr/>",{class:s?i[0]:""}).append(t("<td />",{valign:"top",colSpan:b(e),class:e.oClasses.sRowEmpty}).html(_))[0]}Wt(e,"aoHeaderCallback","header",[t(e.nTHead).children("tr")[0],F(e),d,h,f]),Wt(e,"aoFooterCallback","footer",[t(e.nTFoot).children("tr")[0],F(e),d,h,f]);var C=t(e.nTBody);C.children().detach(),C.append(t(r)),Wt(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}function W(t,e){var n=t.oFeatures,a=n.bSort,r=n.bFilter;a&&wt(t),r?z(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),e!==!0&&(t._iDisplayStart=0),t._drawHold=e,M(t),t._drawHold=!1}function U(e){var n=e.oClasses,a=t(e.nTable),r=t("<div/>").insertBefore(a),o=e.oFeatures,i=t("<div/>",{id:e.sTableId+"_wrapper",class:n.sWrapper+(e.nTFoot?"":" "+n.sNoFooter)});e.nHolding=r[0],e.nTableWrapper=i[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var s,l,u,c,f,d,h=e.sDom.split(""),p=0;p<h.length;p++){if(s=null,l=h[p],"<"==l){if(u=t("<div/>")[0],c=h[p+1],"'"==c||'"'==c){for(f="",d=2;h[p+d]!=c;)f+=h[p+d],d++;if("H"==f?f=n.sJUIHeader:"F"==f&&(f=n.sJUIFooter),f.indexOf(".")!=-1){var g=f.split(".");u.id=g[0].substr(1,g[0].length-1),u.className=g[1]}else"#"==f.charAt(0)?u.id=f.substr(1,f.length-1):u.className=f;p+=d}i.append(u),i=t(u)}else if(">"==l)i=i.parent();else if("l"==l&&o.bPaginate&&o.bLengthChange)s=ct(e);else if("f"==l&&o.bFilter)s=$(e);else if("r"==l&&o.bProcessing)s=ht(e);else if("t"==l)s=gt(e);else if("i"==l&&o.bInfo)s=rt(e);else if("p"==l&&o.bPaginate)s=ft(e);else if(0!==qt.ext.feature.length)for(var b=qt.ext.feature,v=0,S=b.length;v<S;v++)if(l==b[v].cFeature){s=b[v].fnInit(e);break}if(s){var m=e.aanFeatures;m[l]||(m[l]=[]),m[l].push(s),i.append(s)}}r.replaceWith(i),e.nHolding=null}function B(e,n){var a,r,o,i,s,l,u,c,f,d,h,p=t(n).children("tr"),g=function(t,e,n){for(var a=t[e];a[n];)n++;return n};for(e.splice(0,e.length),o=0,l=p.length;o<l;o++)e.push([]);for(o=0,l=p.length;o<l;o++)for(a=p[o],c=0,r=a.firstChild;r;){if("TD"==r.nodeName.toUpperCase()||"TH"==r.nodeName.toUpperCase())for(f=1*r.getAttribute("colspan"),d=1*r.getAttribute("rowspan"),f=f&&0!==f&&1!==f?f:1,d=d&&0!==d&&1!==d?d:1,u=g(e,o,c),h=1===f,s=0;s<f;s++)for(i=0;i<d;i++)e[o+i][u+s]={cell:r,unique:h},e[o+i].nTr=a;r=r.nextSibling}}function E(t,e,n){var a=[];n||(n=t.aoHeader,e&&(n=[],B(n,e)));for(var r=0,o=n.length;r<o;r++)for(var i=0,s=n[r].length;i<s;i++)!n[r][i].unique||a[i]&&t.bSortCellsTop||(a[i]=n[r][i].cell);return a}function J(e,n,a){if(Wt(e,"aoServerParams","serverParams",[n]),n&&t.isArray(n)){var r={},o=/(.*?)\[\]$/;t.each(n,function(t,e){var n=e.name.match(o);if(n){var a=n[0];r[a]||(r[a]=[]),r[a].push(e.value)}else r[e.name]=e.value}),n=r}var i,s=e.ajax,l=e.oInstance,u=function(t){Wt(e,null,"xhr",[e,t,e.jqXHR]),a(t)};if(t.isPlainObject(s)&&s.data){i=s.data;var c=t.isFunction(i)?i(n,e):i;n=t.isFunction(i)&&c?c:t.extend(!0,n,c),delete s.data}var f={data:n,success:function(t){var n=t.error||t.sError;n&&Ht(e,0,n),e.json=t,u(t)},dataType:"json",cache:!1,type:e.sServerMethod,error:function(n,a,r){var o=Wt(e,null,"xhr",[e,null,e.jqXHR]);t.inArray(!0,o)===-1&&("parsererror"==a?Ht(e,0,"Invalid JSON response",1):4===n.readyState&&Ht(e,0,"Ajax error",7)),pt(e,!1)}};e.oAjaxData=n,Wt(e,null,"preXhr",[e,n]),e.fnServerData?e.fnServerData.call(l,e.sAjaxSource,t.map(n,function(t,e){return{name:e,value:t}}),u,e):e.sAjaxSource||"string"==typeof s?e.jqXHR=t.ajax(t.extend(f,{url:s||e.sAjaxSource})):t.isFunction(s)?e.jqXHR=s.call(l,n,u,e):(e.jqXHR=t.ajax(t.extend(f,s)),s.data=i)}function V(t){return!t.bAjaxDataGet||(t.iDraw++,pt(t,!0),J(t,X(t),function(e){q(t,e)}),!1)}function X(e){var n,a,r,o,i=e.aoColumns,s=i.length,l=e.oFeatures,u=e.oPreviousSearch,c=e.aoPreSearchCols,f=[],d=Tt(e),h=e._iDisplayStart,p=l.bPaginate!==!1?e._iDisplayLength:-1,g=function(t,e){f.push({name:t,value:e})};g("sEcho",e.iDraw),g("iColumns",s),g("sColumns",ce(i,"sName").join(",")),g("iDisplayStart",h),g("iDisplayLength",p);var b={draw:e.iDraw,columns:[],order:[],start:h,length:p,search:{value:u.sSearch,regex:u.bRegex}};for(n=0;n<s;n++)r=i[n],o=c[n],a="function"==typeof r.mData?"function":r.mData,b.columns.push({data:a,name:r.sName,searchable:r.bSearchable,orderable:r.bSortable,search:{value:o.sSearch,regex:o.bRegex}}),g("mDataProp_"+n,a),l.bFilter&&(g("sSearch_"+n,o.sSearch),g("bRegex_"+n,o.bRegex),g("bSearchable_"+n,r.bSearchable)),l.bSort&&g("bSortable_"+n,r.bSortable);l.bFilter&&(g("sSearch",u.sSearch),g("bRegex",u.bRegex)),l.bSort&&(t.each(d,function(t,e){b.order.push({column:e.col,dir:e.dir}),g("iSortCol_"+t,e.col),g("sSortDir_"+t,e.dir)}),g("iSortingCols",d.length));var v=qt.ext.legacy.ajax;return null===v?e.sAjaxSource?f:b:v?f:b}function q(t,e){var n=function(t,n){return e[t]!==a?e[t]:e[n]},r=G(t,e),o=n("sEcho","draw"),i=n("iTotalRecords","recordsTotal"),s=n("iTotalDisplayRecords","recordsFiltered");if(o){if(1*o<t.iDraw)return;t.iDraw=1*o}L(t),t._iRecordsTotal=parseInt(i,10),t._iRecordsDisplay=parseInt(s,10);for(var l=0,u=r.length;l<u;l++)D(t,r[l]);t.aiDisplay=t.aiDisplayMaster.slice(),t.bAjaxDataGet=!1,M(t),t._bInitComplete||lt(t,e),t.bAjaxDataGet=!0,pt(t,!1)}function G(e,n){var r=t.isPlainObject(e.ajax)&&e.ajax.dataSrc!==a?e.ajax.dataSrc:e.sAjaxDataProp;return"data"===r?n.aaData||n[r]:""!==r?I(r)(n):n}function $(e){var a=e.oClasses,r=e.sTableId,o=e.oLanguage,i=e.oPreviousSearch,s=e.aanFeatures,l='<input type="search" class="'+a.sFilterInput+'"/>',u=o.sSearch;u=u.match(/_INPUT_/)?u.replace("_INPUT_",l):u+l;var c=t("<div/>",{id:s.f?null:r+"_filter",class:a.sFilter}).append(t("<label/>").append(u)),f=function(){var t=(s.f,this.value?this.value:"");t!=i.sSearch&&(z(e,{sSearch:t,bRegex:i.bRegex,bSmart:i.bSmart,bCaseInsensitive:i.bCaseInsensitive}),e._iDisplayStart=0,M(e))},d=null!==e.searchDelay?e.searchDelay:"ssp"===Et(e)?400:0,h=t("input",c).val(i.sSearch).attr("placeholder",o.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",d?mt(f,d):f).bind("keypress.DT",function(t){if(13==t.keyCode)return!1}).attr("aria-controls",r);return t(e.nTable).on("search.dt.DT",function(t,a){if(e===a)try{h[0]!==n.activeElement&&h.val(i.sSearch)}catch(t){}}),c[0]}function z(t,e,n){var r=t.oPreviousSearch,o=t.aoPreSearchCols,i=function(t){r.sSearch=t.sSearch,r.bRegex=t.bRegex,r.bSmart=t.bSmart,r.bCaseInsensitive=t.bCaseInsensitive},s=function(t){return t.bEscapeRegex!==a?!t.bEscapeRegex:t.bRegex};if(S(t),"ssp"!=Et(t)){Q(t,e.sSearch,n,s(e),e.bSmart,e.bCaseInsensitive),i(e);for(var l=0;l<o.length;l++)Z(t,o[l].sSearch,l,s(o[l]),o[l].bSmart,o[l].bCaseInsensitive);Y(t)}else i(e);t.bFiltered=!0,Wt(t,null,"search",[t])}function Y(e){for(var n,a,r=qt.ext.search,o=e.aiDisplay,i=0,s=r.length;i<s;i++){for(var l=[],u=0,c=o.length;u<c;u++)a=o[u],n=e.aoData[a],r[i](e,n._aFilterData,a,n._aData,u)&&l.push(a);o.length=0,t.merge(o,l)}}function Z(t,e,n,a,r,o){if(""!==e)for(var i,s=t.aiDisplay,l=K(e,a,r,o),u=s.length-1;u>=0;u--)i=t.aoData[s[u]]._aFilterData[n],l.test(i)||s.splice(u,1)}function Q(t,e,n,a,r,o){var i,s,l,u=K(e,a,r,o),c=t.oPreviousSearch.sSearch,f=t.aiDisplayMaster;if(0!==qt.ext.search.length&&(n=!0),s=et(t),e.length<=0)t.aiDisplay=f.slice();else for((s||n||c.length>e.length||0!==e.indexOf(c)||t.bSorted)&&(t.aiDisplay=f.slice()),i=t.aiDisplay,l=i.length-1;l>=0;l--)u.test(t.aoData[i[l]]._sFilterRow)||i.splice(l,1)}function K(e,n,a,r){if(e=n?e:tt(e),a){var o=t.map(e.match(/"[^"]+"|[^ ]+/g)||[""],function(t){if('"'===t.charAt(0)){var e=t.match(/^"(.*)"$/);t=e?e[1]:t}return t.replace('"',"")});e="^(?=.*?"+o.join(")(?=.*?")+").*$"}return new RegExp(e,r?"i":"")}function tt(t){return t.replace(ne,"\\$1")}function et(t){var e,n,a,r,o,i,s,l,u=t.aoColumns,c=qt.ext.type.search,f=!1;for(n=0,r=t.aoData.length;n<r;n++)if(l=t.aoData[n],!l._aFilterData){for(i=[],a=0,o=u.length;a<o;a++)e=u[a],e.bSearchable?(s=T(t,n,a,"filter"),c[e.sType]&&(s=c[e.sType](s)),null===s&&(s=""),"string"!=typeof s&&s.toString&&(s=s.toString())):s="",s.indexOf&&s.indexOf("&")!==-1&&(me.innerHTML=s,s=De?me.textContent:me.innerText),s.replace&&(s=s.replace(/[\r\n]/g,"")),i.push(s);l._aFilterData=i,l._sFilterRow=i.join("  "),f=!0}return f}function nt(t){return{search:t.sSearch,smart:t.bSmart,regex:t.bRegex,caseInsensitive:t.bCaseInsensitive}}function at(t){return{sSearch:t.search,bSmart:t.smart,bRegex:t.regex,bCaseInsensitive:t.caseInsensitive}}function rt(e){var n=e.sTableId,a=e.aanFeatures.i,r=t("<div/>",{class:e.oClasses.sInfo,id:a?null:n+"_info"});return a||(e.aoDrawCallback.push({fn:ot,sName:"information"}),r.attr("role","status").attr("aria-live","polite"),t(e.nTable).attr("aria-describedby",n+"_info")),r[0]}function ot(e){var n=e.aanFeatures.i;if(0!==n.length){var a=e.oLanguage,r=e._iDisplayStart+1,o=e.fnDisplayEnd(),i=e.fnRecordsTotal(),s=e.fnRecordsDisplay(),l=s?a.sInfo:a.sInfoEmpty;s!==i&&(l+=" "+a.sInfoFiltered),l+=a.sInfoPostFix,l=it(e,l);var u=a.fnInfoCallback;null!==u&&(l=u.call(e.oInstance,e,r,o,i,s,l)),t(n).html(l)}}function it(t,e){var n=t.fnFormatNumber,a=t._iDisplayStart+1,r=t._iDisplayLength,o=t.fnRecordsDisplay(),i=r===-1;return e.replace(/_START_/g,n.call(t,a)).replace(/_END_/g,n.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,n.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(t,o)).replace(/_PAGE_/g,n.call(t,i?1:Math.ceil(a/r))).replace(/_PAGES_/g,n.call(t,i?1:Math.ceil(o/r)))}function st(t){var e,n,a,r=t.iInitDisplayStart,o=t.aoColumns,i=t.oFeatures,s=t.bDeferLoading;if(!t.bInitialised)return void setTimeout(function(){st(t)},200);for(U(t),O(t),k(t,t.aoHeader),k(t,t.aoFooter),pt(t,!0),i.bAutoWidth&&St(t),e=0,n=o.length;e<n;e++)a=o[e],a.sWidth&&(a.nTh.style.width=Ct(a.sWidth));Wt(t,null,"preInit",[t]),W(t);var l=Et(t);("ssp"!=l||s)&&("ajax"==l?J(t,[],function(n){var a=G(t,n);for(e=0;e<a.length;e++)D(t,a[e]);t.iInitDisplayStart=r,W(t),pt(t,!1),lt(t,n)},t):(pt(t,!1),lt(t)))}function lt(t,e){t._bInitComplete=!0,(e||t.oInit.aaData)&&h(t),Wt(t,null,"plugin-init",[t,e]),Wt(t,"aoInitComplete","init",[t,e])}function ut(t,e){var n=parseInt(e,10);t._iDisplayLength=n,Ut(t),Wt(t,null,"length",[t,n])}function ct(e){for(var n=e.oClasses,a=e.sTableId,r=e.aLengthMenu,o=t.isArray(r[0]),i=o?r[0]:r,s=o?r[1]:r,l=t("<select/>",{name:a+"_length","aria-controls":a,class:n.sLengthSelect}),u=0,c=i.length;u<c;u++)l[0][u]=new Option(s[u],i[u]);var f=t("<div><label/></div>").addClass(n.sLength);return e.aanFeatures.l||(f[0].id=a+"_length"),f.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",l[0].outerHTML)),t("select",f).val(e._iDisplayLength).bind("change.DT",function(n){ut(e,t(this).val()),M(e)}),t(e.nTable).bind("length.dt.DT",function(n,a,r){e===a&&t("select",f).val(r)}),f[0]}function ft(e){var n=e.sPaginationType,a=qt.ext.pager[n],r="function"==typeof a,o=function(t){M(t)},i=t("<div/>").addClass(e.oClasses.sPaging+n)[0],s=e.aanFeatures;return r||a.fnInit(e,i,o),s.p||(i.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(t){if(r){var e,n,i=t._iDisplayStart,l=t._iDisplayLength,u=t.fnRecordsDisplay(),c=l===-1,f=c?0:Math.ceil(i/l),d=c?1:Math.ceil(u/l),h=a(f,d);for(e=0,n=s.p.length;e<n;e++)Bt(t,"pageButton")(t,s.p[e],e,h,f,d)}else a.fnUpdate(t,o)},sName:"pagination"})),i}function dt(t,e,n){var a=t._iDisplayStart,r=t._iDisplayLength,o=t.fnRecordsDisplay();0===o||r===-1?a=0:"number"==typeof e?(a=e*r,a>o&&(a=0)):"first"==e?a=0:"previous"==e?(a=r>=0?a-r:0,a<0&&(a=0)):"next"==e?a+r<o&&(a+=r):"last"==e?a=Math.floor((o-1)/r)*r:Ht(t,0,"Unknown paging action: "+e,5);var i=t._iDisplayStart!==a;return t._iDisplayStart=a,i&&(Wt(t,null,"page",[t]),n&&M(t)),i}function ht(e){return t("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing",class:e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).insertBefore(e.nTable)[0]}function pt(e,n){e.oFeatures.bProcessing&&t(e.aanFeatures.r).css("display",n?"block":"none"),Wt(e,null,"processing",[e,n])}function gt(e){var n=t(e.nTable);n.attr("role","grid");var a=e.oScroll;if(""===a.sX&&""===a.sY)return e.nTable;var r=a.sX,o=a.sY,i=e.oClasses,s=n.children("caption"),l=s.length?s[0]._captionSide:null,u=t(n[0].cloneNode(!1)),c=t(n[0].cloneNode(!1)),f=n.children("tfoot"),d="<div/>",h=function(t){return t?Ct(t):null};f.length||(f=null);var p=t(d,{class:i.sScrollWrapper}).append(t(d,{class:i.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:r?h(r):"100%"}).append(t(d,{class:i.sScrollHeadInner}).css({"box-sizing":"content-box",width:a.sXInner||"100%"}).append(u.removeAttr("id").css("margin-left",0).append("top"===l?s:null).append(n.children("thead"))))).append(t(d,{class:i.sScrollBody}).css({position:"relative",overflow:"auto",width:h(r)}).append(n));f&&p.append(t(d,{class:i.sScrollFoot}).css({overflow:"hidden",border:0,width:r?h(r):"100%"}).append(t(d,{class:i.sScrollFootInner}).append(c.removeAttr("id").css("margin-left",0).append("bottom"===l?s:null).append(n.children("tfoot")))));var g=p.children(),b=g[0],v=g[1],S=f?g[2]:null;return r&&t(v).on("scroll.DT",function(t){var e=this.scrollLeft;b.scrollLeft=e,f&&(S.scrollLeft=e)}),t(v).css(o&&a.bCollapse?"max-height":"height",o),e.nScrollHead=b,e.nScrollBody=v,e.nScrollFoot=S,e.aoDrawCallback.push({fn:bt,sName:"scrolling"}),p[0]}function bt(e){var n,r,o,i,s,l,u,c,f,d=e.oScroll,g=d.sX,b=d.sXInner,v=d.sY,S=d.iBarWidth,m=t(e.nScrollHead),D=m[0].style,y=m.children("div"),_=y[0].style,C=y.children("table"),T=e.nScrollBody,w=t(T),x=T.style,I=t(e.nScrollFoot),A=I.children("div"),F=A.children("table"),L=t(e.nTHead),P=t(e.nTable),R=P[0],j=R.style,H=e.nTFoot?t(e.nTFoot):null,N=e.oBrowser,O=N.bScrollOversize,k=[],M=[],W=[],U=function(t){var e=t.style;e.paddingTop="0",e.paddingBottom="0",e.borderTopWidth="0",e.borderBottomWidth="0",e.height=0},B=T.scrollHeight>T.clientHeight;if(e.scrollBarVis!==B&&e.scrollBarVis!==a)return e.scrollBarVis=B,void h(e);e.scrollBarVis=B,P.children("thead, tfoot").remove(),s=L.clone().prependTo(P),n=L.find("tr"),o=s.find("tr"),s.find("th, td").removeAttr("tabindex"),H&&(l=H.clone().prependTo(P),r=H.find("tr"),i=l.find("tr")),g||(x.width="100%",m[0].style.width="100%"),t.each(E(e,s),function(t,n){u=p(e,t),n.style.width=e.aoColumns[u].sWidth}),H&&vt(function(t){t.style.width=""},i),f=P.outerWidth(),""===g?(j.width="100%",O&&(P.find("tbody").height()>T.offsetHeight||"scroll"==w.css("overflow-y"))&&(j.width=Ct(P.outerWidth()-S)),f=P.outerWidth()):""!==b&&(j.width=Ct(b),f=P.outerWidth()),vt(U,o),vt(function(e){W.push(e.innerHTML),k.push(Ct(t(e).css("width")))},o),vt(function(t,e){t.style.width=k[e]},n),t(o).height(0),H&&(vt(U,i),vt(function(e){M.push(Ct(t(e).css("width")))},i),vt(function(t,e){t.style.width=M[e]},r),t(i).height(0)),vt(function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+W[e]+"</div>",t.style.width=k[e]},o),H&&vt(function(t,e){t.innerHTML="",t.style.width=M[e]},i),P.outerWidth()<f?(c=T.scrollHeight>T.offsetHeight||"scroll"==w.css("overflow-y")?f+S:f,O&&(T.scrollHeight>T.offsetHeight||"scroll"==w.css("overflow-y"))&&(j.width=Ct(c-S)),""!==g&&""===b||Ht(e,1,"Possible column misalignment",6)):c="100%",x.width=Ct(c),D.width=Ct(c),H&&(e.nScrollFoot.style.width=Ct(c)),v||O&&(x.height=Ct(R.offsetHeight+S));var J=P.outerWidth();C[0].style.width=Ct(J),_.width=Ct(J);var V=P.height()>T.clientHeight||"scroll"==w.css("overflow-y"),X="padding"+(N.bScrollbarLeft?"Left":"Right");_[X]=V?S+"px":"0px",H&&(F[0].style.width=Ct(J),A[0].style.width=Ct(J),A[0].style[X]=V?S+"px":"0px"),w.scroll(),!e.bSorted&&!e.bFiltered||e._drawHold||(T.scrollTop=0)}function vt(t,e,n){for(var a,r,o=0,i=0,s=e.length;i<s;){for(a=e[i].firstChild,r=n?n[i].firstChild:null;a;)1===a.nodeType&&(n?t(a,r,o):t(a,o),o++),a=a.nextSibling,r=n?r.nextSibling:null;i++}}function St(n){var a,r,o,i=n.nTable,s=n.aoColumns,l=n.oScroll,u=l.sY,c=l.sX,f=l.sXInner,d=s.length,g=v(n,"bVisible"),S=t("th",n.nTHead),m=i.getAttribute("width"),D=i.parentNode,y=!1,_=n.oBrowser,C=_.bScrollOversize,T=i.style.width;for(T&&T.indexOf("%")!==-1&&(m=T),a=0;a<g.length;a++)r=s[g[a]],null!==r.sWidth&&(r.sWidth=Dt(r.sWidthOrig,D),y=!0);if(C||!y&&!c&&!u&&d==b(n)&&d==S.length)for(a=0;a<d;a++){var w=p(n,a);null!==w&&(s[w].sWidth=Ct(S.eq(a).width()))}else{var x=t(i).clone().css("visibility","hidden").removeAttr("id");x.find("tbody tr").remove();var I=t("<tr/>").appendTo(x.find("tbody"));for(x.find("thead, tfoot").remove(),x.append(t(n.nTHead).clone()).append(t(n.nTFoot).clone()),x.find("tfoot th, tfoot td").css("width",""),S=E(n,x.find("thead")[0]),a=0;a<g.length;a++)r=s[g[a]],S[a].style.width=null!==r.sWidthOrig&&""!==r.sWidthOrig?Ct(r.sWidthOrig):"",r.sWidthOrig&&c&&t(S[a]).append(t("<div/>").css({width:r.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(n.aoData.length)for(a=0;a<g.length;a++)o=g[a],r=s[o],t(yt(n,o)).clone(!1).append(r.sContentPadding).appendTo(I);var A=t("<div/>").css(c||u?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(x).appendTo(D);c&&f?x.width(f):c?(x.css("width","auto"),x.removeAttr("width"),x.width()<D.clientWidth&&m&&x.width(D.clientWidth)):u?x.width(D.clientWidth):m&&x.width(m);var F=0;for(a=0;a<g.length;a++){var L=t(S[a]),P=L.outerWidth()-L.width(),R=_.bBounding?Math.ceil(S[a].getBoundingClientRect().width):L.outerWidth();F+=R,s[g[a]].sWidth=Ct(R-P)}i.style.width=Ct(F),A.remove()}if(m&&(i.style.width=Ct(m)),(m||c)&&!n._reszEvt){var j=function(){t(e).bind("resize.DT-"+n.sInstance,mt(function(){h(n)}))};C?setTimeout(j,1e3):j(),n._reszEvt=!0}}function mt(t,e){var n,r,o=e!==a?e:200;return function(){var e=this,i=+new Date,s=arguments;n&&i<n+o?(clearTimeout(r),r=setTimeout(function(){n=a,t.apply(e,s)},o)):(n=i,t.apply(e,s))}}function Dt(e,a){if(!e)return 0;var r=t("<div/>").css("width",Ct(e)).appendTo(a||n.body),o=r[0].offsetWidth;return r.remove(),o}function yt(e,n){var a=_t(e,n);if(a<0)return null;var r=e.aoData[a];return r.nTr?r.anCells[n]:t("<td/>").html(T(e,a,n,"display"))[0]}function _t(t,e){for(var n,a=-1,r=-1,o=0,i=t.aoData.length;o<i;o++)n=T(t,o,e,"display")+"",n=n.replace(ye,""),n=n.replace(/&nbsp;/g," "),n.length>a&&(a=n.length,r=o);return r}function Ct(t){return null===t?"0px":"number"==typeof t?t<0?"0px":t+"px":t.match(/\d$/)?t+"px":t}function Tt(e){var n,r,o,i,s,l,u,c=[],f=e.aoColumns,d=e.aaSortingFixed,h=t.isPlainObject(d),p=[],g=function(e){e.length&&!t.isArray(e[0])?p.push(e):t.merge(p,e)};for(t.isArray(d)&&g(d),h&&d.pre&&g(d.pre),g(e.aaSorting),h&&d.post&&g(d.post),n=0;n<p.length;n++)for(u=p[n][0],i=f[u].aDataSort,r=0,o=i.length;r<o;r++)s=i[r],l=f[s].sType||"string",p[n]._idx===a&&(p[n]._idx=t.inArray(p[n][1],f[s].asSorting)),c.push({src:u,col:s,dir:p[n][1],index:p[n]._idx,type:l,formatter:qt.ext.type.order[l+"-pre"]});return c}function wt(t){var e,n,a,r,o,i=[],s=qt.ext.type.order,l=t.aoData,u=(t.aoColumns,0),c=t.aiDisplayMaster;for(S(t),o=Tt(t),e=0,n=o.length;e<n;e++)r=o[e],r.formatter&&u++,Lt(t,r.col);if("ssp"!=Et(t)&&0!==o.length){for(e=0,a=c.length;e<a;e++)i[c[e]]=e;u===o.length?c.sort(function(t,e){var n,a,r,s,u,c=o.length,f=l[t]._aSortData,d=l[e]._aSortData;for(r=0;r<c;r++)if(u=o[r],n=f[u.col],a=d[u.col],s=n<a?-1:n>a?1:0,0!==s)return"asc"===u.dir?s:-s;return n=i[t],a=i[e],n<a?-1:n>a?1:0}):c.sort(function(t,e){var n,a,r,u,c,f,d=o.length,h=l[t]._aSortData,p=l[e]._aSortData;for(r=0;r<d;r++)if(c=o[r],
n=h[c.col],a=p[c.col],f=s[c.type+"-"+c.dir]||s["string-"+c.dir],u=f(n,a),0!==u)return u;return n=i[t],a=i[e],n<a?-1:n>a?1:0})}t.bSorted=!0}function xt(t){for(var e,n,a=t.aoColumns,r=Tt(t),o=t.oLanguage.oAria,i=0,s=a.length;i<s;i++){var l=a[i],u=l.asSorting,c=l.sTitle.replace(/<.*?>/g,""),f=l.nTh;f.removeAttribute("aria-sort"),l.bSortable?(r.length>0&&r[0].col==i?(f.setAttribute("aria-sort","asc"==r[0].dir?"ascending":"descending"),n=u[r[0].index+1]||u[0]):n=u[0],e=c+("asc"===n?o.sSortAscending:o.sSortDescending)):e=c,f.setAttribute("aria-label",e)}}function It(e,n,r,o){var i,s=e.aoColumns[n],l=e.aaSorting,u=s.asSorting,c=function(e,n){var r=e._idx;return r===a&&(r=t.inArray(e[1],u)),r+1<u.length?r+1:n?null:0};if("number"==typeof l[0]&&(l=e.aaSorting=[l]),r&&e.oFeatures.bSortMulti){var f=t.inArray(n,ce(l,"0"));f!==-1?(i=c(l[f],!0),null===i&&1===l.length&&(i=0),null===i?l.splice(f,1):(l[f][1]=u[i],l[f]._idx=i)):(l.push([n,u[0],0]),l[l.length-1]._idx=0)}else l.length&&l[0][0]==n?(i=c(l[0]),l.length=1,l[0][1]=u[i],l[0]._idx=i):(l.length=0,l.push([n,u[0]]),l[0]._idx=0);W(e),"function"==typeof o&&o(e)}function At(t,e,n,a){var r=t.aoColumns[n];kt(e,{},function(e){r.bSortable!==!1&&(t.oFeatures.bProcessing?(pt(t,!0),setTimeout(function(){It(t,n,e.shiftKey,a),"ssp"!==Et(t)&&pt(t,!1)},0)):It(t,n,e.shiftKey,a))})}function Ft(e){var n,a,r,o=e.aLastSort,i=e.oClasses.sSortColumn,s=Tt(e),l=e.oFeatures;if(l.bSort&&l.bSortClasses){for(n=0,a=o.length;n<a;n++)r=o[n].src,t(ce(e.aoData,"anCells",r)).removeClass(i+(n<2?n+1:3));for(n=0,a=s.length;n<a;n++)r=s[n].src,t(ce(e.aoData,"anCells",r)).addClass(i+(n<2?n+1:3))}e.aLastSort=s}function Lt(t,e){var n,a=t.aoColumns[e],r=qt.ext.order[a.sSortDataType];r&&(n=r.call(t.oInstance,t,e,g(t,e)));for(var o,i,s=qt.ext.type.order[a.sType+"-pre"],l=0,u=t.aoData.length;l<u;l++)o=t.aoData[l],o._aSortData||(o._aSortData=[]),o._aSortData[e]&&!r||(i=r?n[l]:T(t,l,e,"sort"),o._aSortData[e]=s?s(i):i)}function Pt(e){if(e.oFeatures.bStateSave&&!e.bDestroying){var n={time:+new Date,start:e._iDisplayStart,length:e._iDisplayLength,order:t.extend(!0,[],e.aaSorting),search:nt(e.oPreviousSearch),columns:t.map(e.aoColumns,function(t,n){return{visible:t.bVisible,search:nt(e.aoPreSearchCols[n])}})};Wt(e,"aoStateSaveParams","stateSaveParams",[e,n]),e.oSavedState=n,e.fnStateSaveCallback.call(e.oInstance,e,n)}}function Rt(e,n){var r,o,i=e.aoColumns;if(e.oFeatures.bStateSave){var s=e.fnStateLoadCallback.call(e.oInstance,e);if(s&&s.time){var l=Wt(e,"aoStateLoadParams","stateLoadParams",[e,s]);if(t.inArray(!1,l)===-1){var u=e.iStateDuration;if(!(u>0&&s.time<+new Date-1e3*u)&&i.length===s.columns.length){for(e.oLoadedState=t.extend(!0,{},s),s.start!==a&&(e._iDisplayStart=s.start,e.iInitDisplayStart=s.start),s.length!==a&&(e._iDisplayLength=s.length),s.order!==a&&(e.aaSorting=[],t.each(s.order,function(t,n){e.aaSorting.push(n[0]>=i.length?[0,n[1]]:n)})),s.search!==a&&t.extend(e.oPreviousSearch,at(s.search)),r=0,o=s.columns.length;r<o;r++){var c=s.columns[r];c.visible!==a&&(i[r].bVisible=c.visible),c.search!==a&&t.extend(e.aoPreSearchCols[r],at(c.search))}Wt(e,"aoStateLoaded","stateLoaded",[e,s])}}}}}function jt(e){var n=qt.settings,a=t.inArray(e,ce(n,"nTable"));return a!==-1?n[a]:null}function Ht(t,n,a,r){if(a="DataTables warning: "+(t?"table id="+t.sTableId+" - ":"")+a,r&&(a+=". For more information about this error, please see http://datatables.net/tn/"+r),n)e.console&&console.log&&console.log(a);else{var o=qt.ext,i=o.sErrMode||o.errMode;if(t&&Wt(t,null,"error",[t,r,a]),"alert"==i)alert(a);else{if("throw"==i)throw new Error(a);"function"==typeof i&&i(t,r,a)}}}function Nt(e,n,r,o){return t.isArray(r)?void t.each(r,function(a,r){t.isArray(r)?Nt(e,n,r[0],r[1]):Nt(e,n,r)}):(o===a&&(o=r),void(n[r]!==a&&(e[o]=n[r])))}function Ot(e,n,a){var r;for(var o in n)n.hasOwnProperty(o)&&(r=n[o],t.isPlainObject(r)?(t.isPlainObject(e[o])||(e[o]={}),t.extend(!0,e[o],r)):a&&"data"!==o&&"aaData"!==o&&t.isArray(r)?e[o]=r.slice():e[o]=r);return e}function kt(e,n,a){t(e).bind("click.DT",n,function(t){e.blur(),a(t)}).bind("keypress.DT",n,function(t){13===t.which&&(t.preventDefault(),a(t))}).bind("selectstart.DT",function(){return!1})}function Mt(t,e,n,a){n&&t[e].push({fn:n,sName:a})}function Wt(e,n,a,r){var o=[];if(n&&(o=t.map(e[n].slice().reverse(),function(t,n){return t.fn.apply(e.oInstance,r)})),null!==a){var i=t.Event(a+".dt");t(e.nTable).trigger(i,r),o.push(i.result)}return o}function Ut(t){var e=t._iDisplayStart,n=t.fnDisplayEnd(),a=t._iDisplayLength;e>=n&&(e=n-a),e-=e%a,(a===-1||e<0)&&(e=0),t._iDisplayStart=e}function Bt(e,n){var a=e.renderer,r=qt.ext.renderer[n];return t.isPlainObject(a)&&a[n]?r[a[n]]||r._:"string"==typeof a?r[a]||r._:r._}function Et(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}function Jt(t,e){var n=[],a=Ve.numbers_length,r=Math.floor(a/2);return e<=a?n=de(0,e):t<=r?(n=de(0,a-2),n.push("ellipsis"),n.push(e-1)):t>=e-1-r?(n=de(e-(a-2),e),n.splice(0,0,"ellipsis"),n.splice(0,0,0)):(n=de(t-r+2,t+r-1),n.push("ellipsis"),n.push(e-1),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}function Vt(e){t.each({num:function(t){return Xe(t,e)},"num-fmt":function(t){return Xe(t,e,ae)},"html-num":function(t){return Xe(t,e,Kt)},"html-num-fmt":function(t){return Xe(t,e,Kt,ae)}},function(t,n){Gt.type.order[t+e+"-pre"]=n,t.match(/^html\-/)&&(Gt.type.search[t+e]=Gt.type.search.html)})}function Xt(t){return function(){var e=[jt(this[qt.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return qt.ext.internal[t].apply(this,e)}}var qt,Gt,$t,zt,Yt,Zt={},Qt=/[\r\n]/g,Kt=/<.*?>/g,te=/^[\w\+\-]/,ee=/[\w\+\-]$/,ne=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),ae=/[',$%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,re=function(t){return!t||t===!0||"-"===t},oe=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},ie=function(t,e){return Zt[e]||(Zt[e]=new RegExp(tt(e),"g")),"string"==typeof t&&"."!==e?t.replace(/\./g,"").replace(Zt[e],"."):t},se=function(t,e,n){var a="string"==typeof t;return!!re(t)||(e&&a&&(t=ie(t,e)),n&&a&&(t=t.replace(ae,"")),!isNaN(parseFloat(t))&&isFinite(t))},le=function(t){return re(t)||"string"==typeof t},ue=function(t,e,n){if(re(t))return!0;var a=le(t);return a?!!se(pe(t),e,n)||null:null},ce=function(t,e,n){var r=[],o=0,i=t.length;if(n!==a)for(;o<i;o++)t[o]&&t[o][e]&&r.push(t[o][e][n]);else for(;o<i;o++)t[o]&&r.push(t[o][e]);return r},fe=function(t,e,n,r){var o=[],i=0,s=e.length;if(r!==a)for(;i<s;i++)t[e[i]][n]&&o.push(t[e[i]][n][r]);else for(;i<s;i++)o.push(t[e[i]][n]);return o},de=function(t,e){var n,r=[];e===a?(e=0,n=t):(n=e,e=t);for(var o=e;o<n;o++)r.push(o);return r},he=function(t){for(var e=[],n=0,a=t.length;n<a;n++)t[n]&&e.push(t[n]);return e},pe=function(t){return t.replace(Kt,"")},ge=function(t){var e,n,a,r=[],o=t.length,i=0;t:for(n=0;n<o;n++){for(e=t[n],a=0;a<i;a++)if(r[a]===e)continue t;r.push(e),i++}return r},be=function(t,e,n){t[e]!==a&&(t[n]=t[e])},ve=/\[.*?\]$/,Se=/\(\)$/,me=t("<div>")[0],De=me.textContent!==a,ye=/<.*?>/g;qt=function(e){this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(t){return new $t(t?jt(this[Gt.iApiIndex]):this)},this.fnAddData=function(e,n){var r=this.api(!0),o=t.isArray(e)&&(t.isArray(e[0])||t.isPlainObject(e[0]))?r.rows.add(e):r.row.add(e);return(n===a||n)&&r.draw(),o.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),n=e.settings()[0],r=n.oScroll;t===a||t?e.draw(!1):""===r.sX&&""===r.sY||bt(n)},this.fnClearTable=function(t){var e=this.api(!0).clear();(t===a||t)&&e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,n){var r=this.api(!0),o=r.rows(t),i=o.settings()[0],s=i.aoData[o[0][0]];return o.remove(),e&&e.call(this,i,s),(n===a||n)&&r.draw(),s},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(t)},this.fnFilter=function(t,e,n,r,o,i){var s=this.api(!0);null===e||e===a?s.search(t,n,r,i):s.column(e).search(t,n,r,i),s.draw()},this.fnGetData=function(t,e){var n=this.api(!0);if(t!==a){var r=t.nodeName?t.nodeName.toLowerCase():"";return e!==a||"td"==r||"th"==r?n.cell(t,e).data():n.row(t).data()||null}return n.data().toArray()},this.fnGetNodes=function(t){var e=this.api(!0);return t!==a?e.row(t).node():e.rows().nodes().flatten().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),n=t.nodeName.toUpperCase();if("TR"==n)return e.row(t).index();if("TD"==n||"TH"==n){var a=e.cell(t).index();return[a.row,a.columnVisible,a.column]}return null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,n){return this.api(!0).row(t).child(e,n).show().child()[0]},this.fnPageChange=function(t,e){var n=this.api(!0).page(t);(e===a||e)&&n.draw(!1)},this.fnSetColumnVis=function(t,e,n){var r=this.api(!0).column(t).visible(e);(n===a||n)&&r.columns.adjust().draw()},this.fnSettings=function(){return jt(this[Gt.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,n){this.api(!0).order.listener(t,e,n)},this.fnUpdate=function(t,e,n,r,o){var i=this.api(!0);return n===a||null===n?i.row(e).data(t):i.cell(e,n).data(t),(o===a||o)&&i.columns.adjust(),(r===a||r)&&i.draw(),0},this.fnVersionCheck=Gt.fnVersionCheck;var n=this,r=e===a,c=this.length;r&&(e={}),this.oApi=this.internal=Gt.internal;for(var h in qt.ext.internal)h&&(this[h]=Xt(h));return this.each(function(){var h,p={},g=c>1?Ot(p,e,!0):e,b=0,v=this.getAttribute("id"),S=!1,_=qt.defaults,C=t(this);if("table"!=this.nodeName.toLowerCase())return void Ht(null,0,"Non-table node initialisation ("+this.nodeName+")",2);s(_),l(_.column),o(_,_,!0),o(_.column,_.column,!0),o(_,t.extend(g,C.data()));var T=qt.settings;for(b=0,h=T.length;b<h;b++){var w=T[b];if(w.nTable==this||w.nTHead.parentNode==this||w.nTFoot&&w.nTFoot.parentNode==this){var x=g.bRetrieve!==a?g.bRetrieve:_.bRetrieve,A=g.bDestroy!==a?g.bDestroy:_.bDestroy;if(r||x)return w.oInstance;if(A){w.oInstance.fnDestroy();break}return void Ht(w,0,"Cannot reinitialise DataTable",3)}if(w.sTableId==this.id){T.splice(b,1);break}}null!==v&&""!==v||(v="DataTables_Table_"+qt.ext._unique++,this.id=v);var F=t.extend(!0,{},qt.models.oSettings,{sDestroyWidth:C[0].style.width,sInstance:v,sTableId:v});F.nTable=this,F.oApi=n.internal,F.oInit=g,T.push(F),F.oInstance=1===n.length?n:C.dataTable(),s(g),g.oLanguage&&i(g.oLanguage),g.aLengthMenu&&!g.iDisplayLength&&(g.iDisplayLength=t.isArray(g.aLengthMenu[0])?g.aLengthMenu[0][0]:g.aLengthMenu[0]),g=Ot(t.extend(!0,{},_),g),Nt(F.oFeatures,g,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),Nt(F,g,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),Nt(F.oScroll,g,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Nt(F.oLanguage,g,"fnInfoCallback"),Mt(F,"aoDrawCallback",g.fnDrawCallback,"user"),Mt(F,"aoServerParams",g.fnServerParams,"user"),Mt(F,"aoStateSaveParams",g.fnStateSaveParams,"user"),Mt(F,"aoStateLoadParams",g.fnStateLoadParams,"user"),Mt(F,"aoStateLoaded",g.fnStateLoaded,"user"),Mt(F,"aoRowCallback",g.fnRowCallback,"user"),Mt(F,"aoRowCreatedCallback",g.fnCreatedRow,"user"),Mt(F,"aoHeaderCallback",g.fnHeaderCallback,"user"),Mt(F,"aoFooterCallback",g.fnFooterCallback,"user"),Mt(F,"aoInitComplete",g.fnInitComplete,"user"),Mt(F,"aoPreDrawCallback",g.fnPreDrawCallback,"user"),F.rowIdFn=I(g.rowId),u(F);var L=F.oClasses;if(g.bJQueryUI?(t.extend(L,qt.ext.oJUIClasses,g.oClasses),g.sDom===_.sDom&&"lfrtip"===_.sDom&&(F.sDom='<"H"lfr>t<"F"ip>'),F.renderer?t.isPlainObject(F.renderer)&&!F.renderer.header&&(F.renderer.header="jqueryui"):F.renderer="jqueryui"):t.extend(L,qt.ext.classes,g.oClasses),C.addClass(L.sTable),F.iInitDisplayStart===a&&(F.iInitDisplayStart=g.iDisplayStart,F._iDisplayStart=g.iDisplayStart),null!==g.iDeferLoading){F.bDeferLoading=!0;var P=t.isArray(g.iDeferLoading);F._iRecordsDisplay=P?g.iDeferLoading[0]:g.iDeferLoading,F._iRecordsTotal=P?g.iDeferLoading[1]:g.iDeferLoading}var R=F.oLanguage;t.extend(!0,R,g.oLanguage),""!==R.sUrl&&(t.ajax({dataType:"json",url:R.sUrl,success:function(e){i(e),o(_.oLanguage,e),t.extend(!0,R,e),st(F)},error:function(){st(F)}}),S=!0),null===g.asStripeClasses&&(F.asStripeClasses=[L.sStripeOdd,L.sStripeEven]);var j=F.asStripeClasses,H=C.children("tbody").find("tr").eq(0);t.inArray(!0,t.map(j,function(t,e){return H.hasClass(t)}))!==-1&&(t("tbody tr",this).removeClass(j.join(" ")),F.asDestroyStripes=j.slice());var N,O=[],k=this.getElementsByTagName("thead");if(0!==k.length&&(B(F.aoHeader,k[0]),O=E(F)),null===g.aoColumns)for(N=[],b=0,h=O.length;b<h;b++)N.push(null);else N=g.aoColumns;for(b=0,h=N.length;b<h;b++)f(F,O?O[b]:null);if(m(F,g.aoColumnDefs,N,function(t,e){d(F,t,e)}),H.length){var M=function(t,e){return null!==t.getAttribute("data-"+e)?e:null};t(H[0]).children("th, td").each(function(t,e){var n=F.aoColumns[t];if(n.mData===t){var r=M(e,"sort")||M(e,"order"),o=M(e,"filter")||M(e,"search");null===r&&null===o||(n.mData={_:t+".display",sort:null!==r?t+".@data-"+r:a,type:null!==r?t+".@data-"+r:a,filter:null!==o?t+".@data-"+o:a},d(F,t))}})}var W=F.oFeatures;if(g.bStateSave&&(W.bStateSave=!0,Rt(F,g),Mt(F,"aoDrawCallback",Pt,"state_save")),g.aaSorting===a){var U=F.aaSorting;for(b=0,h=U.length;b<h;b++)U[b][1]=F.aoColumns[b].asSorting[0]}Ft(F),W.bSort&&Mt(F,"aoDrawCallback",function(){if(F.bSorted){var e=Tt(F),n={};t.each(e,function(t,e){n[e.src]=e.dir}),Wt(F,null,"order",[F,e,n]),xt(F)}}),Mt(F,"aoDrawCallback",function(){(F.bSorted||"ssp"===Et(F)||W.bDeferRender)&&Ft(F)},"sc");var J=C.children("caption").each(function(){this._captionSide=C.css("caption-side")}),V=C.children("thead");0===V.length&&(V=t("<thead/>").appendTo(this)),F.nTHead=V[0];var X=C.children("tbody");0===X.length&&(X=t("<tbody/>").appendTo(this)),F.nTBody=X[0];var q=C.children("tfoot");if(0===q.length&&J.length>0&&(""!==F.oScroll.sX||""!==F.oScroll.sY)&&(q=t("<tfoot/>").appendTo(this)),0===q.length||0===q.children().length?C.addClass(L.sNoFooter):q.length>0&&(F.nTFoot=q[0],B(F.aoFooter,F.nTFoot)),g.aaData)for(b=0;b<g.aaData.length;b++)D(F,g.aaData[b]);else(F.bDeferLoading||"dom"==Et(F))&&y(F,t(F.nTBody).children("tr"));F.aiDisplay=F.aiDisplayMaster.slice(),F.bInitialised=!0,S===!1&&st(F)}),n=null,this};var _e=[],Ce=Array.prototype,Te=function(e){var n,a,r=qt.settings,o=t.map(r,function(t,e){return t.nTable});return e?e.nTable&&e.oApi?[e]:e.nodeName&&"table"===e.nodeName.toLowerCase()?(n=t.inArray(e,o),n!==-1?[r[n]]:null):e&&"function"==typeof e.settings?e.settings().toArray():("string"==typeof e?a=t(e):e instanceof t&&(a=e),a?a.map(function(e){return n=t.inArray(this,o),n!==-1?r[n]:null}).toArray():void 0):[]};$t=function(e,n){if(!(this instanceof $t))return new $t(e,n);var a=[],r=function(t){var e=Te(t);e&&(a=a.concat(e))};if(t.isArray(e))for(var o=0,i=e.length;o<i;o++)r(e[o]);else r(e);this.context=ge(a),n&&t.merge(this,n),this.selector={rows:null,cols:null,opts:null},$t.extend(this,this,_e)},qt.Api=$t,t.extend($t.prototype,{any:function(){return 0!==this.count()},concat:Ce.concat,context:[],count:function(){return this.flatten().length},each:function(t){for(var e=0,n=this.length;e<n;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new $t(e[t],this[t]):null},filter:function(t){var e=[];if(Ce.filter)e=Ce.filter.call(this,t,this);else for(var n=0,a=this.length;n<a;n++)t.call(this,this[n],n,this)&&e.push(this[n]);return new $t(this.context,e)},flatten:function(){var t=[];return new $t(this.context,t.concat.apply(t,this.toArray()))},join:Ce.join,indexOf:Ce.indexOf||function(t,e){for(var n=e||0,a=this.length;n<a;n++)if(this[n]===t)return n;return-1},iterator:function(t,e,n,r){var o,i,s,l,u,c,f,d,h=[],p=this.context,g=this.selector;for("string"==typeof t&&(r=n,n=e,e=t,t=!1),i=0,s=p.length;i<s;i++){var b=new $t(p[i]);if("table"===e)o=n.call(b,p[i],i),o!==a&&h.push(o);else if("columns"===e||"rows"===e)o=n.call(b,p[i],this[i],i),o!==a&&h.push(o);else if("column"===e||"column-rows"===e||"row"===e||"cell"===e)for(f=this[i],"column-rows"===e&&(c=Le(p[i],g.opts)),l=0,u=f.length;l<u;l++)d=f[l],o="cell"===e?n.call(b,p[i],d.row,d.column,i,l):n.call(b,p[i],d,i,l,c),o!==a&&h.push(o)}if(h.length||r){var v=new $t(p,t?h.concat.apply([],h):h),S=v.selector;return S.rows=g.rows,S.cols=g.cols,S.opts=g.opts,v}return this},lastIndexOf:Ce.lastIndexOf||function(t,e){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var e=[];if(Ce.map)e=Ce.map.call(this,t,this);else for(var n=0,a=this.length;n<a;n++)e.push(t.call(this,this[n],n));return new $t(this.context,e)},pluck:function(t){return this.map(function(e){return e[t]})},pop:Ce.pop,push:Ce.push,reduce:Ce.reduce||function(t,e){return c(this,t,e,0,this.length,1)},reduceRight:Ce.reduceRight||function(t,e){return c(this,t,e,this.length-1,-1,-1)},reverse:Ce.reverse,selector:null,shift:Ce.shift,sort:Ce.sort,splice:Ce.splice,toArray:function(){return Ce.slice.call(this)},to$:function(){return t(this)},toJQuery:function(){return t(this)},unique:function(){return new $t(this.context,ge(this))},unshift:Ce.unshift}),$t.extend=function(e,n,a){if(a.length&&n&&(n instanceof $t||n.__dt_wrapper)){var r,o,i,s=function(t,e,n){return function(){var a=e.apply(t,arguments);return $t.extend(a,a,n.methodExt),a}};for(r=0,o=a.length;r<o;r++)i=a[r],n[i.name]="function"==typeof i.val?s(e,i.val,i):t.isPlainObject(i.val)?{}:i.val,n[i.name].__dt_wrapper=!0,$t.extend(e,n[i.name],i.propExt)}},$t.register=zt=function(e,n){if(t.isArray(e))for(var a=0,r=e.length;a<r;a++)$t.register(e[a],n);else{var o,i,s,l,u=e.split("."),c=_e,f=function(t,e){for(var n=0,a=t.length;n<a;n++)if(t[n].name===e)return t[n];return null};for(o=0,i=u.length;o<i;o++){l=u[o].indexOf("()")!==-1,s=l?u[o].replace("()",""):u[o];var d=f(c,s);d||(d={name:s,val:{},methodExt:[],propExt:[]},c.push(d)),o===i-1?d.val=n:c=l?d.methodExt:d.propExt}}},$t.registerPlural=Yt=function(e,n,r){$t.register(e,r),$t.register(n,function(){var e=r.apply(this,arguments);return e===this?this:e instanceof $t?e.length?t.isArray(e[0])?new $t(e.context,e[0]):e[0]:a:e})};var we=function(e,n){if("number"==typeof e)return[n[e]];var a=t.map(n,function(t,e){return t.nTable});return t(a).filter(e).map(function(e){var r=t.inArray(this,a);return n[r]}).toArray()};zt("tables()",function(t){return t?new $t(we(t,this.context)):this}),zt("table()",function(t){var e=this.tables(t),n=e.context;return n.length?new $t(n[0]):e}),Yt("tables().nodes()","table().node()",function(){return this.iterator("table",function(t){return t.nTable},1)}),Yt("tables().body()","table().body()",function(){return this.iterator("table",function(t){return t.nTBody},1)}),Yt("tables().header()","table().header()",function(){return this.iterator("table",function(t){return t.nTHead},1)}),Yt("tables().footer()","table().footer()",function(){return this.iterator("table",function(t){return t.nTFoot},1)}),Yt("tables().containers()","table().container()",function(){return this.iterator("table",function(t){return t.nTableWrapper},1)}),zt("draw()",function(t){return this.iterator("table",function(e){"page"===t?M(e):("string"==typeof t&&(t="full-hold"!==t),W(e,t===!1))})}),zt("page()",function(t){return t===a?this.page.info().page:this.iterator("table",function(e){dt(e,t)})}),zt("page.info()",function(t){if(0===this.context.length)return a;var e=this.context[0],n=e._iDisplayStart,r=e.oFeatures.bPaginate?e._iDisplayLength:-1,o=e.fnRecordsDisplay(),i=r===-1;return{page:i?0:Math.floor(n/r),pages:i?1:Math.ceil(o/r),start:n,end:e.fnDisplayEnd(),length:r,recordsTotal:e.fnRecordsTotal(),recordsDisplay:o,serverSide:"ssp"===Et(e)}}),zt("page.len()",function(t){return t===a?0!==this.context.length?this.context[0]._iDisplayLength:a:this.iterator("table",function(e){ut(e,t)})});var xe=function(t,e,n){if(n){var a=new $t(t);a.one("draw",function(){n(a.ajax.json())})}if("ssp"==Et(t))W(t,e);else{pt(t,!0);var r=t.jqXHR;r&&4!==r.readyState&&r.abort(),J(t,[],function(n){L(t);for(var a=G(t,n),r=0,o=a.length;r<o;r++)D(t,a[r]);W(t,e),pt(t,!1)})}};zt("ajax.json()",function(){var t=this.context;if(t.length>0)return t[0].json}),zt("ajax.params()",function(){var t=this.context;if(t.length>0)return t[0].oAjaxData}),zt("ajax.reload()",function(t,e){return this.iterator("table",function(n){xe(n,e===!1,t)})}),zt("ajax.url()",function(e){var n=this.context;return e===a?0===n.length?a:(n=n[0],n.ajax?t.isPlainObject(n.ajax)?n.ajax.url:n.ajax:n.sAjaxSource):this.iterator("table",function(n){t.isPlainObject(n.ajax)?n.ajax.url=e:n.ajax=e})}),zt("ajax.url().load()",function(t,e){return this.iterator("table",function(n){xe(n,e===!1,t)})});var Ie=function(e,n,r,o,i){var s,l,u,c,f,d,h=[],p=typeof n;for(n&&"string"!==p&&"function"!==p&&n.length!==a||(n=[n]),u=0,c=n.length;u<c;u++)for(l=n[u]&&n[u].split?n[u].split(","):[n[u]],f=0,d=l.length;f<d;f++)s=r("string"==typeof l[f]?t.trim(l[f]):l[f]),s&&s.length&&(h=h.concat(s));var g=Gt.selector[e];if(g.length)for(u=0,c=g.length;u<c;u++)h=g[u](o,i,h);return ge(h)},Ae=function(e){return e||(e={}),e.filter&&e.search===a&&(e.search=e.filter),t.extend({search:"none",order:"current",page:"all"},e)},Fe=function(t){for(var e=0,n=t.length;e<n;e++)if(t[e].length>0)return t[0]=t[e],t[0].length=1,t.length=1,t.context=[t.context[e]],t;return t.length=0,t},Le=function(e,n){var a,r,o,i=[],s=e.aiDisplay,l=e.aiDisplayMaster,u=n.search,c=n.order,f=n.page;if("ssp"==Et(e))return"removed"===u?[]:de(0,l.length);if("current"==f)for(a=e._iDisplayStart,r=e.fnDisplayEnd();a<r;a++)i.push(s[a]);else if("current"==c||"applied"==c)i="none"==u?l.slice():"applied"==u?s.slice():t.map(l,function(e,n){return t.inArray(e,s)===-1?e:null});else if("index"==c||"original"==c)for(a=0,r=e.aoData.length;a<r;a++)"none"==u?i.push(a):(o=t.inArray(a,s),(o===-1&&"removed"==u||o>=0&&"applied"==u)&&i.push(a));return i},Pe=function(e,n,r){var o=function(n){var o=oe(n);if(null!==o&&!r)return[o];var i=Le(e,r);if(null!==o&&t.inArray(o,i)!==-1)return[o];if(!n)return i;if("function"==typeof n)return t.map(i,function(t){var a=e.aoData[t];return n(t,a._aData,a.nTr)?t:null});var s=he(fe(e.aoData,i,"nTr"));if(n.nodeName&&t.inArray(n,s)!==-1)return[n._DT_RowIndex];if("string"==typeof n&&"#"===n.charAt(0)){var l=e.aIds[n.replace(/^#/,"")];if(l!==a)return[l.idx]}return t(s).filter(n).map(function(){return this._DT_RowIndex}).toArray()};return Ie("row",n,o,e,r)};zt("rows()",function(e,n){e===a?e="":t.isPlainObject(e)&&(n=e,e=""),n=Ae(n);var r=this.iterator("table",function(t){return Pe(t,e,n)},1);return r.selector.rows=e,r.selector.opts=n,r}),zt("rows().nodes()",function(){return this.iterator("row",function(t,e){return t.aoData[e].nTr||a},1)}),zt("rows().data()",function(){return this.iterator(!0,"rows",function(t,e){return fe(t.aoData,e,"_aData")},1)}),Yt("rows().cache()","row().cache()",function(t){return this.iterator("row",function(e,n){var a=e.aoData[n];return"search"===t?a._aFilterData:a._aSortData},1)}),Yt("rows().invalidate()","row().invalidate()",function(t){return this.iterator("row",function(e,n){R(e,n,t)})}),Yt("rows().indexes()","row().index()",function(){return this.iterator("row",function(t,e){return e},1)}),Yt("rows().ids()","row().id()",function(t){for(var e=[],n=this.context,a=0,r=n.length;a<r;a++)for(var o=0,i=this[a].length;o<i;o++){var s=n[a].rowIdFn(n[a].aoData[this[a][o]]._aData);e.push((t===!0?"#":"")+s)}return new $t(n,e)}),Yt("rows().remove()","row().remove()",function(){var t=this;return this.iterator("row",function(e,n,r){var o,i,s,l,u,c,f=e.aoData,d=f[n];for(f.splice(n,1),o=0,i=f.length;o<i;o++)if(u=f[o],c=u.anCells,null!==u.nTr&&(u.nTr._DT_RowIndex=o),null!==c)for(s=0,l=c.length;s<l;s++)c[s]._DT_CellIndex.row=o;P(e.aiDisplayMaster,n),P(e.aiDisplay,n),P(t[r],n,!1),Ut(e);var h=e.rowIdFn(d._aData);h!==a&&delete e.aIds[h]}),this.iterator("table",function(t){for(var e=0,n=t.aoData.length;e<n;e++)t.aoData[e].idx=e}),this}),zt("rows.add()",function(e){var n=this.iterator("table",function(t){var n,a,r,o=[];for(a=0,r=e.length;a<r;a++)n=e[a],n.nodeName&&"TR"===n.nodeName.toUpperCase()?o.push(y(t,n)[0]):o.push(D(t,n));return o},1),a=this.rows(-1);return a.pop(),t.merge(a,n),a}),zt("row()",function(t,e){return Fe(this.rows(t,e))}),zt("row().data()",function(t){var e=this.context;return t===a?e.length&&this.length?e[0].aoData[this[0]]._aData:a:(e[0].aoData[this[0]]._aData=t,R(e[0],this[0],"data"),this)}),zt("row().node()",function(){var t=this.context;return t.length&&this.length?t[0].aoData[this[0]].nTr||null:null}),zt("row.add()",function(e){e instanceof t&&e.length&&(e=e[0]);var n=this.iterator("table",function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?y(t,e)[0]:D(t,e)});return this.row(n[0])});var Re=function(e,n,a,r){var o=[],i=function(n,a){if(t.isArray(n)||n instanceof t)for(var r=0,s=n.length;r<s;r++)i(n[r],a);else if(n.nodeName&&"tr"===n.nodeName.toLowerCase())o.push(n);else{var l=t("<tr><td/></tr>").addClass(a);t("td",l).addClass(a).html(n)[0].colSpan=b(e),o.push(l[0])}};i(a,r),n._details&&n._details.remove(),n._details=t(o),n._detailsShow&&n._details.insertAfter(n.nTr)},je=function(t,e){var n=t.context;if(n.length){var r=n[0].aoData[e!==a?e:t[0]];r&&r._details&&(r._details.remove(),r._detailsShow=a,r._details=a)}},He=function(t,e){var n=t.context;if(n.length&&t.length){var a=n[0].aoData[t[0]];a._details&&(a._detailsShow=e,e?a._details.insertAfter(a.nTr):a._details.detach(),Ne(n[0]))}},Ne=function(t){var e=new $t(t),n=".dt.DT_details",a="draw"+n,r="column-visibility"+n,o="destroy"+n,i=t.aoData;e.off(a+" "+r+" "+o),ce(i,"_details").length>0&&(e.on(a,function(n,a){t===a&&e.rows({page:"current"}).eq(0).each(function(t){var e=i[t];e._detailsShow&&e._details.insertAfter(e.nTr)})}),e.on(r,function(e,n,a,r){if(t===n)for(var o,s=b(n),l=0,u=i.length;l<u;l++)o=i[l],o._details&&o._details.children("td[colspan]").attr("colspan",s)}),e.on(o,function(n,a){if(t===a)for(var r=0,o=i.length;r<o;r++)i[r]._details&&je(e,r)}))},Oe="",ke=Oe+"row().child",Me=ke+"()";zt(Me,function(t,e){var n=this.context;return t===a?n.length&&this.length?n[0].aoData[this[0]]._details:a:(t===!0?this.child.show():t===!1?je(this):n.length&&this.length&&Re(n[0],n[0].aoData[this[0]],t,e),this)}),zt([ke+".show()",Me+".show()"],function(t){return He(this,!0),this}),zt([ke+".hide()",Me+".hide()"],function(){return He(this,!1),this}),zt([ke+".remove()",Me+".remove()"],function(){return je(this),this}),zt(ke+".isShown()",function(){var t=this.context;return!(!t.length||!this.length)&&(t[0].aoData[this[0]]._detailsShow||!1)});var We=/^(.+):(name|visIdx|visible)$/,Ue=function(t,e,n,a,r){for(var o=[],i=0,s=r.length;i<s;i++)o.push(T(t,r[i],e));return o},Be=function(e,n,a){var r=e.aoColumns,o=ce(r,"sName"),i=ce(r,"nTh"),s=function(n){var s=oe(n);if(""===n)return de(r.length);if(null!==s)return[s>=0?s:r.length+s];if("function"==typeof n){var l=Le(e,a);return t.map(r,function(t,a){return n(a,Ue(e,a,0,0,l),i[a])?a:null})}var u="string"==typeof n?n.match(We):"";if(!u)return t(i).filter(n).map(function(){return t.inArray(this,i)}).toArray();switch(u[2]){case"visIdx":case"visible":var c=parseInt(u[1],10);if(c<0){var f=t.map(r,function(t,e){return t.bVisible?e:null});return[f[f.length+c]]}return[p(e,c)];case"name":return t.map(o,function(t,e){return t===u[1]?e:null})}};return Ie("column",n,s,e,a)},Ee=function(e,n,r,o){var i,s,l,u,c=e.aoColumns,f=c[n],d=e.aoData;if(r===a)return f.bVisible;if(f.bVisible!==r){if(r){var p=t.inArray(!0,ce(c,"bVisible"),n+1);for(s=0,l=d.length;s<l;s++)u=d[s].nTr,i=d[s].anCells,u&&u.insertBefore(i[n],i[p]||null)}else t(ce(e.aoData,"anCells",n)).detach();f.bVisible=r,k(e,e.aoHeader),k(e,e.aoFooter),(o===a||o)&&(h(e),(e.oScroll.sX||e.oScroll.sY)&&bt(e)),Wt(e,null,"column-visibility",[e,n,r,o]),Pt(e)}};zt("columns()",function(e,n){e===a?e="":t.isPlainObject(e)&&(n=e,e=""),n=Ae(n);var r=this.iterator("table",function(t){return Be(t,e,n)},1);return r.selector.cols=e,r.selector.opts=n,r}),Yt("columns().header()","column().header()",function(t,e){return this.iterator("column",function(t,e){return t.aoColumns[e].nTh},1)}),Yt("columns().footer()","column().footer()",function(t,e){return this.iterator("column",function(t,e){return t.aoColumns[e].nTf},1)}),Yt("columns().data()","column().data()",function(){return this.iterator("column-rows",Ue,1)}),Yt("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].mData},1)}),Yt("columns().cache()","column().cache()",function(t){return this.iterator("column-rows",function(e,n,a,r,o){return fe(e.aoData,o,"search"===t?"_aFilterData":"_aSortData",n)},1)}),Yt("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(t,e,n,a,r){return fe(t.aoData,r,"anCells",e)},1)}),Yt("columns().visible()","column().visible()",function(t,e){return this.iterator("column",function(n,r){return t===a?n.aoColumns[r].bVisible:void Ee(n,r,t,e)})}),Yt("columns().indexes()","column().index()",function(t){return this.iterator("column",function(e,n){return"visible"===t?g(e,n):n},1)}),zt("columns.adjust()",function(){return this.iterator("table",function(t){h(t)},1)}),zt("column.index()",function(t,e){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===t||"toData"===t)return p(n,e);if("fromData"===t||"toVisible"===t)return g(n,e)}}),zt("column()",function(t,e){return Fe(this.columns(t,e))});var Je=function(e,n,r){var o,i,s,l,u,c,f,d=e.aoData,h=Le(e,r),p=he(fe(d,h,"anCells")),g=t([].concat.apply([],p)),b=e.aoColumns.length,v=function(n){var r="function"==typeof n;if(null===n||n===a||r){for(i=[],s=0,l=h.length;s<l;s++)for(o=h[s],u=0;u<b;u++)c={row:o,column:u},r?(f=d[o],n(c,T(e,o,u),f.anCells?f.anCells[u]:null)&&i.push(c)):i.push(c);return i}return t.isPlainObject(n)?[n]:g.filter(n).map(function(t,e){return{row:e._DT_CellIndex.row,column:e._DT_CellIndex.column}}).toArray()};return Ie("cell",n,v,e,r)};zt("cells()",function(e,n,r){if(t.isPlainObject(e)&&(e.row===a?(r=e,e=null):(r=n,n=null)),t.isPlainObject(n)&&(r=n,n=null),null===n||n===a)return this.iterator("table",function(t){return Je(t,e,Ae(r))});var o,i,s,l,u,c=this.columns(n,r),f=this.rows(e,r),d=this.iterator("table",function(t,e){for(o=[],i=0,s=f[e].length;i<s;i++)for(l=0,u=c[e].length;l<u;l++)o.push({row:f[e][i],column:c[e][l]});return o},1);return t.extend(d.selector,{cols:n,rows:e,opts:r}),d}),Yt("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(t,e,n){var r=t.aoData[e].anCells;return r?r[n]:a},1)}),zt("cells().data()",function(){return this.iterator("cell",function(t,e,n){return T(t,e,n)},1)}),Yt("cells().cache()","cell().cache()",function(t){return t="search"===t?"_aFilterData":"_aSortData",this.iterator("cell",function(e,n,a){return e.aoData[n][t][a]},1)}),Yt("cells().render()","cell().render()",function(t){return this.iterator("cell",function(e,n,a){return T(e,n,a,t)},1)}),Yt("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(t,e,n){return{row:e,column:n,columnVisible:g(t,n)}},1)}),Yt("cells().invalidate()","cell().invalidate()",function(t){return this.iterator("cell",function(e,n,a){R(e,n,t,a)})}),zt("cell()",function(t,e,n){return Fe(this.cells(t,e,n))}),zt("cell().data()",function(t){var e=this.context,n=this[0];return t===a?e.length&&n.length?T(e[0],n[0].row,n[0].column):a:(w(e[0],n[0].row,n[0].column,t),R(e[0],n[0].row,"data",n[0].column),this)}),zt("order()",function(e,n){
var r=this.context;return e===a?0!==r.length?r[0].aaSorting:a:("number"==typeof e?e=[[e,n]]:t.isArray(e[0])||(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),zt("order.listener()",function(t,e,n){return this.iterator("table",function(a){At(a,t,e,n)})}),zt("order.fixed()",function(e){if(!e){var n=this.context,r=n.length?n[0].aaSortingFixed:a;return t.isArray(r)?{pre:r}:r}return this.iterator("table",function(n){n.aaSortingFixed=t.extend(!0,{},e)})}),zt(["columns().order()","column().order()"],function(e){var n=this;return this.iterator("table",function(a,r){var o=[];t.each(n[r],function(t,n){o.push([n,e])}),a.aaSorting=o})}),zt("search()",function(e,n,r,o){var i=this.context;return e===a?0!==i.length?i[0].oPreviousSearch.sSearch:a:this.iterator("table",function(a){a.oFeatures.bFilter&&z(a,t.extend({},a.oPreviousSearch,{sSearch:e+"",bRegex:null!==n&&n,bSmart:null===r||r,bCaseInsensitive:null===o||o}),1)})}),Yt("columns().search()","column().search()",function(e,n,r,o){return this.iterator("column",function(i,s){var l=i.aoPreSearchCols;return e===a?l[s].sSearch:void(i.oFeatures.bFilter&&(t.extend(l[s],{sSearch:e+"",bRegex:null!==n&&n,bSmart:null===r||r,bCaseInsensitive:null===o||o}),z(i,i.oPreviousSearch,1)))})}),zt("state()",function(){return this.context.length?this.context[0].oSavedState:null}),zt("state.clear()",function(){return this.iterator("table",function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})})}),zt("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),zt("state.save()",function(){return this.iterator("table",function(t){Pt(t)})}),qt.versionCheck=qt.fnVersionCheck=function(t){for(var e,n,a=qt.version.split("."),r=t.split("."),o=0,i=r.length;o<i;o++)if(e=parseInt(a[o],10)||0,n=parseInt(r[o],10)||0,e!==n)return e>n;return!0},qt.isDataTable=qt.fnIsDataTable=function(e){var n=t(e).get(0),a=!1;return t.each(qt.settings,function(e,r){var o=r.nScrollHead?t("table",r.nScrollHead)[0]:null,i=r.nScrollFoot?t("table",r.nScrollFoot)[0]:null;r.nTable!==n&&o!==n&&i!==n||(a=!0)}),a},qt.tables=qt.fnTables=function(e){var n=!1;t.isPlainObject(e)&&(n=e.api,e=e.visible);var a=t.map(qt.settings,function(n){if(!e||e&&t(n.nTable).is(":visible"))return n.nTable});return n?new $t(a):a},qt.util={throttle:mt,escapeRegex:tt},qt.camelToHungarian=o,zt("$()",function(e,n){var a=this.rows(n).nodes(),r=t(a);return t([].concat(r.filter(e).toArray(),r.find(e).toArray()))}),t.each(["on","one","off"],function(e,n){zt(n+"()",function(){var e=Array.prototype.slice.call(arguments);e[0].match(/\.dt\b/)||(e[0]+=".dt");var a=t(this.tables().nodes());return a[n].apply(a,e),this})}),zt("clear()",function(){return this.iterator("table",function(t){L(t)})}),zt("settings()",function(){return new $t(this.context,this.context)}),zt("init()",function(){var t=this.context;return t.length?t[0].oInit:null}),zt("data()",function(){return this.iterator("table",function(t){return ce(t.aoData,"_aData")}).flatten()}),zt("destroy()",function(n){return n=n||!1,this.iterator("table",function(a){var r,o=a.nTableWrapper.parentNode,i=a.oClasses,s=a.nTable,l=a.nTBody,u=a.nTHead,c=a.nTFoot,f=t(s),d=t(l),h=t(a.nTableWrapper),p=t.map(a.aoData,function(t){return t.nTr});a.bDestroying=!0,Wt(a,"aoDestroyCallback","destroy",[a]),n||new $t(a).columns().visible(!0),h.unbind(".DT").find(":not(tbody *)").unbind(".DT"),t(e).unbind(".DT-"+a.sInstance),s!=u.parentNode&&(f.children("thead").detach(),f.append(u)),c&&s!=c.parentNode&&(f.children("tfoot").detach(),f.append(c)),a.aaSorting=[],a.aaSortingFixed=[],Ft(a),t(p).removeClass(a.asStripeClasses.join(" ")),t("th, td",u).removeClass(i.sSortable+" "+i.sSortableAsc+" "+i.sSortableDesc+" "+i.sSortableNone),a.bJUI&&(t("th span."+i.sSortIcon+", td span."+i.sSortIcon,u).detach(),t("th, td",u).each(function(){var e=t("div."+i.sSortJUIWrapper,this);t(this).append(e.contents()),e.detach()})),d.children().detach(),d.append(p);var g=n?"remove":"detach";f[g](),h[g](),!n&&o&&(o.insertBefore(s,a.nTableReinsertBefore),f.css("width",a.sDestroyWidth).removeClass(i.sTable),r=a.asDestroyStripes.length,r&&d.children().each(function(e){t(this).addClass(a.asDestroyStripes[e%r])}));var b=t.inArray(a,qt.settings);b!==-1&&qt.settings.splice(b,1)})}),t.each(["column","row","cell"],function(t,e){zt(e+"s().every()",function(t){var n=this.selector.opts,r=this;return this.iterator(e,function(o,i,s,l,u){t.call(r[e](i,"cell"===e?s:n,"cell"===e?n:a),i,s,l,u)})})}),zt("i18n()",function(e,n,r){var o=this.context[0],i=I(e)(o.oLanguage);return i===a&&(i=n),r!==a&&t.isPlainObject(i)&&(i=i[r]!==a?i[r]:i._),i.replace("%d",r)}),qt.version="1.10.10",qt.settings=[],qt.models={},qt.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},qt.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},qt.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},qt.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse((t.iStateDuration===-1?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(t.iStateDuration===-1?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch(t){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:t.extend({},qt.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},r(qt.defaults),qt.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},r(qt.defaults.column),qt.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:a,oAjaxData:a,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==Et(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==Et(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,n=e+t,a=this.aiDisplay.length,r=this.oFeatures,o=r.bPaginate;return r.bServerSide?o===!1||t===-1?e+a:Math.min(e+t,this._iRecordsDisplay):!o||n>a||t===-1?a:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},qt.ext=Gt={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:qt.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:qt.version},t.extend(Gt,{afnFiltering:Gt.search,aTypes:Gt.type.detect,ofnSearch:Gt.type.search,oSort:Gt.type.order,afnSortData:Gt.order,aoFeatures:Gt.feature,oApi:Gt.internal,oStdClasses:Gt.classes,oPagination:Gt.pager}),t.extend(qt.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""}),function(){var e="";e="";var n=e+"ui-state-default",a=e+"css_right ui-icon ui-icon-",r=e+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";t.extend(qt.ext.oJUIClasses,qt.ext.classes,{sPageButton:"fg-button ui-button "+n,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:n+" sorting_asc",sSortDesc:n+" sorting_desc",sSortable:n+" sorting",sSortableAsc:n+" sorting_asc_disabled",sSortableDesc:n+" sorting_desc_disabled",sSortableNone:n+" sorting_disabled",sSortJUIAsc:a+"triangle-1-n",sSortJUIDesc:a+"triangle-1-s",sSortJUI:a+"carat-2-n-s",sSortJUIAscAllowed:a+"carat-1-n",sSortJUIDescAllowed:a+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+n,sScrollFoot:"dataTables_scrollFoot "+n,sHeaderTH:n,sFooterTH:n,sJUIHeader:r+" ui-corner-tl ui-corner-tr",sJUIFooter:r+" ui-corner-bl ui-corner-br"})}();var Ve=qt.ext.pager;t.extend(Ve,{simple:function(t,e){return["previous","next"]},full:function(t,e){return["first","previous","next","last"]},numbers:function(t,e){return[Jt(t,e)]},simple_numbers:function(t,e){return["previous",Jt(t,e),"next"]},full_numbers:function(t,e){return["first","previous",Jt(t,e),"next","last"]},_numbers:Jt,numbers_length:7}),t.extend(!0,qt.ext.renderer,{pageButton:{_:function(e,a,r,o,i,s){var l,u,c,f=e.oClasses,d=e.oLanguage.oPaginate,h=e.oLanguage.oAria.paginate||{},p=0,g=function(n,a){var o,c,b,v,S=function(t){dt(e,t.data.action,!0)};for(o=0,c=a.length;o<c;o++)if(v=a[o],t.isArray(v)){var m=t("<"+(v.DT_el||"div")+"/>").appendTo(n);g(m,v)}else{switch(l=null,u="",v){case"ellipsis":n.append('<span class="ellipsis">&#x2026;</span>');break;case"first":l=d.sFirst,u=v+(i>0?"":" "+f.sPageButtonDisabled);break;case"previous":l=d.sPrevious,u=v+(i>0?"":" "+f.sPageButtonDisabled);break;case"next":l=d.sNext,u=v+(i<s-1?"":" "+f.sPageButtonDisabled);break;case"last":l=d.sLast,u=v+(i<s-1?"":" "+f.sPageButtonDisabled);break;default:l=v+1,u=i===v?f.sPageButtonActive:""}null!==l&&(b=t("<a>",{class:f.sPageButton+" "+u,"aria-controls":e.sTableId,"aria-label":h[v],"data-dt-idx":p,tabindex:e.iTabIndex,id:0===r&&"string"==typeof v?e.sTableId+"_"+v:null}).html(l).appendTo(n),kt(b,{action:v},S),p++)}};try{c=t(a).find(n.activeElement).data("dt-idx")}catch(t){}g(t(a).empty(),o),c&&t(a).find("[data-dt-idx="+c+"]").focus()}}}),t.extend(qt.ext.type.detect,[function(t,e){var n=e.oLanguage.sDecimal;return se(t,n)?"num"+n:null},function(t,e){if(t&&!(t instanceof Date)&&(!te.test(t)||!ee.test(t)))return null;var n=Date.parse(t);return null!==n&&!isNaN(n)||re(t)?"date":null},function(t,e){var n=e.oLanguage.sDecimal;return se(t,n,!0)?"num-fmt"+n:null},function(t,e){var n=e.oLanguage.sDecimal;return ue(t,n)?"html-num"+n:null},function(t,e){var n=e.oLanguage.sDecimal;return ue(t,n,!0)?"html-num-fmt"+n:null},function(t,e){return re(t)||"string"==typeof t&&t.indexOf("<")!==-1?"html":null}]),t.extend(qt.ext.type.search,{html:function(t){return re(t)?t:"string"==typeof t?t.replace(Qt," ").replace(Kt,""):""},string:function(t){return re(t)?t:"string"==typeof t?t.replace(Qt," "):t}});var Xe=function(t,e,n,a){return 0===t||t&&"-"!==t?(e&&(t=ie(t,e)),t.replace&&(n&&(t=t.replace(n,"")),a&&(t=t.replace(a,""))),1*t):-(1/0)};return t.extend(Gt.type.order,{"date-pre":function(t){return Date.parse(t)||0},"html-pre":function(t){return re(t)?"":t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return re(t)?"":"string"==typeof t?t.toLowerCase():t.toString?t.toString():""},"string-asc":function(t,e){return t<e?-1:t>e?1:0},"string-desc":function(t,e){return t<e?1:t>e?-1:0}}),Vt(""),t.extend(!0,qt.ext.renderer,{header:{_:function(e,n,a,r){t(e.nTable).on("order.dt.DT",function(t,o,i,s){if(e===o){var l=a.idx;n.removeClass(a.sSortingClass+" "+r.sSortAsc+" "+r.sSortDesc).addClass("asc"==s[l]?r.sSortAsc:"desc"==s[l]?r.sSortDesc:a.sSortingClass)}})},jqueryui:function(e,n,a,r){t("<div/>").addClass(r.sSortJUIWrapper).append(n.contents()).append(t("<span/>").addClass(r.sSortIcon+" "+a.sSortingClassJUI)).appendTo(n),t(e.nTable).on("order.dt.DT",function(t,o,i,s){if(e===o){var l=a.idx;n.removeClass(r.sSortAsc+" "+r.sSortDesc).addClass("asc"==s[l]?r.sSortAsc:"desc"==s[l]?r.sSortDesc:a.sSortingClass),n.find("span."+r.sSortIcon).removeClass(r.sSortJUIAsc+" "+r.sSortJUIDesc+" "+r.sSortJUI+" "+r.sSortJUIAscAllowed+" "+r.sSortJUIDescAllowed).addClass("asc"==s[l]?r.sSortJUIAsc:"desc"==s[l]?r.sSortJUIDesc:a.sSortingClassJUI)}})}}}),qt.render={number:function(t,e,n,a,r){return{display:function(o){if("number"!=typeof o&&"string"!=typeof o)return o;var i=o<0?"-":"",s=parseFloat(o);if(isNaN(s))return o;o=Math.abs(s);var l=parseInt(o,10),u=n?e+(o-l).toFixed(n).substring(2):"";return i+(a||"")+l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)+u+(r||"")}}},text:function(){return{display:function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t}}}},t.extend(qt.ext.internal,{_fnExternApiFunc:Xt,_fnBuildAjax:J,_fnAjaxUpdate:V,_fnAjaxParameters:X,_fnAjaxUpdateDraw:q,_fnAjaxDataSrc:G,_fnAddColumn:f,_fnColumnOptions:d,_fnAdjustColumnSizing:h,_fnVisibleToColumnIndex:p,_fnColumnIndexToVisible:g,_fnVisbleColumns:b,_fnGetColumns:v,_fnColumnTypes:S,_fnApplyColumnDefs:m,_fnHungarianMap:r,_fnCamelToHungarian:o,_fnLanguageCompat:i,_fnBrowserDetect:u,_fnAddData:D,_fnAddTr:y,_fnNodeToDataIndex:_,_fnNodeToColumnIndex:C,_fnGetCellData:T,_fnSetCellData:w,_fnSplitObjNotation:x,_fnGetObjectDataFn:I,_fnSetObjectDataFn:A,_fnGetDataMaster:F,_fnClearTable:L,_fnDeleteIndex:P,_fnInvalidate:R,_fnGetRowElements:j,_fnCreateTr:H,_fnBuildHead:O,_fnDrawHead:k,_fnDraw:M,_fnReDraw:W,_fnAddOptionsHtml:U,_fnDetectHeader:B,_fnGetUniqueThs:E,_fnFeatureHtmlFilter:$,_fnFilterComplete:z,_fnFilterCustom:Y,_fnFilterColumn:Z,_fnFilter:Q,_fnFilterCreateSearch:K,_fnEscapeRegex:tt,_fnFilterData:et,_fnFeatureHtmlInfo:rt,_fnUpdateInfo:ot,_fnInfoMacros:it,_fnInitialise:st,_fnInitComplete:lt,_fnLengthChange:ut,_fnFeatureHtmlLength:ct,_fnFeatureHtmlPaginate:ft,_fnPageChange:dt,_fnFeatureHtmlProcessing:ht,_fnProcessingDisplay:pt,_fnFeatureHtmlTable:gt,_fnScrollDraw:bt,_fnApplyToChildren:vt,_fnCalculateColumnWidths:St,_fnThrottle:mt,_fnConvertToWidth:Dt,_fnGetWidestNode:yt,_fnGetMaxLenString:_t,_fnStringToCss:Ct,_fnSortFlatten:Tt,_fnSort:wt,_fnSortAria:xt,_fnSortListener:It,_fnSortAttachListener:At,_fnSortingClasses:Ft,_fnSortData:Lt,_fnSaveState:Pt,_fnLoadState:Rt,_fnSettingsFromNode:jt,_fnLog:Ht,_fnMap:Nt,_fnBindAction:kt,_fnCallbackReg:Mt,_fnCallbackFire:Wt,_fnLengthOverflow:Ut,_fnRenderer:Bt,_fnDataSource:Et,_fnRowAttributes:N,_fnCalculateEnd:function(){}}),t.fn.dataTable=qt,qt.$=t,t.fn.dataTableSettings=qt.settings,t.fn.dataTableExt=qt.ext,t.fn.DataTable=function(e){return t(this).dataTable(e).api()},t.each(qt,function(e,n){t.fn.DataTable[e]=n}),t.fn.dataTable});
},{"jquery":17}],15:[function(require,module,exports){
(function (global){
"use strict";!function(o){function e(o){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=[],d=0,r=void 0,b=void 0,s=void 0,a=void 0,u=void 0,f=void 0,v=void 0,l=void 0,p=void 0,B=void 0,c=void 0;if(isNaN(o))throw new Error("Invalid arguments");return s=e.bits===!0,p=e.unix===!0,b=e.base||2,l=void 0!==e.round?e.round:p?1:2,B=void 0!==e.spacer?e.spacer:p?"":" ",c=e.symbols||e.suffixes||{},v=e.output||"string",r=void 0!==e.exponent?e.exponent:-1,f=Number(o),u=f<0,a=b>2?1e3:1024,u&&(f=-f),0===f?(n[0]=0,n[1]=p?"":s?"b":"B"):((r===-1||isNaN(r))&&(r=Math.floor(Math.log(f)/Math.log(a)),r<0&&(r=0)),r>8&&(r=8),d=2===b?f/Math.pow(2,10*r):f/Math.pow(1e3,r),s&&(d=8*d,d>a&&r<8&&(d/=a,r++)),n[0]=Number(d.toFixed(r>0?l:0)),n[1]=10===b&&1===r?s?"kb":"kB":t[s?"bits":"bytes"][r],p&&(n[1]=n[1].charAt(0),i.test(n[1])&&(n[0]=Math.floor(n[0]),n[1]=""))),u&&(n[0]=-n[0]),n[1]=c[n[1]]||n[1],"array"===v?n:"exponent"===v?r:"object"===v?{value:n[0],suffix:n[1],symbol:n[1]}:n.join(B)}var i=/^(b|B)$/,t={bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]};"undefined"!=typeof exports?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):o.filesize=e}("undefined"!=typeof window?window:global);
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],16:[function(require,module,exports){
!function(e,t,i,o){var n=e(t);e.fn.lazyload=function(r){function f(){var t=0;l.each(function(){var i=e(this);if(!h.skip_invisible||i.is(":visible"))if(e.abovethetop(this,h)||e.leftofbegin(this,h));else if(e.belowthefold(this,h)||e.rightoffold(this,h)){if(++t>h.failure_limit)return!1}else i.trigger("appear"),t=0})}var a,l=this,h={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return r&&(o!==r.failurelimit&&(r.failure_limit=r.failurelimit,delete r.failurelimit),o!==r.effectspeed&&(r.effect_speed=r.effectspeed,delete r.effectspeed),e.extend(h,r)),a=h.container===o||h.container===t?n:e(h.container),0===h.event.indexOf("scroll")&&a.bind(h.event,function(){return f()}),this.each(function(){var t=this,i=e(t);t.loaded=!1,i.attr("src")!==o&&i.attr("src")!==!1||i.is("img")&&i.attr("src",h.placeholder),i.one("appear",function(){if(!this.loaded){if(h.appear){var o=l.length;h.appear.call(t,o,h)}e("<img />").bind("load",function(){var o=i.attr("data-"+h.data_attribute);i.hide(),i.is("img")?i.attr("src",o):i.css("background-image","url('"+o+"')"),i[h.effect](h.effect_speed),t.loaded=!0;var n=e.grep(l,function(e){return!e.loaded});if(l=e(n),h.load){var r=l.length;h.load.call(t,r,h)}}).attr("src",i.attr("data-"+h.data_attribute))}}),0!==h.event.indexOf("scroll")&&i.bind(h.event,function(){t.loaded||i.trigger("appear")})}),n.bind("resize",function(){f()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&n.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&l.each(function(){e(this).trigger("appear")})}),e(i).ready(function(){f()}),this},e.belowthefold=function(i,r){var f;return f=r.container===o||r.container===t?(t.innerHeight?t.innerHeight:n.height())+n.scrollTop():e(r.container).offset().top+e(r.container).height(),f<=e(i).offset().top-r.threshold},e.rightoffold=function(i,r){var f;return f=r.container===o||r.container===t?n.width()+n.scrollLeft():e(r.container).offset().left+e(r.container).width(),f<=e(i).offset().left-r.threshold},e.abovethetop=function(i,r){var f;return f=r.container===o||r.container===t?n.scrollTop():e(r.container).offset().top,f>=e(i).offset().top+r.threshold+e(i).height()},e.leftofbegin=function(i,r){var f;return f=r.container===o||r.container===t?n.scrollLeft():e(r.container).offset().left,f>=e(i).offset().left+r.threshold+e(i).width()},e.inviewport=function(t,i){return!(e.rightoffold(t,i)||e.leftofbegin(t,i)||e.belowthefold(t,i)||e.abovethetop(t,i))},e.extend(e.expr[":"],{"below-the-fold":function(t){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return e.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!e.rightoffold(t,{threshold:0})},"in-viewport":function(t){return e.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return e.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!e.rightoffold(t,{threshold:0})}})}(jQuery,window,document);
},{}],17:[function(require,module,exports){
!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=!!e&&"length"in e&&e.length,n=pe.type(e);return"function"!==n&&!pe.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e,t,n){if(pe.isFunction(t))return pe.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return pe.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(Ce.test(t))return pe.filter(t,e,n);t=pe.filter(t,e)}return pe.grep(e,function(e){return pe.inArray(e,t)>-1!==n})}function i(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function o(e){var t={};return pe.each(e.match(De)||[],function(e,n){t[n]=!0}),t}function a(){re.addEventListener?(re.removeEventListener("DOMContentLoaded",s),e.removeEventListener("load",s)):(re.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(re.addEventListener||"load"===e.event.type||"complete"===re.readyState)&&(a(),pe.ready())}function u(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(_e,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:qe.test(n)?pe.parseJSON(n):n)}catch(e){}pe.data(e,t,n)}else n=void 0}return n}function l(e){var t;for(t in e)if(("data"!==t||!pe.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,r){if(He(e)){var i,o,a=pe.expando,s=e.nodeType,u=s?pe.cache:e,l=s?e[a]:e[a]&&a;if(l&&u[l]&&(r||u[l].data)||void 0!==n||"string"!=typeof t)return l||(l=s?e[a]=ne.pop()||pe.guid++:a),u[l]||(u[l]=s?{}:{toJSON:pe.noop}),"object"!=typeof t&&"function"!=typeof t||(r?u[l]=pe.extend(u[l],t):u[l].data=pe.extend(u[l].data,t)),o=u[l],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[pe.camelCase(t)]=n),"string"==typeof t?(i=o[t],null==i&&(i=o[pe.camelCase(t)])):i=o,i}}function f(e,t,n){if(He(e)){var r,i,o=e.nodeType,a=o?pe.cache:e,s=o?e[pe.expando]:pe.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){pe.isArray(t)?t=t.concat(pe.map(t,pe.camelCase)):t in r?t=[t]:(t=pe.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;for(;i--;)delete r[t[i]];if(n?!l(r):!pe.isEmptyObject(r))return}(n||(delete a[s].data,l(a[s])))&&(o?pe.cleanData([e],!0):fe.deleteExpando||a!=a.window?delete a[s]:a[s]=void 0)}}}function d(e,t,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return pe.css(e,t,"")},u=s(),l=n&&n[3]||(pe.cssNumber[t]?"":"px"),c=(pe.cssNumber[t]||"px"!==l&&+u)&&Me.exec(pe.css(e,t));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do o=o||".5",c/=o,pe.style(e,t,c+l);while(o!==(o=s()/u)&&1!==o&&--a)}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}function p(e){var t=ze.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function h(e,t){var n,r,i=0,o="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||pe.nodeName(r,t)?o.push(r):pe.merge(o,h(r,t));return void 0===t||t&&pe.nodeName(e,t)?pe.merge([e],o):o}function g(e,t){for(var n,r=0;null!=(n=e[r]);r++)pe._data(n,"globalEval",!t||pe._data(t[r],"globalEval"))}function m(e){Be.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t,n,r,i){for(var o,a,s,u,l,c,f,d=e.length,y=p(t),v=[],x=0;x<d;x++)if(a=e[x],a||0===a)if("object"===pe.type(a))pe.merge(v,a.nodeType?[a]:a);else if(Ue.test(a)){for(u=u||y.appendChild(t.createElement("div")),l=(We.exec(a)||["",""])[1].toLowerCase(),f=Xe[l]||Xe._default,u.innerHTML=f[1]+pe.htmlPrefilter(a)+f[2],o=f[0];o--;)u=u.lastChild;if(!fe.leadingWhitespace&&$e.test(a)&&v.push(t.createTextNode($e.exec(a)[0])),!fe.tbody)for(a="table"!==l||Ve.test(a)?"<table>"!==f[1]||Ve.test(a)?0:u:u.firstChild,o=a&&a.childNodes.length;o--;)pe.nodeName(c=a.childNodes[o],"tbody")&&!c.childNodes.length&&a.removeChild(c);for(pe.merge(v,u.childNodes),u.textContent="";u.firstChild;)u.removeChild(u.firstChild);u=y.lastChild}else v.push(t.createTextNode(a));for(u&&y.removeChild(u),fe.appendChecked||pe.grep(h(v,"input"),m),x=0;a=v[x++];)if(r&&pe.inArray(a,r)>-1)i&&i.push(a);else if(s=pe.contains(a.ownerDocument,a),u=h(y.appendChild(a),"script"),s&&g(u),n)for(o=0;a=u[o++];)Ie.test(a.type||"")&&n.push(a);return u=null,y}function v(){return!0}function x(){return!1}function b(){try{return re.activeElement}catch(e){}}function w(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)w(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),i===!1)i=x;else if(!i)return e;return 1===o&&(a=i,i=function(e){return pe().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=pe.guid++)),e.each(function(){pe.event.add(this,t,i,r,n)})}function T(e,t){return pe.nodeName(e,"table")&&pe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function C(e){return e.type=(null!==pe.find.attr(e,"type"))+"/"+e.type,e}function E(e){var t=it.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function N(e,t){if(1===t.nodeType&&pe.hasData(e)){var n,r,i,o=pe._data(e),a=pe._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;r<i;r++)pe.event.add(t,n,s[n][r])}a.data&&(a.data=pe.extend({},a.data))}}function k(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!fe.noCloneEvent&&t[pe.expando]){i=pe._data(t);for(r in i.events)pe.removeEvent(t,r,i.handle);t.removeAttribute(pe.expando)}"script"===n&&t.text!==e.text?(C(t).text=e.text,E(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),fe.html5Clone&&e.innerHTML&&!pe.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Be.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function S(e,t,n,r){t=oe.apply([],t);var i,o,a,s,u,l,c=0,f=e.length,d=f-1,p=t[0],g=pe.isFunction(p);if(g||f>1&&"string"==typeof p&&!fe.checkClone&&rt.test(p))return e.each(function(i){var o=e.eq(i);g&&(t[0]=p.call(this,i,o.html())),S(o,t,n,r)});if(f&&(l=y(t,e[0].ownerDocument,!1,e,r),i=l.firstChild,1===l.childNodes.length&&(l=i),i||r)){for(s=pe.map(h(l,"script"),C),a=s.length;c<f;c++)o=l,c!==d&&(o=pe.clone(o,!0,!0),a&&pe.merge(s,h(o,"script"))),n.call(e[c],o,c);if(a)for(u=s[s.length-1].ownerDocument,pe.map(s,E),c=0;c<a;c++)o=s[c],Ie.test(o.type||"")&&!pe._data(o,"globalEval")&&pe.contains(u,o)&&(o.src?pe._evalUrl&&pe._evalUrl(o.src):pe.globalEval((o.text||o.textContent||o.innerHTML||"").replace(ot,"")));l=i=null}return e}function A(e,t,n){for(var r,i=t?pe.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||pe.cleanData(h(r)),r.parentNode&&(n&&pe.contains(r.ownerDocument,r)&&g(h(r,"script")),r.parentNode.removeChild(r));return e}function D(e,t){var n=pe(t.createElement(e)).appendTo(t.body),r=pe.css(n[0],"display");return n.detach(),r}function j(e){var t=re,n=lt[e];return n||(n=D(e,t),"none"!==n&&n||(ut=(ut||pe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(ut[0].contentWindow||ut[0].contentDocument).document,t.write(),t.close(),n=D(e,t),ut.detach()),lt[e]=n),n}function L(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function H(e){if(e in Et)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=Ct.length;n--;)if(e=Ct[n]+t,e in Et)return e}function q(e,t){for(var n,r,i,o=[],a=0,s=e.length;a<s;a++)r=e[a],r.style&&(o[a]=pe._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Re(r)&&(o[a]=pe._data(r,"olddisplay",j(r.nodeName)))):(i=Re(r),(n&&"none"!==n||!i)&&pe._data(r,"olddisplay",i?n:pe.css(r,"display"))));for(a=0;a<s;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function _(e,t,n){var r=bt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function F(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=pe.css(e,n+Oe[o],!0,i)),r?("content"===n&&(a-=pe.css(e,"padding"+Oe[o],!0,i)),"margin"!==n&&(a-=pe.css(e,"border"+Oe[o]+"Width",!0,i))):(a+=pe.css(e,"padding"+Oe[o],!0,i),"padding"!==n&&(a+=pe.css(e,"border"+Oe[o]+"Width",!0,i)));return a}function M(t,n,r){var i=!0,o="width"===n?t.offsetWidth:t.offsetHeight,a=ht(t),s=fe.boxSizing&&"border-box"===pe.css(t,"boxSizing",!1,a);if(re.msFullscreenElement&&e.top!==e&&t.getClientRects().length&&(o=Math.round(100*t.getBoundingClientRect()[n])),o<=0||null==o){if(o=gt(t,n,a),(o<0||null==o)&&(o=t.style[n]),ft.test(o))return o;i=s&&(fe.boxSizingReliable()||o===t.style[n]),o=parseFloat(o)||0}return o+F(t,n,r||(s?"border":"content"),i,a)+"px"}function O(e,t,n,r,i){return new O.prototype.init(e,t,n,r,i)}function R(){return e.setTimeout(function(){Nt=void 0}),Nt=pe.now()}function P(e,t){var n,r={height:e},i=0;for(t=t?1:0;i<4;i+=2-t)n=Oe[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function B(e,t,n){for(var r,i=($.tweeners[t]||[]).concat($.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function W(e,t,n){var r,i,o,a,s,u,l,c,f=this,d={},p=e.style,h=e.nodeType&&Re(e),g=pe._data(e,"fxshow");n.queue||(s=pe._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,pe.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=pe.css(e,"display"),c="none"===l?pe._data(e,"olddisplay")||j(e.nodeName):l,"inline"===c&&"none"===pe.css(e,"float")&&(fe.inlineBlockNeedsLayout&&"inline"!==j(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",fe.shrinkWrapBlocks()||f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],St.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;h=!0}d[r]=g&&g[r]||pe.style(e,r)}else l=void 0;if(pe.isEmptyObject(d))"inline"===("none"===l?j(e.nodeName):l)&&(p.display=l);else{g?"hidden"in g&&(h=g.hidden):g=pe._data(e,"fxshow",{}),o&&(g.hidden=!h),h?pe(e).show():f.done(function(){pe(e).hide()}),f.done(function(){var t;pe._removeData(e,"fxshow");for(t in d)pe.style(e,t,d[t])});for(r in d)a=B(h?g[r]:0,r,f),r in g||(g[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function I(e,t){var n,r,i,o,a;for(n in e)if(r=pe.camelCase(n),i=t[r],o=e[n],pe.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=pe.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function $(e,t,n){var r,i,o=0,a=$.prefilters.length,s=pe.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Nt||R(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;a<u;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),o<1&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:pe.extend({},t),opts:pe.extend(!0,{specialEasing:{},easing:pe.easing._default},n),originalProperties:t,originalOptions:n,startTime:Nt||R(),duration:n.duration,tweens:[],createTween:function(t,n){var r=pe.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(I(c,l.opts.specialEasing);o<a;o++)if(r=$.prefilters[o].call(l,e,c,l.opts))return pe.isFunction(r.stop)&&(pe._queueHooks(l.elem,l.opts.queue).stop=pe.proxy(r.stop,r)),r;return pe.map(c,B,l),pe.isFunction(l.opts.start)&&l.opts.start.call(e,l),pe.fx.timer(pe.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function z(e){return pe.attr(e,"class")||""}function X(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(De)||[];if(pe.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function U(e,t,n,r){function i(s){var u;return o[s]=!0,pe.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===Kt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function V(e,t){var n,r,i=pe.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&pe.extend(!0,e,n),e}function Y(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){u.unshift(a);break}if(u[0]in n)o=u[0];else{for(a in n){if(!u[0]||e.converters[a+" "+u[0]]){o=a;break}r||(r=a)}o=o||r}if(o)return o!==u[0]&&u.unshift(o),n[o]}function J(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[i]:l[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function G(e){return e.style&&e.style.display||pe.css(e,"display")}function Q(e){for(;e&&1===e.nodeType;){if("none"===G(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}function K(e,t,n,r){var i;if(pe.isArray(t))pe.each(t,function(t,i){n||rn.test(e)?r(e,i):K(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==pe.type(t))r(e,t);else for(i in t)K(e+"["+i+"]",t[i],n,r)}function Z(){try{return new e.XMLHttpRequest}catch(e){}}function ee(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function te(e){return pe.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var ne=[],re=e.document,ie=ne.slice,oe=ne.concat,ae=ne.push,se=ne.indexOf,ue={},le=ue.toString,ce=ue.hasOwnProperty,fe={},de="1.12.2",pe=function(e,t){return new pe.fn.init(e,t)},he=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ge=/^-ms-/,me=/-([\da-z])/gi,ye=function(e,t){return t.toUpperCase()};pe.fn=pe.prototype={jquery:de,constructor:pe,selector:"",length:0,toArray:function(){return ie.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:ie.call(this)},pushStack:function(e){var t=pe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return pe.each(this,e)},map:function(e){return this.pushStack(pe.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(ie.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ae,sort:ne.sort,splice:ne.splice},pe.extend=pe.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||pe.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],n=i[r],a!==n&&(l&&n&&(pe.isPlainObject(n)||(t=pe.isArray(n)))?(t?(t=!1,o=e&&pe.isArray(e)?e:[]):o=e&&pe.isPlainObject(e)?e:{},a[r]=pe.extend(l,o,n)):void 0!==n&&(a[r]=n));return a},pe.extend({expando:"jQuery"+(de+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===pe.type(e)},isArray:Array.isArray||function(e){return"array"===pe.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!pe.isArray(e)&&t-parseFloat(t)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==pe.type(e)||e.nodeType||pe.isWindow(e))return!1;try{if(e.constructor&&!ce.call(e,"constructor")&&!ce.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(!fe.ownFirst)for(t in e)return ce.call(e,t);for(t in e);return void 0===t||ce.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ue[le.call(e)]||"object":typeof e},globalEval:function(t){t&&pe.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ge,"ms-").replace(me,ye)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var r,i=0;if(n(e))for(r=e.length;i<r&&t.call(e[i],i,e[i])!==!1;i++);else for(i in e)if(t.call(e[i],i,e[i])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(he,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?pe.merge(r,"string"==typeof e?[e]:e):ae.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(se)return se.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;)e[i++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;o<a;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,r){var i,o,a=0,s=[];if(n(e))for(i=e.length;a<i;a++)o=t(e[a],a,r),null!=o&&s.push(o);else for(a in e)o=t(e[a],a,r),null!=o&&s.push(o);return oe.apply([],s)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(i=e[t],t=e,e=i),pe.isFunction(e))return n=ie.call(arguments,2),r=function(){return e.apply(t||this,n.concat(ie.call(arguments)))},r.guid=e.guid=e.guid||pe.guid++,r},now:function(){return+new Date},support:fe}),"function"==typeof Symbol&&(pe.fn[Symbol.iterator]=ne[Symbol.iterator]),pe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ue["[object "+t+"]"]=t.toLowerCase()});var ve=function(e){function t(e,t,n,r){var i,o,a,s,u,l,f,p,h=t&&t.ownerDocument,g=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==g&&9!==g&&11!==g)return n;if(!r&&((t?t.ownerDocument||t:B)!==H&&L(t),t=t||H,_)){if(11!==g&&(l=ye.exec(e)))if(i=l[1]){if(9===g){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(h&&(a=h.getElementById(i))&&R(t,a)&&a.id===i)return n.push(a),n}else{if(l[2])return K.apply(n,t.getElementsByTagName(e)),n;if((i=l[3])&&w.getElementsByClassName&&t.getElementsByClassName)return K.apply(n,t.getElementsByClassName(i)),n}if(w.qsa&&!X[e+" "]&&(!F||!F.test(e))){if(1!==g)h=t,p=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(xe,"\\$&"):t.setAttribute("id",s=P),f=N(e),o=f.length,u=de.test(s)?"#"+s:"[id='"+s+"']";o--;)f[o]=u+" "+d(f[o]);p=f.join(","),h=ve.test(e)&&c(t.parentNode)||t}if(p)try{return K.apply(n,h.querySelectorAll(p)),n}catch(e){}finally{s===P&&t.removeAttribute("id")}}}return S(e.replace(se,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[P]=!0,e}function i(e){var t=H.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)T.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function f(){}function d(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=I++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,l,c=[W,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(l=t[P]||(t[P]={}),u=l[t.uniqueID]||(l[t.uniqueID]={}),(s=u[r])&&s[0]===W&&s[1]===o)return c[2]=s[2];if(u[r]=c,c[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function m(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function y(e,t,n,i,o,a){return i&&!i[P]&&(i=y(i)),o&&!o[P]&&(o=y(o,a)),r(function(r,a,s,u){var l,c,f,d=[],p=[],h=a.length,y=r||g(t||"*",s.nodeType?[s]:s,[]),v=!e||!r&&t?y:m(y,d,e,s,u),x=n?o||(r?e:h||i)?[]:a:v;if(n&&n(v,x,s,u),i)for(l=m(x,p),i(l,[],s,u),c=l.length;c--;)(f=l[c])&&(x[p[c]]=!(v[p[c]]=f));if(r){if(o||e){if(o){for(l=[],c=x.length;c--;)(f=x[c])&&l.push(v[c]=f);o(null,x=[],l,u)}for(c=x.length;c--;)(f=x[c])&&(l=o?ee(r,f):d[c])>-1&&(r[l]=!(a[l]=f))}}else x=m(x===a?x.splice(h,x.length):x),o?o(null,a,x,u):K.apply(a,x)})}function v(e){for(var t,n,r,i=e.length,o=T.relative[e[0].type],a=o||T.relative[" "],s=o?1:0,u=p(function(e){return e===t},a,!0),l=p(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==A)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];s<i;s++)if(n=T.relative[e[s].type])c=[p(h(c),n)];else{if(n=T.filter[e[s].type].apply(null,e[s].matches),n[P]){for(r=++s;r<i&&!T.relative[e[r].type];r++);return y(s>1&&h(c),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,s<r&&v(e.slice(s,r)),r<i&&v(e=e.slice(r)),r<i&&d(e))}c.push(n)}return h(c)}function x(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,l){var c,f,d,p=0,h="0",g=r&&[],y=[],v=A,x=r||o&&T.find.TAG("*",l),b=W+=null==v?1:Math.random()||.1,w=x.length;for(l&&(A=a===H||a||l);h!==w&&null!=(c=x[h]);h++){if(o&&c){for(f=0,a||c.ownerDocument===H||(L(c),s=!_);d=e[f++];)if(d(c,a||H,s)){u.push(c);break}l&&(W=b)}i&&((c=!d&&c)&&p--,r&&g.push(c))}if(p+=h,i&&h!==p){for(f=0;d=n[f++];)d(g,y,a,s);if(r){if(p>0)for(;h--;)g[h]||y[h]||(y[h]=G.call(u));y=m(y)}K.apply(u,y),l&&!r&&y.length>0&&p+n.length>1&&t.uniqueSort(u)}return l&&(W=b,A=v),g};return i?r(a):a}var b,w,T,C,E,N,k,S,A,D,j,L,H,q,_,F,M,O,R,P="sizzle"+1*new Date,B=e.document,W=0,I=0,$=n(),z=n(),X=n(),U=function(e,t){return e===t&&(j=!0),0},V=1<<31,Y={}.hasOwnProperty,J=[],G=J.pop,Q=J.push,K=J.push,Z=J.slice,ee=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",oe=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),le=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ce=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),fe=new RegExp(oe),de=new RegExp("^"+re+"$"),pe={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,xe=/'|\\/g,be=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),we=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Te=function(){L()};try{K.apply(J=Z.call(B.childNodes),B.childNodes),J[B.childNodes.length].nodeType}catch(e){K={apply:J.length?function(e,t){Q.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},E=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},L=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:B;return r!==H&&9===r.nodeType&&r.documentElement?(H=r,q=H.documentElement,_=!E(H),(n=H.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Te,!1):n.attachEvent&&n.attachEvent("onunload",Te)),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(H.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=me.test(H.getElementsByClassName),w.getById=i(function(e){return q.appendChild(e).id=P,!H.getElementsByName||!H.getElementsByName(P).length}),w.getById?(T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&_){var n=t.getElementById(e);return n?[n]:[]}},T.filter.ID=function(e){var t=e.replace(be,we);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(be,we);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},T.find.CLASS=w.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&_)return t.getElementsByClassName(e)},M=[],F=[],(w.qsa=me.test(H.querySelectorAll))&&(i(function(e){q.appendChild(e).innerHTML="<a id='"+P+"'></a><select id='"+P+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||F.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+P+"-]").length||F.push("~="),e.querySelectorAll(":checked").length||F.push(":checked"),e.querySelectorAll("a#"+P+"+*").length||F.push(".#.+[+~]")}),i(function(e){var t=H.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&F.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")})),(w.matchesSelector=me.test(O=q.matches||q.webkitMatchesSelector||q.mozMatchesSelector||q.oMatchesSelector||q.msMatchesSelector))&&i(function(e){w.disconnectedMatch=O.call(e,"div"),O.call(e,"[s!='']:x"),M.push("!=",oe)}),F=F.length&&new RegExp(F.join("|")),M=M.length&&new RegExp(M.join("|")),t=me.test(q.compareDocumentPosition),R=t||me.test(q.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return j=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===H||e.ownerDocument===B&&R(B,e)?-1:t===H||t.ownerDocument===B&&R(B,t)?1:D?ee(D,e)-ee(D,t):0:4&n?-1:1)}:function(e,t){if(e===t)return j=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],u=[t];if(!i||!o)return e===H?-1:t===H?1:i?-1:o?1:D?ee(D,e)-ee(D,t):0;if(i===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?a(s[r],u[r]):s[r]===B?-1:u[r]===B?1:0},H):H},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==H&&L(e),n=n.replace(ce,"='$1']"),w.matchesSelector&&_&&!X[n+" "]&&(!M||!M.test(n))&&(!F||!F.test(n)))try{var r=O.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,H,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==H&&L(e),R(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==H&&L(e);var n=T.attrHandle[t.toLowerCase()],r=n&&Y.call(T.attrHandle,t.toLowerCase())?n(e,t,!_):void 0;return void 0!==r?r:w.attributes||!_?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(j=!w.detectDuplicates,D=!w.sortStable&&e.slice(0),e.sort(U),j){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return D=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},T=t.selectors={cacheLength:50,createPseudo:r,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,we),e[3]=(e[3]||e[4]||e[5]||"").replace(be,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&fe.test(n)&&(t=N(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=$[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&$(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,d,p,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!u&&!s,x=!1;if(m){if(o){for(;g;){for(d=t;d=d[g];)if(s?d.nodeName.toLowerCase()===y:1===d.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&v){for(d=m,f=d[P]||(d[P]={}),c=f[d.uniqueID]||(f[d.uniqueID]={}),
l=c[e]||[],p=l[0]===W&&l[1],x=p&&l[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(x=p=0)||h.pop();)if(1===d.nodeType&&++x&&d===t){c[e]=[W,p,x];break}}else if(v&&(d=t,f=d[P]||(d[P]={}),c=f[d.uniqueID]||(f[d.uniqueID]={}),l=c[e]||[],p=l[0]===W&&l[1],x=p),x===!1)for(;(d=++p&&d&&d[g]||(x=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==y:1!==d.nodeType)||!++x||(v&&(f=d[P]||(d[P]={}),c=f[d.uniqueID]||(f[d.uniqueID]={}),c[e]=[W,x]),d!==t)););return x-=i,x===r||x%r===0&&x/r>=0}}},PSEUDO:function(e,n){var i,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[P]?o(n):o.length>1?(i=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=k(e.replace(se,"$1"));return i[P]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(be,we),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(be,we).toLowerCase(),function(t){var n;do if(n=_?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===q},focus:function(e){return e===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[n<0?n+t:n]}),even:l(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},T.pseudos.nth=T.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})T.pseudos[b]=u(b);return f.prototype=T.filters=T.pseudos,T.setFilters=new f,N=t.tokenize=function(e,n){var r,i,o,a,s,u,l,c=z[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=T.preFilter;s;){r&&!(i=ue.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=le.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(se," ")}),s=s.slice(r.length));for(a in T.filter)!(i=pe[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):z(e,u).slice(0)},k=t.compile=function(e,t){var n,r=[],i=[],o=X[e+" "];if(!o){for(t||(t=N(e)),n=t.length;n--;)o=v(t[n]),o[P]?r.push(o):i.push(o);o=X(e,x(i,r)),o.selector=e}return o},S=t.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,f=!r&&N(e=l.selector||e);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===t.nodeType&&_&&T.relative[o[1].type]){if(t=(T.find.ID(a.matches[0].replace(be,we),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=pe.needsContext.test(e)?0:o.length;i--&&(a=o[i],!T.relative[s=a.type]);)if((u=T.find[s])&&(r=u(a.matches[0].replace(be,we),ve.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&d(o),!e)return K.apply(n,r),n;break}}return(l||k(e,f))(r,t,!_,n,!t||ve.test(e)&&c(t.parentNode)||t),n},w.sortStable=P.split("").sort(U).join("")===P,w.detectDuplicates=!!j,L(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(H.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);pe.find=ve,pe.expr=ve.selectors,pe.expr[":"]=pe.expr.pseudos,pe.uniqueSort=pe.unique=ve.uniqueSort,pe.text=ve.getText,pe.isXMLDoc=ve.isXML,pe.contains=ve.contains;var xe=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&pe(e).is(n))break;r.push(e)}return r},be=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},we=pe.expr.match.needsContext,Te=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ce=/^.[^:#\[\.,]*$/;pe.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?pe.find.matchesSelector(r,e)?[r]:[]:pe.find.matches(e,pe.grep(t,function(e){return 1===e.nodeType}))},pe.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(pe(e).filter(function(){for(t=0;t<i;t++)if(pe.contains(r[t],this))return!0}));for(t=0;t<i;t++)pe.find(e,r[t],n);return n=this.pushStack(i>1?pe.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&we.test(e)?pe(e):e||[],!1).length}});var Ee,Ne=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ke=pe.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||Ee,"string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Ne.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof pe?t[0]:t,pe.merge(this,pe.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:re,!0)),Te.test(r[1])&&pe.isPlainObject(t))for(r in t)pe.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}if(i=re.getElementById(r[2]),i&&i.parentNode){if(i.id!==r[2])return Ee.find(e);this.length=1,this[0]=i}return this.context=re,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):pe.isFunction(e)?"undefined"!=typeof n.ready?n.ready(e):e(pe):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),pe.makeArray(e,this))};ke.prototype=pe.fn,Ee=pe(re);var Se=/^(?:parents|prev(?:Until|All))/,Ae={children:!0,contents:!0,next:!0,prev:!0};pe.fn.extend({has:function(e){var t,n=pe(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(pe.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=we.test(e)||"string"!=typeof e?pe(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&pe.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?pe.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?pe.inArray(this[0],pe(e)):pe.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(pe.uniqueSort(pe.merge(this.get(),pe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),pe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return xe(e,"parentNode")},parentsUntil:function(e,t,n){return xe(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return xe(e,"nextSibling")},prevAll:function(e){return xe(e,"previousSibling")},nextUntil:function(e,t,n){return xe(e,"nextSibling",n)},prevUntil:function(e,t,n){return xe(e,"previousSibling",n)},siblings:function(e){return be((e.parentNode||{}).firstChild,e)},children:function(e){return be(e.firstChild)},contents:function(e){return pe.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:pe.merge([],e.childNodes)}},function(e,t){pe.fn[e]=function(n,r){var i=pe.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=pe.filter(r,i)),this.length>1&&(Ae[e]||(i=pe.uniqueSort(i)),Se.test(e)&&(i=i.reverse())),this.pushStack(i)}});var De=/\S+/g;pe.Callbacks=function(e){e="string"==typeof e?o(e):pe.extend({},e);var t,n,r,i,a=[],s=[],u=-1,l=function(){for(i=e.once,r=t=!0;s.length;u=-1)for(n=s.shift();++u<a.length;)a[u].apply(n[0],n[1])===!1&&e.stopOnFalse&&(u=a.length,n=!1);e.memory||(n=!1),t=!1,i&&(a=n?[]:"")},c={add:function(){return a&&(n&&!t&&(u=a.length-1,s.push(n)),function t(n){pe.each(n,function(n,r){pe.isFunction(r)?e.unique&&c.has(r)||a.push(r):r&&r.length&&"string"!==pe.type(r)&&t(r)})}(arguments),n&&!t&&l()),this},remove:function(){return pe.each(arguments,function(e,t){for(var n;(n=pe.inArray(t,a,n))>-1;)a.splice(n,1),n<=u&&u--}),this},has:function(e){return e?pe.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return i=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return i=!0,n||c.disable(),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},pe.extend({Deferred:function(e){var t=[["resolve","done",pe.Callbacks("once memory"),"resolved"],["reject","fail",pe.Callbacks("once memory"),"rejected"],["notify","progress",pe.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return pe.Deferred(function(n){pe.each(t,function(t,o){var a=pe.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&pe.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?pe.extend(e,r):r}},i={};return r.pipe=r.then,pe.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=ie.call(arguments),a=o.length,s=1!==a||e&&pe.isFunction(e.promise)?a:0,u=1===s?e:pe.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?ie.call(arguments):i,r===t?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);i<a;i++)o[i]&&pe.isFunction(o[i].promise)?o[i].promise().progress(l(i,n,t)).done(l(i,r,o)).fail(u.reject):--s;return s||u.resolveWith(r,o),u.promise()}});var je;pe.fn.ready=function(e){return pe.ready.promise().done(e),this},pe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?pe.readyWait++:pe.ready(!0)},ready:function(e){(e===!0?--pe.readyWait:pe.isReady)||(pe.isReady=!0,e!==!0&&--pe.readyWait>0||(je.resolveWith(re,[pe]),pe.fn.triggerHandler&&(pe(re).triggerHandler("ready"),pe(re).off("ready"))))}}),pe.ready.promise=function(t){if(!je)if(je=pe.Deferred(),"complete"===re.readyState||"loading"!==re.readyState&&!re.documentElement.doScroll)e.setTimeout(pe.ready);else if(re.addEventListener)re.addEventListener("DOMContentLoaded",s),e.addEventListener("load",s);else{re.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&re.documentElement}catch(e){}n&&n.doScroll&&!function t(){if(!pe.isReady){try{n.doScroll("left")}catch(n){return e.setTimeout(t,50)}a(),pe.ready()}}()}return je.promise(t)},pe.ready.promise();var Le;for(Le in pe(fe))break;fe.ownFirst="0"===Le,fe.inlineBlockNeedsLayout=!1,pe(function(){var e,t,n,r;n=re.getElementsByTagName("body")[0],n&&n.style&&(t=re.createElement("div"),r=re.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",fe.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=re.createElement("div");fe.deleteExpando=!0;try{delete e.test}catch(e){fe.deleteExpando=!1}e=null}();var He=function(e){var t=pe.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||t!==!0&&e.getAttribute("classid")===t)},qe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,_e=/([A-Z])/g;pe.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?pe.cache[e[pe.expando]]:e[pe.expando],!!e&&!l(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return f(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return f(e,t,!0)}}),pe.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=pe.data(o),1===o.nodeType&&!pe._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=pe.camelCase(r.slice(5)),u(o,r,i[r])));pe._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){pe.data(this,e)}):arguments.length>1?this.each(function(){pe.data(this,e,t)}):o?u(o,e,pe.data(o,e)):void 0},removeData:function(e){return this.each(function(){pe.removeData(this,e)})}}),pe.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=pe._data(e,t),n&&(!r||pe.isArray(n)?r=pe._data(e,t,pe.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=pe.queue(e,t),r=n.length,i=n.shift(),o=pe._queueHooks(e,t),a=function(){pe.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return pe._data(e,n)||pe._data(e,n,{empty:pe.Callbacks("once memory").add(function(){pe._removeData(e,t+"queue"),pe._removeData(e,n)})})}}),pe.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?pe.queue(this[0],e):void 0===t?this:this.each(function(){var n=pe.queue(this,e,t);pe._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&pe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){pe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=pe.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=pe._data(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}}),function(){var e;fe.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,r;return n=re.getElementsByTagName("body")[0],n&&n.style?(t=re.createElement("div"),r=re.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(re.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var Fe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Me=new RegExp("^(?:([+-])=|)("+Fe+")([a-z%]*)$","i"),Oe=["Top","Right","Bottom","Left"],Re=function(e,t){return e=t||e,"none"===pe.css(e,"display")||!pe.contains(e.ownerDocument,e)},Pe=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===pe.type(n)){i=!0;for(s in n)Pe(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,pe.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(pe(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},Be=/^(?:checkbox|radio)$/i,We=/<([\w:-]+)/,Ie=/^$|\/(?:java|ecma)script/i,$e=/^\s+/,ze="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var e=re.createElement("div"),t=re.createDocumentFragment(),n=re.createElement("input");e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",fe.leadingWhitespace=3===e.firstChild.nodeType,fe.tbody=!e.getElementsByTagName("tbody").length,fe.htmlSerialize=!!e.getElementsByTagName("link").length,fe.html5Clone="<:nav></:nav>"!==re.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,t.appendChild(n),fe.appendChecked=n.checked,e.innerHTML="<textarea>x</textarea>",fe.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,t.appendChild(e),n=re.createElement("input"),n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),fe.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,fe.noCloneEvent=!!e.addEventListener,e[pe.expando]=1,fe.attributes=!e.getAttribute(pe.expando)}();var Xe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:fe.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Xe.optgroup=Xe.option,Xe.tbody=Xe.tfoot=Xe.colgroup=Xe.caption=Xe.thead,Xe.th=Xe.td;var Ue=/<|&#?\w+;/,Ve=/<tbody/i;!function(){var t,n,r=re.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(fe[t]=n in e)||(r.setAttribute(n,"t"),fe[t]=r.attributes[n].expando===!1);r=null}();var Ye=/^(?:input|select|textarea)$/i,Je=/^key/,Ge=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Qe=/^(?:focusinfocus|focusoutblur)$/,Ke=/^([^.]*)(?:\.(.+)|)/;pe.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,f,d,p,h,g,m=pe._data(e);if(m){for(n.handler&&(u=n,n=u.handler,i=u.selector),n.guid||(n.guid=pe.guid++),(a=m.events)||(a=m.events={}),(c=m.handle)||(c=m.handle=function(e){return"undefined"==typeof pe||e&&pe.event.triggered===e.type?void 0:pe.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(De)||[""],s=t.length;s--;)o=Ke.exec(t[s])||[],p=g=o[1],h=(o[2]||"").split(".").sort(),p&&(l=pe.event.special[p]||{},p=(i?l.delegateType:l.bindType)||p,l=pe.event.special[p]||{},f=pe.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&pe.expr.match.needsContext.test(i),namespace:h.join(".")},u),(d=a[p])||(d=a[p]=[],d.delegateCount=0,l.setup&&l.setup.call(e,r,h,c)!==!1||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),l.add&&(l.add.call(e,f),f.handler.guid||(f.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,f):d.push(f),pe.event.global[p]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,d,p,h,g,m=pe.hasData(e)&&pe._data(e);if(m&&(c=m.events)){for(t=(t||"").match(De)||[""],l=t.length;l--;)if(s=Ke.exec(t[l])||[],p=g=s[1],h=(s[2]||"").split(".").sort(),p){for(f=pe.event.special[p]||{},p=(r?f.delegateType:f.bindType)||p,d=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=d.length;o--;)a=d[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(d.splice(o,1),a.selector&&d.delegateCount--,f.remove&&f.remove.call(e,a));u&&!d.length&&(f.teardown&&f.teardown.call(e,h,m.handle)!==!1||pe.removeEvent(e,p,m.handle),delete c[p])}else for(p in c)pe.event.remove(e,p+t[l],n,r,!0);pe.isEmptyObject(c)&&(delete m.handle,pe._removeData(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,u,l,c,f,d=[r||re],p=ce.call(t,"type")?t.type:t,h=ce.call(t,"namespace")?t.namespace.split("."):[];if(s=c=r=r||re,3!==r.nodeType&&8!==r.nodeType&&!Qe.test(p+pe.event.triggered)&&(p.indexOf(".")>-1&&(h=p.split("."),p=h.shift(),h.sort()),a=p.indexOf(":")<0&&"on"+p,t=t[pe.expando]?t:new pe.Event(p,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:pe.makeArray(n,[t]),l=pe.event.special[p]||{},i||!l.trigger||l.trigger.apply(r,n)!==!1)){if(!i&&!l.noBubble&&!pe.isWindow(r)){for(u=l.delegateType||p,Qe.test(u+p)||(s=s.parentNode);s;s=s.parentNode)d.push(s),c=s;c===(r.ownerDocument||re)&&d.push(c.defaultView||c.parentWindow||e)}for(f=0;(s=d[f++])&&!t.isPropagationStopped();)t.type=f>1?u:l.bindType||p,o=(pe._data(s,"events")||{})[t.type]&&pe._data(s,"handle"),o&&o.apply(s,n),o=a&&s[a],o&&o.apply&&He(s)&&(t.result=o.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=p,!i&&!t.isDefaultPrevented()&&(!l._default||l._default.apply(d.pop(),n)===!1)&&He(r)&&a&&r[p]&&!pe.isWindow(r)){c=r[a],c&&(r[a]=null),pe.event.triggered=p;try{r[p]()}catch(e){}pe.event.triggered=void 0,c&&(r[a]=c)}return t.result}},dispatch:function(e){e=pe.event.fix(e);var t,n,r,i,o,a=[],s=ie.call(arguments),u=(pe._data(this,"events")||{})[e.type]||[],l=pe.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(a=pe.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,r=((pe.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(r=[],n=0;n<s;n++)o=t[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?pe(i,this).index(u)>-1:pe.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&a.push({elem:u,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[pe.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Ge.test(i)?this.mouseHooks:Je.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new pe.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||re),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||re,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==b()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===b()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(pe.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return pe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n){var r=pe.extend(new pe.Event,n,{type:e,isSimulated:!0});pe.event.trigger(r,null,t),r.isDefaultPrevented()&&n.preventDefault()}},pe.removeEvent=re.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)}:function(e,t,n){var r="on"+t;e.detachEvent&&("undefined"==typeof e[r]&&(e[r]=null),e.detachEvent(r,n))},pe.Event=function(e,t){return this instanceof pe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?v:x):this.type=e,t&&pe.extend(this,t),this.timeStamp=e&&e.timeStamp||pe.now(),void(this[pe.expando]=!0)):new pe.Event(e,t)},pe.Event.prototype={constructor:pe.Event,isDefaultPrevented:x,isPropagationStopped:x,isImmediatePropagationStopped:x,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=v,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=v,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=v,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},pe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){pe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||pe.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),fe.submit||(pe.event.special.submit={setup:function(){return!pe.nodeName(this,"form")&&void pe.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=pe.nodeName(t,"input")||pe.nodeName(t,"button")?pe.prop(t,"form"):void 0;n&&!pe._data(n,"submit")&&(pe.event.add(n,"submit._submit",function(e){e._submitBubble=!0}),pe._data(n,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&pe.event.simulate("submit",this.parentNode,e))},teardown:function(){return!pe.nodeName(this,"form")&&void pe.event.remove(this,"._submit")}}),fe.change||(pe.event.special.change={setup:function(){return Ye.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(pe.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),pe.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),pe.event.simulate("change",this,e)})),!1):void pe.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ye.test(t.nodeName)&&!pe._data(t,"change")&&(pe.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||pe.event.simulate("change",this.parentNode,e)}),pe._data(t,"change",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return pe.event.remove(this,"._change"),!Ye.test(this.nodeName)}}),fe.focusin||pe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){pe.event.simulate(t,e.target,pe.event.fix(e))};pe.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=pe._data(r,t);i||r.addEventListener(e,n,!0),pe._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=pe._data(r,t)-1;i?pe._data(r,t,i):(r.removeEventListener(e,n,!0),pe._removeData(r,t))}}}),pe.fn.extend({on:function(e,t,n,r){return w(this,e,t,n,r)},one:function(e,t,n,r){return w(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,pe(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=x),this.each(function(){pe.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){pe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return pe.event.trigger(e,t,n,!0)}});var Ze=/ jQuery\d+="(?:null|\d+)"/g,et=new RegExp("<(?:"+ze+")[\\s/>]","i"),tt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,nt=/<script|<style|<link/i,rt=/checked\s*(?:[^=]|=\s*.checked.)/i,it=/^true\/(.*)/,ot=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,at=p(re),st=at.appendChild(re.createElement("div"));pe.extend({htmlPrefilter:function(e){return e.replace(tt,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s,u=pe.contains(e.ownerDocument,e);if(fe.html5Clone||pe.isXMLDoc(e)||!et.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(st.innerHTML=e.outerHTML,st.removeChild(o=st.firstChild)),!(fe.noCloneEvent&&fe.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||pe.isXMLDoc(e)))for(r=h(o),s=h(e),a=0;null!=(i=s[a]);++a)r[a]&&k(i,r[a]);if(t)if(n)for(s=s||h(e),r=r||h(o),a=0;null!=(i=s[a]);a++)N(i,r[a]);else N(e,o);return r=h(o,"script"),r.length>0&&g(r,!u&&h(e,"script")),r=s=i=null,o},cleanData:function(e,t){for(var n,r,i,o,a=0,s=pe.expando,u=pe.cache,l=fe.attributes,c=pe.event.special;null!=(n=e[a]);a++)if((t||He(n))&&(i=n[s],o=i&&u[i])){if(o.events)for(r in o.events)c[r]?pe.event.remove(n,r):pe.removeEvent(n,r,o.handle);u[i]&&(delete u[i],l||"undefined"==typeof n.removeAttribute?n[s]=void 0:n.removeAttribute(s),ne.push(i))}}}),pe.fn.extend({domManip:S,detach:function(e){return A(this,e,!0)},remove:function(e){return A(this,e)},text:function(e){return Pe(this,function(e){return void 0===e?pe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||re).createTextNode(e))},null,e,arguments.length)},append:function(){return S(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=T(this,e);t.appendChild(e)}})},prepend:function(){return S(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=T(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return S(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return S(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&pe.cleanData(h(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&pe.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return pe.clone(this,e,t)})},html:function(e){return Pe(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Ze,""):void 0;if("string"==typeof e&&!nt.test(e)&&(fe.htmlSerialize||!et.test(e))&&(fe.leadingWhitespace||!$e.test(e))&&!Xe[(We.exec(e)||["",""])[1].toLowerCase()]){e=pe.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(pe.cleanData(h(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return S(this,arguments,function(t){var n=this.parentNode;pe.inArray(this,e)<0&&(pe.cleanData(h(this)),
n&&n.replaceChild(t,this))},e)}}),pe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){pe.fn[e]=function(e){for(var n,r=0,i=[],o=pe(e),a=o.length-1;r<=a;r++)n=r===a?this:this.clone(!0),pe(o[r])[t](n),ae.apply(i,n.get());return this.pushStack(i)}});var ut,lt={HTML:"block",BODY:"block"},ct=/^margin/,ft=new RegExp("^("+Fe+")(?!px)[a-z%]+$","i"),dt=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i},pt=re.documentElement;!function(){function t(){var t,c,f=re.documentElement;f.appendChild(u),l.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",n=i=s=!1,r=a=!0,e.getComputedStyle&&(c=e.getComputedStyle(l),n="1%"!==(c||{}).top,s="2px"===(c||{}).marginLeft,i="4px"===(c||{width:"4px"}).width,l.style.marginRight="50%",r="4px"===(c||{marginRight:"4px"}).marginRight,t=l.appendChild(re.createElement("div")),t.style.cssText=l.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",l.style.width="1px",a=!parseFloat((e.getComputedStyle(t)||{}).marginRight),l.removeChild(t)),l.style.display="none",o=0===l.getClientRects().length,o&&(l.style.display="",l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",t=l.getElementsByTagName("td"),t[0].style.cssText="margin:0;border:0;padding:0;display:none",o=0===t[0].offsetHeight,o&&(t[0].style.display="",t[1].style.display="none",o=0===t[0].offsetHeight)),f.removeChild(u)}var n,r,i,o,a,s,u=re.createElement("div"),l=re.createElement("div");l.style&&(l.style.cssText="float:left;opacity:.5",fe.opacity="0.5"===l.style.opacity,fe.cssFloat=!!l.style.cssFloat,l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",fe.clearCloneStyle="content-box"===l.style.backgroundClip,u=re.createElement("div"),u.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",l.innerHTML="",u.appendChild(l),fe.boxSizing=""===l.style.boxSizing||""===l.style.MozBoxSizing||""===l.style.WebkitBoxSizing,pe.extend(fe,{reliableHiddenOffsets:function(){return null==n&&t(),o},boxSizingReliable:function(){return null==n&&t(),i},pixelMarginRight:function(){return null==n&&t(),r},pixelPosition:function(){return null==n&&t(),n},reliableMarginRight:function(){return null==n&&t(),a},reliableMarginLeft:function(){return null==n&&t(),s}}))}();var ht,gt,mt=/^(top|right|bottom|left)$/;e.getComputedStyle?(ht=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},gt=function(e,t,n){var r,i,o,a,s=e.style;return n=n||ht(e),a=n?n.getPropertyValue(t)||n[t]:void 0,""!==a&&void 0!==a||pe.contains(e.ownerDocument,e)||(a=pe.style(e,t)),n&&!fe.pixelMarginRight()&&ft.test(a)&&ct.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o),void 0===a?a:a+""}):pt.currentStyle&&(ht=function(e){return e.currentStyle},gt=function(e,t,n){var r,i,o,a,s=e.style;return n=n||ht(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),ft.test(a)&&!mt.test(t)&&(r=s.left,i=e.runtimeStyle,o=i&&i.left,o&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),void 0===a?a:a+""||"auto"});var yt=/alpha\([^)]*\)/i,vt=/opacity\s*=\s*([^)]*)/i,xt=/^(none|table(?!-c[ea]).+)/,bt=new RegExp("^("+Fe+")(.*)$","i"),wt={position:"absolute",visibility:"hidden",display:"block"},Tt={letterSpacing:"0",fontWeight:"400"},Ct=["Webkit","O","Moz","ms"],Et=re.createElement("div").style;pe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=gt(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:fe.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=pe.camelCase(t),u=e.style;if(t=pe.cssProps[s]||(pe.cssProps[s]=H(s)||s),a=pe.cssHooks[t]||pe.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t];if(o=typeof n,"string"===o&&(i=Me.exec(n))&&i[1]&&(n=d(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(pe.cssNumber[s]?"":"px")),fe.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{u[t]=n}catch(e){}}},css:function(e,t,n,r){var i,o,a,s=pe.camelCase(t);return t=pe.cssProps[s]||(pe.cssProps[s]=H(s)||s),a=pe.cssHooks[t]||pe.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=gt(e,t,r)),"normal"===o&&t in Tt&&(o=Tt[t]),""===n||n?(i=parseFloat(o),n===!0||isFinite(i)?i||0:o):o}}),pe.each(["height","width"],function(e,t){pe.cssHooks[t]={get:function(e,n,r){if(n)return xt.test(pe.css(e,"display"))&&0===e.offsetWidth?dt(e,wt,function(){return M(e,t,r)}):M(e,t,r)},set:function(e,n,r){var i=r&&ht(e);return _(e,n,r?F(e,t,r,fe.boxSizing&&"border-box"===pe.css(e,"boxSizing",!1,i),i):0)}}}),fe.opacity||(pe.cssHooks.opacity={get:function(e,t){return vt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=pe.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===pe.trim(o.replace(yt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=yt.test(o)?o.replace(yt,i):o+" "+i)}}),pe.cssHooks.marginRight=L(fe.reliableMarginRight,function(e,t){if(t)return dt(e,{display:"inline-block"},gt,[e,"marginRight"])}),pe.cssHooks.marginLeft=L(fe.reliableMarginLeft,function(e,t){if(t)return(parseFloat(gt(e,"marginLeft"))||(pe.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-dt(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px"}),pe.each({margin:"",padding:"",border:"Width"},function(e,t){pe.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Oe[r]+t]=o[r]||o[r-2]||o[0];return i}},ct.test(e)||(pe.cssHooks[e+t].set=_)}),pe.fn.extend({css:function(e,t){return Pe(this,function(e,t,n){var r,i,o={},a=0;if(pe.isArray(t)){for(r=ht(e),i=t.length;a<i;a++)o[t[a]]=pe.css(e,t[a],!1,r);return o}return void 0!==n?pe.style(e,t,n):pe.css(e,t)},e,t,arguments.length>1)},show:function(){return q(this,!0)},hide:function(){return q(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Re(this)?pe(this).show():pe(this).hide()})}}),pe.Tween=O,O.prototype={constructor:O,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||pe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(pe.cssNumber[n]?"":"px")},cur:function(){var e=O.propHooks[this.prop];return e&&e.get?e.get(this):O.propHooks._default.get(this)},run:function(e){var t,n=O.propHooks[this.prop];return this.options.duration?this.pos=t=pe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):O.propHooks._default.set(this),this}},O.prototype.init.prototype=O.prototype,O.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=pe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){pe.fx.step[e.prop]?pe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[pe.cssProps[e.prop]]&&!pe.cssHooks[e.prop]?e.elem[e.prop]=e.now:pe.style(e.elem,e.prop,e.now+e.unit)}}},O.propHooks.scrollTop=O.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},pe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},pe.fx=O.prototype.init,pe.fx.step={};var Nt,kt,St=/^(?:toggle|show|hide)$/,At=/queueHooks$/;pe.Animation=pe.extend($,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return d(n.elem,e,Me.exec(t),n),n}]},tweener:function(e,t){pe.isFunction(e)?(t=e,e=["*"]):e=e.match(De);for(var n,r=0,i=e.length;r<i;r++)n=e[r],$.tweeners[n]=$.tweeners[n]||[],$.tweeners[n].unshift(t)},prefilters:[W],prefilter:function(e,t){t?$.prefilters.unshift(e):$.prefilters.push(e)}}),pe.speed=function(e,t,n){var r=e&&"object"==typeof e?pe.extend({},e):{complete:n||!n&&t||pe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!pe.isFunction(t)&&t};return r.duration=pe.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in pe.fx.speeds?pe.fx.speeds[r.duration]:pe.fx.speeds._default,null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){pe.isFunction(r.old)&&r.old.call(this),r.queue&&pe.dequeue(this,r.queue)},r},pe.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Re).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=pe.isEmptyObject(e),o=pe.speed(t,n,r),a=function(){var t=$(this,pe.extend({},e),o);(i||pe._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=pe.timers,a=pe._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&At.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||pe.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=pe._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=pe.timers,a=r?r.length:0;for(n.finish=!0,pe.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),pe.each(["toggle","show","hide"],function(e,t){var n=pe.fn[t];pe.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(P(t,!0),e,r,i)}}),pe.each({slideDown:P("show"),slideUp:P("hide"),slideToggle:P("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){pe.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),pe.timers=[],pe.fx.tick=function(){var e,t=pe.timers,n=0;for(Nt=pe.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||pe.fx.stop(),Nt=void 0},pe.fx.timer=function(e){pe.timers.push(e),e()?pe.fx.start():pe.timers.pop()},pe.fx.interval=13,pe.fx.start=function(){kt||(kt=e.setInterval(pe.fx.tick,pe.fx.interval))},pe.fx.stop=function(){e.clearInterval(kt),kt=null},pe.fx.speeds={slow:600,fast:200,_default:400},pe.fn.delay=function(t,n){return t=pe.fx?pe.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e,t=re.createElement("input"),n=re.createElement("div"),r=re.createElement("select"),i=r.appendChild(re.createElement("option"));n=re.createElement("div"),n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],t.setAttribute("type","checkbox"),n.appendChild(t),e=n.getElementsByTagName("a")[0],e.style.cssText="top:1px",fe.getSetAttribute="t"!==n.className,fe.style=/top/.test(e.getAttribute("style")),fe.hrefNormalized="/a"===e.getAttribute("href"),fe.checkOn=!!t.value,fe.optSelected=i.selected,fe.enctype=!!re.createElement("form").enctype,r.disabled=!0,fe.optDisabled=!i.disabled,t=re.createElement("input"),t.setAttribute("value",""),fe.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),fe.radioValue="t"===t.value}();var Dt=/\r/g,jt=/[\x20\t\r\n\f]+/g;pe.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=pe.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,pe(this).val()):e,null==i?i="":"number"==typeof i?i+="":pe.isArray(i)&&(i=pe.map(i,function(e){return null==e?"":e+""})),t=pe.valHooks[this.type]||pe.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=pe.valHooks[i.type]||pe.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(Dt,""):null==n?"":n)}}}),pe.extend({valHooks:{option:{get:function(e){var t=pe.find.attr(e,"value");return null!=t?t:pe.trim(pe.text(e)).replace(jt," ")}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,u=i<0?s:o?i:0;u<s;u++)if(n=r[u],(n.selected||u===i)&&(fe.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!pe.nodeName(n.parentNode,"optgroup"))){if(t=pe(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=pe.makeArray(t),a=i.length;a--;)if(r=i[a],pe.inArray(pe.valHooks.option.get(r),o)>-1)try{r.selected=n=!0}catch(e){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),pe.each(["radio","checkbox"],function(){pe.valHooks[this]={set:function(e,t){if(pe.isArray(t))return e.checked=pe.inArray(pe(e).val(),t)>-1}},fe.checkOn||(pe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Lt,Ht,qt=pe.expr.attrHandle,_t=/^(?:checked|selected)$/i,Ft=fe.getSetAttribute,Mt=fe.input;pe.fn.extend({attr:function(e,t){return Pe(this,pe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){pe.removeAttr(this,e)})}}),pe.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?pe.prop(e,t,n):(1===o&&pe.isXMLDoc(e)||(t=t.toLowerCase(),i=pe.attrHooks[t]||(pe.expr.match.bool.test(t)?Ht:Lt)),void 0!==n?null===n?void pe.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=pe.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!fe.radioValue&&"radio"===t&&pe.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(De);if(o&&1===e.nodeType)for(;n=o[i++];)r=pe.propFix[n]||n,pe.expr.match.bool.test(n)?Mt&&Ft||!_t.test(n)?e[r]=!1:e[pe.camelCase("default-"+n)]=e[r]=!1:pe.attr(e,n,""),e.removeAttribute(Ft?n:r)}}),Ht={set:function(e,t,n){return t===!1?pe.removeAttr(e,n):Mt&&Ft||!_t.test(n)?e.setAttribute(!Ft&&pe.propFix[n]||n,n):e[pe.camelCase("default-"+n)]=e[n]=!0,n}},pe.each(pe.expr.match.bool.source.match(/\w+/g),function(e,t){var n=qt[t]||pe.find.attr;Mt&&Ft||!_t.test(t)?qt[t]=function(e,t,r){var i,o;return r||(o=qt[t],qt[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,qt[t]=o),i}:qt[t]=function(e,t,n){if(!n)return e[pe.camelCase("default-"+t)]?t.toLowerCase():null}}),Mt&&Ft||(pe.attrHooks.value={set:function(e,t,n){return pe.nodeName(e,"input")?void(e.defaultValue=t):Lt&&Lt.set(e,t,n)}}),Ft||(Lt={set:function(e,t,n){var r=e.getAttributeNode(n);if(r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n))return t}},qt.id=qt.name=qt.coords=function(e,t,n){var r;if(!n)return(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},pe.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:Lt.set},pe.attrHooks.contenteditable={set:function(e,t,n){Lt.set(e,""!==t&&t,n)}},pe.each(["width","height"],function(e,t){pe.attrHooks[t]={set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}}})),fe.style||(pe.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Ot=/^(?:input|select|textarea|button|object)$/i,Rt=/^(?:a|area)$/i;pe.fn.extend({prop:function(e,t){return Pe(this,pe.prop,e,t,arguments.length>1)},removeProp:function(e){return e=pe.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),pe.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&pe.isXMLDoc(e)||(t=pe.propFix[t]||t,i=pe.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=pe.find.attr(e,"tabindex");return t?parseInt(t,10):Ot.test(e.nodeName)||Rt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),fe.hrefNormalized||pe.each(["href","src"],function(e,t){pe.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),fe.optSelected||(pe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),pe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pe.propFix[this.toLowerCase()]=this}),fe.enctype||(pe.propFix.enctype="encoding");var Pt=/[\t\r\n\f]/g;pe.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(pe.isFunction(e))return this.each(function(t){pe(this).addClass(e.call(this,t,z(this)))});if("string"==typeof e&&e)for(t=e.match(De)||[];n=this[u++];)if(i=z(n),r=1===n.nodeType&&(" "+i+" ").replace(Pt," ")){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=pe.trim(r),i!==s&&pe.attr(n,"class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(pe.isFunction(e))return this.each(function(t){pe(this).removeClass(e.call(this,t,z(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(De)||[];n=this[u++];)if(i=z(n),r=1===n.nodeType&&(" "+i+" ").replace(Pt," ")){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");s=pe.trim(r),i!==s&&pe.attr(n,"class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):pe.isFunction(e)?this.each(function(n){pe(this).toggleClass(e.call(this,n,z(this),t),t)}):this.each(function(){var t,r,i,o;if("string"===n)for(r=0,i=pe(this),o=e.match(De)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||(t=z(this),t&&pe._data(this,"__className__",t),pe.attr(this,"class",t||e===!1?"":pe._data(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+z(n)+" ").replace(Pt," ").indexOf(t)>-1)return!0;return!1}}),pe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){pe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),pe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var Bt=e.location,Wt=pe.now(),It=/\?/,$t=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;pe.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=pe.trim(t+"");return i&&!pe.trim(i.replace($t,function(e,t,i,o){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!o-!i,"")}))?Function("return "+i)():pe.error("Invalid JSON: "+t)},pe.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new e.DOMParser,n=r.parseFromString(t,"text/xml")):(n=new e.ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(e){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||pe.error("Invalid XML: "+t),n};var zt=/#.*$/,Xt=/([?&])_=[^&]*/,Ut=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Vt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Yt=/^(?:GET|HEAD)$/,Jt=/^\/\//,Gt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Qt={},Kt={},Zt="*/".concat("*"),en=Bt.href,tn=Gt.exec(en.toLowerCase())||[];pe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:en,type:"GET",isLocal:Vt.test(tn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Zt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":pe.parseJSON,"text xml":pe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?V(V(e,pe.ajaxSettings),t):V(pe.ajaxSettings,e)},ajaxPrefilter:X(Qt),ajaxTransport:X(Kt),ajax:function(t,n){function r(t,n,r,i){var o,f,v,x,w,C=n;2!==b&&(b=2,u&&e.clearTimeout(u),c=void 0,s=i||"",T.readyState=t>0?4:0,o=t>=200&&t<300||304===t,r&&(x=Y(d,T,r)),x=J(d,x,T,o),o?(d.ifModified&&(w=T.getResponseHeader("Last-Modified"),w&&(pe.lastModified[a]=w),w=T.getResponseHeader("etag"),w&&(pe.etag[a]=w)),204===t||"HEAD"===d.type?C="nocontent":304===t?C="notmodified":(C=x.state,f=x.data,v=x.error,o=!v)):(v=C,!t&&C||(C="error",t<0&&(t=0))),T.status=t,T.statusText=(n||C)+"",o?g.resolveWith(p,[f,C,T]):g.rejectWith(p,[T,C,v]),T.statusCode(y),y=void 0,l&&h.trigger(o?"ajaxSuccess":"ajaxError",[T,d,o?f:v]),m.fireWith(p,[T,C]),l&&(h.trigger("ajaxComplete",[T,d]),--pe.active||pe.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,u,l,c,f,d=pe.ajaxSetup({},n),p=d.context||d,h=d.context&&(p.nodeType||p.jquery)?pe(p):pe.event,g=pe.Deferred(),m=pe.Callbacks("once memory"),y=d.statusCode||{},v={},x={},b=0,w="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!f)for(f={};t=Ut.exec(s);)f[t[1].toLowerCase()]=t[2];t=f[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=x[n]=x[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)y[t]=[y[t],e[t]];else T.always(e[T.status]);return this},abort:function(e){var t=e||w;return c&&c.abort(t),r(0,t),this}};if(g.promise(T).complete=m.add,T.success=T.done,T.error=T.fail,d.url=((t||d.url||en)+"").replace(zt,"").replace(Jt,tn[1]+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=pe.trim(d.dataType||"*").toLowerCase().match(De)||[""],null==d.crossDomain&&(i=Gt.exec(d.url.toLowerCase()),d.crossDomain=!(!i||i[1]===tn[1]&&i[2]===tn[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(tn[3]||("http:"===tn[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=pe.param(d.data,d.traditional)),U(Qt,d,n,T),2===b)return T;l=pe.event&&d.global,l&&0===pe.active++&&pe.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Yt.test(d.type),a=d.url,d.hasContent||(d.data&&(a=d.url+=(It.test(a)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Xt.test(a)?a.replace(Xt,"$1_="+Wt++):a+(It.test(a)?"&":"?")+"_="+Wt++)),d.ifModified&&(pe.lastModified[a]&&T.setRequestHeader("If-Modified-Since",pe.lastModified[a]),pe.etag[a]&&T.setRequestHeader("If-None-Match",pe.etag[a])),(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&T.setRequestHeader("Content-Type",d.contentType),T.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Zt+"; q=0.01":""):d.accepts["*"]);for(o in d.headers)T.setRequestHeader(o,d.headers[o]);if(d.beforeSend&&(d.beforeSend.call(p,T,d)===!1||2===b))return T.abort();w="abort";for(o in{success:1,error:1,complete:1})T[o](d[o]);if(c=U(Kt,d,n,T)){if(T.readyState=1,l&&h.trigger("ajaxSend",[T,d]),2===b)return T;d.async&&d.timeout>0&&(u=e.setTimeout(function(){T.abort("timeout")},d.timeout));try{b=1,c.send(v,r)}catch(e){if(!(b<2))throw e;r(-1,e)}}else r(-1,"No Transport");return T},getJSON:function(e,t,n){return pe.get(e,t,n,"json")},getScript:function(e,t){return pe.get(e,void 0,t,"script")}}),pe.each(["get","post"],function(e,t){pe[t]=function(e,n,r,i){return pe.isFunction(n)&&(i=i||r,r=n,n=void 0),pe.ajax(pe.extend({url:e,type:t,dataType:i,data:n,success:r},pe.isPlainObject(e)&&e))}}),pe._evalUrl=function(e){return pe.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},pe.fn.extend({wrapAll:function(e){if(pe.isFunction(e))return this.each(function(t){pe(this).wrapAll(e.call(this,t))});if(this[0]){var t=pe(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return pe.isFunction(e)?this.each(function(t){pe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=pe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=pe.isFunction(e);return this.each(function(n){pe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){pe.nodeName(this,"body")||pe(this).replaceWith(this.childNodes)}).end()}}),pe.expr.filters.hidden=function(e){return fe.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:Q(e)},pe.expr.filters.visible=function(e){return!pe.expr.filters.hidden(e)};var nn=/%20/g,rn=/\[\]$/,on=/\r?\n/g,an=/^(?:submit|button|image|reset|file)$/i,sn=/^(?:input|select|textarea|keygen)/i;pe.param=function(e,t){var n,r=[],i=function(e,t){t=pe.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=pe.ajaxSettings&&pe.ajaxSettings.traditional),pe.isArray(e)||e.jquery&&!pe.isPlainObject(e))pe.each(e,function(){i(this.name,this.value)});else for(n in e)K(n,e[n],t,i);return r.join("&").replace(nn,"+")},pe.fn.extend({serialize:function(){return pe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=pe.prop(this,"elements");return e?pe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!pe(this).is(":disabled")&&sn.test(this.nodeName)&&!an.test(e)&&(this.checked||!Be.test(e))}).map(function(e,t){var n=pe(this).val();return null==n?null:pe.isArray(n)?pe.map(n,function(e){return{name:t.name,value:e.replace(on,"\r\n")}}):{name:t.name,value:n.replace(on,"\r\n")}}).get()}}),pe.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return this.isLocal?ee():re.documentMode>8?Z():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Z()||ee()}:Z;var un=0,ln={},cn=pe.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in ln)ln[e](void 0,!0)}),fe.cors=!!cn&&"withCredentials"in cn,cn=fe.ajax=!!cn,cn&&pe.ajaxTransport(function(t){if(!t.crossDomain||fe.cors){var n;return{send:function(r,i){var o,a=t.xhr(),s=++un;if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(o in r)void 0!==r[o]&&a.setRequestHeader(o,r[o]+"");a.send(t.hasContent&&t.data||null),n=function(e,r){var o,u,l;if(n&&(r||4===a.readyState))if(delete ln[s],n=void 0,a.onreadystatechange=pe.noop,r)4!==a.readyState&&a.abort();else{l={},o=a.status,"string"==typeof a.responseText&&(l.text=a.responseText);try{u=a.statusText}catch(e){u=""}o||!t.isLocal||t.crossDomain?1223===o&&(o=204):o=l.text?200:404}l&&i(o,u,l,a.getAllResponseHeaders())},t.async?4===a.readyState?e.setTimeout(n):a.onreadystatechange=ln[s]=n:n()},abort:function(){n&&n(void 0,!0)}}}}),pe.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),pe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return pe.globalEval(e),e}}}),pe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),pe.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=re.head||pe("head")[0]||re.documentElement;return{send:function(r,i){t=re.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var fn=[],dn=/(=)\?(?=&|$)|\?\?/;pe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=fn.pop()||pe.expando+"_"+Wt++;return this[e]=!0,e}}),pe.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(dn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&dn.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=pe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(dn,"$1"+i):t.jsonp!==!1&&(t.url+=(It.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||pe.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?pe(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,fn.push(i)),a&&pe.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),pe.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||re;var r=Te.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=y([e],t,i),i&&i.length&&pe(i).remove(),pe.merge([],r.childNodes))};var pn=pe.fn.load;pe.fn.load=function(e,t,n){if("string"!=typeof e&&pn)return pn.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=pe.trim(e.slice(s,e.length)),e=e.slice(0,s)),pe.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&pe.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?pe("<div>").append(pe.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(a,o||[e.responseText,t,e])})}),this},pe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){pe.fn[t]=function(e){return this.on(t,e)}}),pe.expr.filters.animated=function(e){return pe.grep(pe.timers,function(t){return e===t.elem}).length},pe.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=pe.css(e,"position"),f=pe(e),d={};"static"===c&&(e.style.position="relative"),s=f.offset(),o=pe.css(e,"top"),u=pe.css(e,"left"),l=("absolute"===c||"fixed"===c)&&pe.inArray("auto",[o,u])>-1,l?(r=f.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),pe.isFunction(t)&&(t=t.call(e,n,pe.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):f.css(d)}},pe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){pe.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;if(o)return t=o.documentElement,pe.contains(t,i)?("undefined"!=typeof i.getBoundingClientRect&&(r=i.getBoundingClientRect()),n=te(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===pe.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),pe.nodeName(e[0],"html")||(n=e.offset()),n.top+=pe.css(e[0],"borderTopWidth",!0),n.left+=pe.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-pe.css(r,"marginTop",!0),left:t.left-n.left-pe.css(r,"marginLeft",!0)
}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!pe.nodeName(e,"html")&&"static"===pe.css(e,"position");)e=e.offsetParent;return e||pt})}}),pe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);pe.fn[e]=function(r){return Pe(this,function(e,r,i){var o=te(e);return void 0===i?o?t in o?o[t]:o.document.documentElement[r]:e[r]:void(o?o.scrollTo(n?pe(o).scrollLeft():i,n?i:pe(o).scrollTop()):e[r]=i)},e,r,arguments.length,null)}}),pe.each(["top","left"],function(e,t){pe.cssHooks[t]=L(fe.pixelPosition,function(e,n){if(n)return n=gt(e,t),ft.test(n)?pe(e).position()[t]+"px":n})}),pe.each({Height:"height",Width:"width"},function(e,t){pe.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){pe.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return Pe(this,function(t,n,r){var i;return pe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?pe.css(t,n,a):pe.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),pe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),pe.fn.size=function(){return this.length},pe.fn.andSelf=pe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return pe});var hn=e.jQuery,gn=e.$;return pe.noConflict=function(t){return e.$===pe&&(e.$=gn),t&&e.jQuery===pe&&(e.jQuery=hn),pe},t||(e.jQuery=e.$=pe),pe});
},{}],18:[function(require,module,exports){
"use strict";function elt(e,t){var r=document.createElement(e);if(t)for(var n in t)"style"==n?r.style.cssText=t[n]:null!=t[n]&&r.setAttribute(n,t[n]);for(var o=arguments.length,s=Array(o>2?o-2:0),i=2;i<o;i++)s[i-2]=arguments[i];for(var a=0;a<s.length;a++)add(s[a],r);return r}function add(e,t){if("string"==typeof e&&(e=document.createTextNode(e)),Array.isArray(e))for(var r=0;r<e.length;r++)add(e[r],t);else t.appendChild(e)}function requestAnimationFrame(e){reqFrame?reqFrame(e):setTimeout(e,10)}function contains(e,t){return 1!=t.nodeType&&(t=t.parentNode),t&&e.contains(t)}function insertCSS(e){cssNode?cssNode.textContent+=e:accumulatedCSS+=e}function ensureCSSAdded(){cssNode||(cssNode=document.createElement("style"),cssNode.textContent="/* ProseMirror CSS */\n"+accumulatedCSS,document.head.insertBefore(cssNode,document.head.firstChild))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.elt=elt,exports.requestAnimationFrame=requestAnimationFrame,exports.contains=contains,exports.insertCSS=insertCSS,exports.ensureCSSAdded=ensureCSSAdded;var reqFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,ie_upto10=/MSIE \d/.test(navigator.userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),browser=exports.browser={mac:/Mac/.test(navigator.platform),ie_upto10:ie_upto10,ie_11up:ie_11up,ie:ie_upto10||ie_11up,gecko:/gecko\/\d/i.test(navigator.userAgent)},accumulatedCSS="",cssNode=null;
},{}],19:[function(require,module,exports){
"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function moveBackward(e,t,o){if("char"!=o&&"word"!=o)throw new _error.AssertionError("Unknown motion unit: "+o);for(var r=null,n=0;;){if(0==t)return t;var l=e.chunkBefore(t),a=l.start,s=l.node;if(!s.isText)return r?t:t-1;if("char"==o)for(var i=t-a;i>0;i--){if(!(0,_char.isExtendingChar)(s.text.charAt(i-1)))return t-1;t--}else if("word"==o)for(var i=t-a;i>0;i--){var c=(0,_char.charCategory)(s.text.charAt(i-1));if(null==r||1==n&&"space"==r)r=c;else if(r!=c)return t;t--,n++}}}function deleteBarrier(e,t){var o=e.doc.path(t.path),r=o.child(t.offset-1),n=o.child(t.offset);if(!r.type.canContainContent(n.type)||e.tr.join(t).apply(e.apply.scroll)===!1){var l=void 0;if(n.isTextblock&&(l=r.type.findConnection(n.type))){var a=e.tr,s=t.move(1);if(a.step("ancestor",t,s,null,{types:[r.type].concat(_toConsumableArray(l)),attrs:[r.attrs].concat(_toConsumableArray(l.map(function(){return null})))}),a.join(s),a.join(t),a.apply(e.apply.scroll)!==!1)return}var i=(0,_selection.findSelectionFrom)(e.doc,t,1);return e.tr.lift(i.from,i.to).apply(e.apply.scroll)}}function moveForward(e,t,o){if("char"!=o&&"word"!=o)throw new _error.AssertionError("Unknown motion unit: "+o);for(var r=null,n=0;;){if(t==e.size)return t;var l=e.chunkAfter(t),a=l.start,s=l.node;if(!s.isText)return r?t:t+1;if("char"==o)for(var i=t-a;i<s.text.length;i++){if(!(0,_char.isExtendingChar)(s.text.charAt(i+1)))return t+1;t++}else if("word"==o)for(var i=t-a;i<s.text.length;i++){var c=(0,_char.charCategory)(s.text.charAt(i));if(null==r||1==n&&"space"==r)r=c;else if(r!=c)return t;t++,n++}}}function joinPointAbove(e){var t=e.selection,o=t.node,r=t.from;return o?(0,_transform.joinableBlocks)(e.doc,r)?r:null:(0,_transform.joinPoint)(e.doc,r,-1)}function joinPointBelow(e){var t=e.selection,o=t.node,r=t.to;return o?(0,_transform.joinableBlocks)(e.doc,r)?r:null:(0,_transform.joinPoint)(e.doc,r,1)}function nodeAboveSelection(e){var t=e.selection,o=0;if(t.node)return!!t.from.depth&&t.from.shorten();for(;o<t.head.depth&&o<t.anchor.depth&&t.head.path[o]==t.anchor.path[o];o++);return 0!=o&&t.head.shorten(o-1)}function moveSelectionBlock(e,t){var o=e.selection,r=o.from,n=o.to,l=o.node,a=t>0?n:r;return(0,_selection.findSelectionFrom)(e.doc,l&&l.isBlock?a:a.shorten(null,t>0?1:0),t)}function selectNodeHorizontally(e,t){var o=e.selection,r=o.empty,n=o.node,l=o.from,a=o.to;if(!r&&!n)return!1;if(n&&n.isInline)return e.setTextSelection(t>0?a:l),!0;var s=void 0;if(!n&&(s=e.doc.path(l.path))&&(t>0?l.offset<s.size:l.offset)){var i=t>0?s.chunkAfter(l.offset):s.chunkBefore(l.offset),c=i.node,f=i.start;return!(!c.type.selectable||f!=l.offset-(t>0?0:1))&&(e.setNodeSelection(t<0?l.move(-1):l),!0)}var p=moveSelectionBlock(e,t);return!(!p||!(p instanceof _selection.NodeSelection||n))&&(e.setSelectionDirect(p),!0)}function selectNodeVertically(e,t){var o=e.selection,r=o.empty,n=o.node,l=o.from,a=o.to;if(!r&&!n)return!1;var s=!0;if(n&&!n.isInline||(s=(0,_selection.verticalMotionLeavesTextblock)(e,t>0?a:l,t)),s){var i=moveSelectionBlock(e,t);if(i&&i instanceof _selection.NodeSelection)return e.setSelectionDirect(i),n||(e.sel.lastNonNodePos=l),!0}if(!n)return!1;if(n.isInline)return(0,_dompos.setDOMSelectionToPos)(e,l),!1;var c=e.sel.lastNonNodePos,f=(0,_selection.findSelectionFrom)(e.doc,t<0?l:a,t);return c&&f&&_model.Pos.samePath(c.path,f.from.path)?((0,_dompos.setDOMSelectionToPos)(e,c),!1):(f&&e.setSelectionDirect(f),!0)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.baseCommands=void 0;var _model=require("../model"),_transform=require("../transform"),_error=require("../util/error"),_char=require("./char"),_selection=require("./selection"),_dompos=require("./dompos"),baseCommands=exports.baseCommands=Object.create(null);baseCommands.deleteSelection={label:"Delete the selection",run:function(e){return e.tr.replaceSelection().apply(e.apply.scroll)},keys:{all:["Backspace(10)","Delete(10)","Mod-Backspace(10)","Mod-Delete(10)"],mac:["Ctrl-H(10)","Alt-Backspace(10)","Ctrl-D(10)","Ctrl-Alt-Backspace(10)","Alt-Delete(10)","Alt-D(10)"]}},baseCommands.joinBackward={label:"Join with the block above",run:function(e){var t=e.selection,o=t.head,r=t.empty;if(!r||o.offset>0)return!1;for(var n=void 0,l=void 0,a=o.path.length-1;!n&&a>=0;a--)o.path[a]>0&&(l=o.shorten(a),n=e.doc.path(l.path).child(l.offset-1));return n?null==n.type.contains?e.tr.delete(l.move(-1),l).apply(e.apply.scroll):deleteBarrier(e,l):e.tr.lift(o).apply(e.apply.scroll)},keys:["Backspace(30)","Mod-Backspace(30)"]},baseCommands.deleteCharBefore={label:"Delete a character before the cursor",run:function(e){var t=e.selection,o=t.head,r=t.empty;if(!r||0==o.offset)return!1;var n=moveBackward(e.doc.path(o.path),o.offset,"char");return e.tr.delete(new _model.Pos(o.path,n),o).apply(e.apply.scroll)},keys:{all:["Backspace(60)"],mac:["Ctrl-H(40)"]}},baseCommands.deleteWordBefore={label:"Delete the word before the cursor",run:function(e){var t=e.selection,o=t.head,r=t.empty;if(!r||0==o.offset)return!1;var n=moveBackward(e.doc.path(o.path),o.offset,"word");return e.tr.delete(new _model.Pos(o.path,n),o).apply(e.apply.scroll)},keys:{all:["Mod-Backspace(40)"],mac:["Alt-Backspace(40)"]}},baseCommands.joinForward={label:"Join with the block below",run:function(e){var t=e.selection,o=t.head,r=t.empty;if(!r||o.offset<e.doc.path(o.path).size)return!1;for(var n=void 0,l=void 0,a=o.path.length-1;!n&&a>=0;a--){l=o.shorten(a,1);var s=e.doc.path(l.path);l.offset<s.size&&(n=s.child(l.offset))}return!!n&&(null==n.type.contains?e.tr.delete(l,l.move(1)).apply(e.apply.scroll):deleteBarrier(e,l))},keys:["Delete(30)","Mod-Delete(30)"]},baseCommands.deleteCharAfter={label:"Delete a character after the cursor",run:function(e){var t=e.selection,o=t.head,r=t.empty;if(!r||o.offset==e.doc.path(o.path).size)return!1;var n=moveForward(e.doc.path(o.path),o.offset,"char");return e.tr.delete(o,new _model.Pos(o.path,n)).apply(e.apply.scroll)},keys:{all:["Delete(60)"],mac:["Ctrl-D(60)"]}},baseCommands.deleteWordAfter={label:"Delete a word after the cursor",run:function(e){var t=e.selection,o=t.head,r=t.empty;if(!r||o.offset==e.doc.path(o.path).size)return!1;var n=moveForward(e.doc.path(o.path),o.offset,"word");return e.tr.delete(o,new _model.Pos(o.path,n)).apply(e.apply.scroll)},keys:{all:["Mod-Delete(40)"],mac:["Ctrl-Alt-Backspace(40)","Alt-Delete(40)","Alt-D(40)"]}},baseCommands.joinUp={label:"Join with above block",run:function(e){var t=joinPointAbove(e),o=e.selection.node;return!!t&&(e.tr.join(t).apply(),void(o&&e.setNodeSelection(t.move(-1))))},select:function(e){return joinPointAbove(e)},menu:{group:"block",rank:80,display:{type:"icon",width:800,height:900,path:"M0 75h800v125h-800z M0 825h800v-125h-800z M250 400h100v-100h100v100h100v100h-100v100h-100v-100h-100z"}},keys:["Alt-Up"]},baseCommands.joinDown={label:"Join with below block",run:function(e){var t=e.selection.node,o=joinPointBelow(e);return!!o&&(e.tr.join(o).apply(),void(t&&e.setNodeSelection(o.move(-1))))},select:function(e){return joinPointBelow(e)},keys:["Alt-Down"]},baseCommands.lift={label:"Lift out of enclosing block",run:function(e){var t=e.selection,o=t.from,r=t.to;return e.tr.lift(o,r).apply(e.apply.scroll)},select:function(e){var t=e.selection,o=t.from,r=t.to;return(0,_transform.canLift)(e.doc,o,r)},menu:{group:"block",rank:75,display:{type:"icon",width:1024,height:1024,path:"M219 310v329q0 7-5 12t-12 5q-8 0-13-5l-164-164q-5-5-5-13t5-13l164-164q5-5 13-5 7 0 12 5t5 12zM1024 749v109q0 7-5 12t-12 5h-987q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h987q7 0 12 5t5 12zM1024 530v109q0 7-5 12t-12 5h-621q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h621q7 0 12 5t5 12zM1024 310v109q0 7-5 12t-12 5h-621q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h621q7 0 12 5t5 12zM1024 91v109q0 7-5 12t-12 5h-987q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h987q7 0 12 5t5 12z"}},keys:["Alt-Left"]},baseCommands.newlineInCode={label:"Insert newline",run:function(e){var t=e.selection,o=t.from,r=t.to,n=t.node,l=void 0;return!!(!n&&_model.Pos.samePath(o.path,r.path)&&(l=e.doc.path(o.path)).type.isCode&&r.offset<l.size)&&e.tr.typeText("\n").apply(e.apply.scroll)},keys:["Enter(10)"]},baseCommands.createParagraphNear={label:"Create a paragraph near the selected block",run:function(e){var t=e.selection,o=t.from,r=t.to,n=t.node;if(!n||!n.isBlock)return!1;var l=o.offset?r:o;e.tr.insert(l,e.schema.defaultTextblockType().create()).apply(e.apply.scroll),e.setTextSelection(new _model.Pos(l.toPath(),0))},keys:["Enter(20)"]},baseCommands.liftEmptyBlock={label:"Move current block up",run:function(e){var t=e.selection,o=t.head,r=t.empty;if(!r||o.offset>0||e.doc.path(o.path).size)return!1;if(o.depth>1){var n=o.shorten();if(n.offset>0&&n.offset<e.doc.path(n.path).size-1&&e.tr.split(n).apply()!==!1)return}return e.tr.lift(o).apply(e.apply.scroll)},keys:["Enter(30)"]},baseCommands.splitBlock={label:"Split the current block",run:function(e){var t=e.selection,o=t.from,r=t.to,n=t.node,l=e.doc.path(r.path);if(n&&n.isBlock)return!!o.offset&&e.tr.split(o).apply(e.apply.scroll);var a=e.schema.defaultTextblockType(),s=r.offset==l.size?a:null,i=e.tr.delete(o,r).split(o,1,s);return r.offset<l.size&&!o.offset&&e.doc.path(o.path).type!=a&&i.setNodeType(o.shorten(),a),i.apply(e.apply.scroll)},keys:["Enter(60)"]},baseCommands.selectParentNode={label:"Select parent node",run:function(e){var t=nodeAboveSelection(e);return!!t&&void e.setNodeSelection(t)},select:function(e){return nodeAboveSelection(e)},menu:{group:"block",rank:90,display:{type:"icon",text:"",style:"font-weight: bold"}},keys:["Esc"]},baseCommands.selectNodeLeft={label:"Move the selection onto or out of the block to the left",run:function(e){var t=selectNodeHorizontally(e,-1);return t&&e.scrollIntoView(),t},keys:["Left","Mod-Left"]},baseCommands.selectNodeRight={label:"Move the selection onto or out of the block to the right",run:function(e){var t=selectNodeHorizontally(e,1);return t&&e.scrollIntoView(),t},keys:["Right","Mod-Right"]},baseCommands.selectNodeUp={label:"Move the selection onto or out of the block above",run:function(e){var t=selectNodeVertically(e,-1);return t!==!1&&e.scrollIntoView(),t},keys:["Up"]},baseCommands.selectNodeDown={label:"Move the selection onto or out of the block below",run:function(e){var t=selectNodeVertically(e,1);return t!==!1&&e.scrollIntoView(),t},keys:["Down"]},baseCommands.undo={label:"Undo last change",run:function(e){return e.scrollIntoView(),e.history.undo()},select:function(e){return e.history.undoDepth>0},menu:{group:"history",rank:10,display:{type:"icon",width:1024,height:1024,path:"M761 1024c113-206 132-520-313-509v253l-384-384 384-384v248c534-13 594 472 313 775z"}},keys:["Mod-Z"]},baseCommands.redo={label:"Redo last undone change",run:function(e){return e.scrollIntoView(),e.history.redo()},select:function(e){return e.history.redoDepth>0},menu:{group:"history",rank:20,display:{type:"icon",width:1024,height:1024,path:"M576 248v-248l384 384-384 384v-253c-446-10-427 303-313 509-280-303-221-789 313-775z"}},keys:["Mod-Y","Shift-Mod-Z"]};
},{"../model":51,"../transform":57,"../util/error":68,"./char":21,"./dompos":25,"./selection":34}],20:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function nothing(){}function ensureSelection(e){if(e.selection.node){var t=(0,_selection.findSelectionNear)(e.doc,e.selection.from,1,!0);t&&(0,_dompos.setDOMSelectionToPos)(e,t.head)}return!1}Object.defineProperty(exports,"__esModule",{value:!0}),exports.captureKeys=void 0;var _browserkeymap=require("browserkeymap"),_browserkeymap2=_interopRequireDefault(_browserkeymap),_selection=require("./selection"),_dompos=require("./dompos"),_dom=require("../dom"),keys={Esc:nothing,Enter:nothing,"Mod-Enter":nothing,"Shift-Enter":nothing,Backspace:nothing,Delete:nothing,"Mod-B":nothing,"Mod-I":nothing,"Mod-Backspace":nothing,"Mod-Delete":nothing,"Shift-Backspace":nothing,"Shift-Delete":nothing,"Shift-Mod-Backspace":nothing,"Shift-Mod-Delete":nothing,"Mod-Z":nothing,"Mod-Y":nothing,"Shift-Mod-Z":nothing,"Ctrl-D":nothing,"Ctrl-H":nothing,"Ctrl-Alt-Backspace":nothing,"Alt-D":nothing,"Alt-Delete":nothing,"Alt-Backspace":nothing,"Mod-A":ensureSelection};["Left","Right","Up","Down","Home","End","PageUp","PageDown"].forEach(function(e){keys[e]=keys["Shift-"+e]=keys["Mod-"+e]=keys["Shift-Mod-"+e]=keys["Alt-"+e]=keys["Shift-Alt-"+e]=ensureSelection}),["Left","Mod-Left","Right","Mod-Right","Up","Down"].forEach(function(e){return delete keys[e]}),_dom.browser.mac&&(keys["Ctrl-F"]=keys["Ctrl-B"]=keys["Ctrl-P"]=keys["Ctrl-N"]=keys["Alt-F"]=keys["Alt-B"]=keys["Ctrl-A"]=keys["Ctrl-E"]=keys["Ctrl-V"]=keys.goPageUp=ensureSelection);var captureKeys=exports.captureKeys=new _browserkeymap2.default(keys);
},{"../dom":18,"./dompos":25,"./selection":34,"browserkeymap":73}],21:[function(require,module,exports){
"use strict";function isWordChar(u){return/\w/.test(u)||isExtendingChar(u)||u>""&&(u.toUpperCase()!=u.toLowerCase()||nonASCIISingleCaseWordChar.test(u))}function charCategory(u){return/\s/.test(u)?"space":isWordChar(u)?"word":"other"}function isExtendingChar(u){return u.charCodeAt(0)>=768&&extendingChar.test(u)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isWordChar=isWordChar,exports.charCategory=charCategory,exports.isExtendingChar=isExtendingChar;var nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,extendingChar=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;
},{}],22:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function deriveCommandSpec(e,t,r){if(!t.derive)return t;var n="object"==_typeof(t.derive)?t.derive:{},a=n.name||r,o=e.constructor.derivableCommands[a];if(!o)throw new _error.AssertionError("Don't know how to derive command "+a);var i=o.call(e,n);for(var s in t)"derive"!=s&&(i[s]=t[s]);return i}function deriveKeymap(e){function t(e,t){for(var n=0;n<t.length;n++){var a=/^(.+?)(?:\((\d+)\))?$/.exec(t[n]),o=_slicedToArray(a,3),i=(o[0],o[1]),s=o[2],c=void 0===s?50:s;(0,_sortedinsert2.default)(r[i]||(r[i]=[]),{command:e,rank:c},function(e,t){return e.rank-t.rank})}}var r={},n=_dom.browser.mac?"mac":"pc";for(var a in e.commands){var o=e.commands[a],i=o.spec.keys;i&&(Array.isArray(i)&&t(o,i),i.all&&t(o,i.all),i[n]&&t(o,i[n]))}for(var s in r)r[s]=r[s].map(function(e){return e.command.name});return new _browserkeymap2.default(r)}function updateCommands(e,t){e.signal("commandsChanging"),e.commands=t.derive(e.schema),e.input.baseKeymap=deriveKeymap(e),e.commandKeys=Object.create(null),e.signal("commandsChanged")}function markActive(e,t){var r=e.selection;return r.empty?t.isInSet(e.activeMarks()):e.doc.rangeHasMark(r.from,r.to,t)}function canAddInline(e,t){var r=e.selection,n=r.from,a=r.to,o=r.empty;if(o)return!t.isInSet(e.activeMarks())&&e.doc.path(n.path).type.canContainMark(t);var i=!1;return e.doc.nodesBetween(n,a,function(e){return!(i||e.isTextblock&&!e.type.canContainMark(t))&&void(e.isInline&&!t.isInSet(e.marks)&&(i=!0))}),i}function markApplies(e,t){var r=e.selection,n=r.from,a=r.to,o=!1;return e.doc.nodesBetween(n,a,function(e){if(e.isTextblock)return e.type.canContainMark(t)&&(o=!0),!1}),o}function selectedMarkAttr(e,t,r){var n=e.selection,a=n.from,o=n.to,i=n.empty,s=void 0,c=void 0;if(i)s=c=t.isInSet(e.activeMarks());else{var l=e.doc.path(a.path),u=l.size>a.offset&&l.chunkAfter(a.offset);s=u?t.isInSet(u.node.marks):null,c=t.isInSet(e.doc.marksAt(o))}if(s&&c&&s.attrs[r]==c.attrs[r])return s.attrs[r]}function selectedNodeAttr(e,t,r){var n=e.selection.node;if(n&&n.type==t)return n.attrs[r]}function deriveParams(e,t){return t&&t.map(function(t){var r=e.attrs[t.attr],n={type:"text",default:r.default,prefill:e instanceof _model.NodeType?function(e){return selectedNodeAttr(e,this,t.attr)}:function(e){return selectedMarkAttr(e,this,t.attr)}};for(var a in t)n[a]=t[a];return n})}function fillAttrs(e,t){var r=e.attrs;return e.params&&!function(){var n=Object.create(null);if(r)for(var a in r)n[a]=r[a];e.params.forEach(function(e,r){return n[e.attr]=t[r]}),r=n}(),r}function isAtTopOfListItem(e,t,r,n){return _model.Pos.samePath(t.path,r.path)&&t.path.length>=2&&0==t.path[t.path.length-1]&&n.canContain(e.path(t.path.slice(0,t.path.length-1)))}function alreadyHasBlockType(e,t,r,n,a){var o=!1;return a||(a={}),e.nodesBetween(t,r||t,function(e){if(e.isTextblock)return e.hasMarkup(n,a)&&(o=!0),!1}),o}function activeTextblockIs(e,t,r){var n=e.selection,a=n.from,o=n.to,i=n.node;if(!i||i.isInline){if(!_model.Pos.samePath(a.path,o.path))return!1;i=e.doc.path(a.path)}else if(!i.isTextblock)return!1;return i.hasMarkup(t,r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommandSet=exports.Command=void 0;var _slicedToArray=function(){function e(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();exports.updateCommands=updateCommands,exports.selectedNodeAttr=selectedNodeAttr;var _browserkeymap=require("browserkeymap"),_browserkeymap2=_interopRequireDefault(_browserkeymap),_model=require("../model"),_transform=require("../transform"),_dom=require("../dom"),_sortedinsert=require("../util/sortedinsert"),_sortedinsert2=_interopRequireDefault(_sortedinsert),_error=require("../util/error"),_obj=require("../util/obj"),_base_commands=require("./base_commands"),Command=exports.Command=function(){function e(t,r,n){if(_classCallCheck(this,e),this.name=n,!this.name)throw new _error.NamespaceError("Trying to define a command without a name");this.spec=t,this.self=r}return _createClass(e,[{key:"exec",value:function(e,t){var r=this.spec.run;if(t){if(this.params.length!=(t?t.length:0))throw new _error.AssertionError("Invalid amount of parameters for command "+this.name);return r.call.apply(r,[this.self,e].concat(_toConsumableArray(t)))}return this.params.length?new e.options.commandParamPrompt(e,this).open():r.call(this.self,e)}},{key:"select",value:function(e){var t=this.spec.select;return!t||t.call(this.self,e)}},{key:"active",value:function(e){var t=this.spec.active;return!!t&&t.call(this.self,e)}},{key:"params",get:function(){return this.spec.params||empty}},{key:"label",get:function(){return this.spec.label||this.name}}]),e}(),empty=[],CommandSet=function(){function e(t,r){_classCallCheck(this,e),this.base=t,this.op=r}return _createClass(e,[{key:"add",value:function(t,r){return new e(this,function(e,n){function a(t,n,a){if(!r||r(t,n)){if(e[t])throw new _error.AssertionError("Duplicate definition of command "+t);e[t]=new Command(n,a,t)}}if("schema"===t)n.registry("command",function(e,t,r,n){a(n+":"+e,deriveCommandSpec(r,t,e),r)});else for(var o in t)a(o,t[o])})}},{key:"update",value:function(t){return new e(this,function(e){for(var r in t){var n=t[r];if(n)if(n.run)e[r]=new Command(n,null,r);else{var a=e[r];a&&(e[r]=new Command((0,_obj.copyObj)(n,(0,_obj.copyObj)(a.spec)),a.self,r))}else delete e[r]}})}},{key:"derive",value:function(e){var t=this.base?this.base.derive(e):Object.create(null);return this.op(t,e),t}}]),e}();exports.CommandSet=CommandSet,CommandSet.empty=new CommandSet(null,function(){return null}),CommandSet.default=CommandSet.empty.add("schema").add(_base_commands.baseCommands),_model.NodeType.derivableCommands=Object.create(null),_model.MarkType.derivableCommands=Object.create(null),_model.MarkType.derivableCommands.set=function(e){return{run:function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];t.setMark(this,!0,fillAttrs(e,n))},select:function(t){return e.inverseSelect?markApplies(t,this)&&!markActive(t,this):canAddInline(t,this)},params:deriveParams(this,e.params)}},_model.MarkType.derivableCommands.unset=function(){return{run:function(e){e.setMark(this,!1)},select:function(e){return markActive(e,this)}}},_model.MarkType.derivableCommands.toggle=function(){return{run:function(e){e.setMark(this,null)},active:function(e){return markActive(e,this)},select:function(e){return markApplies(e,this)}}},_model.NodeType.derivableCommands.wrap=function(e){return{run:function(t){var r=t.selection,n=r.from,a=r.to,o=r.head,i=!1;if(e.list&&o&&isAtTopOfListItem(t.doc,n,a,this)){if(0==n.path[n.path.length-2])return!1;i=!0}for(var s=arguments.length,c=Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=arguments[l];var u=t.tr.wrap(n,a,this,fillAttrs(e,c));return i&&u.join(n.shorten(n.depth-2)),u.apply(t.apply.scroll)},select:function(t){var r=t.selection,n=r.from,a=r.to,o=r.head;return!(e.list&&o&&isAtTopOfListItem(t.doc,n,a,this)&&0==n.path[n.path.length-2])&&(0,_transform.canWrap)(t.doc,n,a,this,e.attrs)},params:deriveParams(this,e.params)}},_model.NodeType.derivableCommands.make=function(e){return{run:function(t){var r=t.selection,n=r.from,a=r.to;return t.tr.setBlockType(n,a,this,e.attrs).apply(t.apply.scroll)},select:function(t){var r=t.selection,n=r.from,a=r.to,o=r.node;return o?o.isTextblock&&!o.hasMarkup(this,e.attrs):!alreadyHasBlockType(t.doc,n,a,this,e.attrs)},active:function(t){return activeTextblockIs(t,this,e.attrs)}}},_model.NodeType.derivableCommands.insert=function(e){return{run:function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return t.tr.replaceSelection(this.create(fillAttrs(e,n))).apply(t.apply.scroll)},select:this.isInline?function(e){return e.doc.path(e.selection.from.path).type.canContainType(this)}:null,params:deriveParams(this,e.params)}};
},{"../dom":18,"../model":51,"../transform":57,"../util/error":68,"../util/obj":71,"../util/sortedinsert":72,"./base_commands":19,"browserkeymap":73}],23:[function(require,module,exports){
"use strict";var _dom=require("../dom");(0,_dom.insertCSS)('\n\n.ProseMirror {\n  border: 1px solid silver;\n  position: relative;\n}\n\n.ProseMirror-content {\n  padding: 4px 8px 4px 14px;\n  white-space: pre-wrap;\n  line-height: 1.2;\n}\n\n.ProseMirror-drop-target {\n  position: absolute;\n  width: 1px;\n  background: #666;\n  display: none;\n}\n\n.ProseMirror-content ul.tight p, .ProseMirror-content ol.tight p {\n  margin: 0;\n}\n\n.ProseMirror-content ul, .ProseMirror-content ol {\n  padding-left: 30px;\n  cursor: default;\n}\n\n.ProseMirror-content blockquote {\n  padding-left: 1em;\n  border-left: 3px solid #eee;\n  margin-left: 0; margin-right: 0;\n}\n\n.ProseMirror-content pre {\n  white-space: pre-wrap;\n}\n\n.ProseMirror-selectednode {\n  outline: 2px solid #8cf;\n}\n\n.ProseMirror-nodeselection *::selection { background: transparent; }\n.ProseMirror-nodeselection *::-moz-selection { background: transparent; }\n\n.ProseMirror-content p:first-child,\n.ProseMirror-content h1:first-child,\n.ProseMirror-content h2:first-child,\n.ProseMirror-content h3:first-child,\n.ProseMirror-content h4:first-child,\n.ProseMirror-content h5:first-child,\n.ProseMirror-content h6:first-child {\n  margin-top: .3em;\n}\n\n/* Add space around the hr to make clicking it easier */\n\n.ProseMirror-content hr {\n  position: relative;\n  height: 6px;\n  border: none;\n}\n\n.ProseMirror-content hr:after {\n  content: "";\n  position: absolute;\n  left: 10px;\n  right: 10px;\n  top: 2px;\n  border-top: 2px solid silver;\n}\n\n.ProseMirror-content img {\n  cursor: default;\n}\n\n/* Make sure li selections wrap around markers */\n\n.ProseMirror-content li {\n  position: relative;\n  pointer-events: none; /* Don\'t do weird stuff with marker clicks */\n}\n.ProseMirror-content li > * {\n  pointer-events: auto;\n}\n\nli.ProseMirror-selectednode {\n  outline: none;\n}\n\nli.ProseMirror-selectednode:after {\n  content: "";\n  position: absolute;\n  left: -32px;\n  right: -2px; top: -2px; bottom: -2px;\n  border: 2px solid #8cf;\n  pointer-events: none;\n}\n\n');
},{"../dom":18}],24:[function(require,module,exports){
"use strict";function isAtEnd(e,t,r){for(var n=r||0;n<t.path.length;n++){var o=t.path[r];if(o<e.size-1)return!1;e=e.child(o)}return t.offset==e.size}function isAtStart(e,t){if(e.offset>0)return!1;for(var r=t||0;r<e.path.length;r++)if(e.path[t]>0)return!1;return!0}function parseNearSelection(e){for(var t=e.content,r=e.doc,n=e.selection,o=n.from,a=n.to,i=0;;i++){var f=r.child(a.path[i]),l=isAtStart(o,i+1),s=isAtEnd(f,a,i+1);if(l||s||o.path[i]!=a.path[i]||f.isTextblock){var d=i==o.depth?o.offset:o.path[i];l&&d>0&&d--;var p=i==a.depth?a.offset:a.path[i]+1;s&&p<r.size-1&&p++;var h=(0,_format.fromDOM)(e.schema,t,{topNode:r.copy(),from:d,to:t.childNodes.length-(r.size-p),preserveWhitespace:!0});h=h.copy(r.content.slice(0,d).append(h.content).append(r.content.slice(p)));for(var u=i-1;u>=0;u--){var c=e.doc.path(o.path.slice(0,u));h=c.replace(o.path[u],h)}return h}r=f,t=(0,_dompos.findByPath)(t,o.path[i],!1)}}function applyDOMChange(e){var t=parseNearSelection(e),r=(0,_model.findDiffStart)(e.doc.content,t.content);if(r){var n=findDiffEndConstrained(e.doc.content,t.content,r);return markDirtyFor(e,r,n),e.tr.replace(r,n.a,t,r,n.b).apply(),!0}return!1}function offsetBy(e,t,r){var n=(0,_tree.samePathDepth)(e,t),o=n==e.depth,a=n==t.depth,i=(a?t.offset:t.path[n])-(o?e.offset:e.path[n]),f=o?r.move(i):r.shorten(n,i);return a?f:f.extend(new _model.Pos(t.path.slice(n),t.offset))}function findDiffEndConstrained(e,t,r){var n=(0,_model.findDiffEnd)(e,t);return n?n.a.cmp(r)<0?{a:r,b:offsetBy(n.a,r,n.b)}:n.b.cmp(r)<0?{a:offsetBy(n.b,r,n.a),b:r}:n:n}function sameDepth(e,t){for(var r=Math.min(e.depth,t.depth),n=0;n<r;n++)if(e.path[n]!=t.path[n])return n;return r}function markDirtyFor(e,t,r){var n=Math.min(sameDepth(t,r.a),sameDepth(t,r.b));if(0==n)e.markAllDirty();else{var o=_model.Pos.from(t.path.slice(0,n));e.markRangeDirty({from:o,to:o.move(1)})}}function textContext(e){var t=window.getSelection().getRangeAt(0),r=t.startContainer,n=t.endContainer;if(r==n&&3==r.nodeType){var o=r.nodeValue,a=t.startOffset,i=t.endOffset;return e&&i>=e.length&&o.slice(i-e.length,i)==e&&(a=i-e.length),{inside:r,lead:a,trail:o.length-i}}for(var f=null,l=null,s=r.childNodes[t.startOffset-1]||nodeBefore(r);s.lastChild;)s=s.lastChild;if(s&&3==s.nodeType){var o=s.nodeValue;f=o.length,e&&o.slice(o.length-e.length)==e&&(f-=e.length)}for(var d=n.childNodes[t.endOffset]||nodeAfter(n);d.firstChild;)d=d.firstChild;return d&&3==d.nodeType&&(l=d.nodeValue.length),{before:s,sizeBefore:f,after:d,sizeAfter:l}}function textInContext(e,t){if(e.inside){var r=e.inside.nodeValue;return r.slice(e.lead,r.length-e.trail)}var n=e.before,o=e.after,a="";if(!n)return t;3==n.nodeType&&(a=n.nodeValue.slice(e.sizeBefore));var i=scanText(n,o);if(null==i)return t;if(a+=i,o&&3==o.nodeType){var f=o.nodeValue;a+=f.slice(0,f.length-e.sizeAfter)}return a}function nodeAfter(e){for(;;){var t=e.nextSibling;if(t){for(;t.firstChild;)t=t.firstChild;return t}if(!(e=e.parentElement))return null}}function nodeBefore(e){for(;;){var t=e.previousSibling;if(t){for(;t.lastChild;)t=t.lastChild;return t}if(!(e=e.parentElement))return null}}function scanText(e,t){for(var r="",n=nodeAfter(e);;){if(n==t)return r;if(!n)return null;3==n.nodeType&&(r+=n.nodeValue),n=n.firstChild||nodeAfter(n)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.applyDOMChange=applyDOMChange,exports.textContext=textContext,exports.textInContext=textInContext;var _model=require("../model"),_format=require("../format"),_tree=require("../transform/tree"),_dompos=require("./dompos");
},{"../format":37,"../model":51,"../transform/tree":65,"./dompos":25}],25:[function(require,module,exports){
"use strict";function pathFromDOM(t,e){for(var o=[];e!=t.content;){var r=e.getAttribute("pm-offset");r&&o.unshift(+r),e=e.parentNode}return o}function widthFromDOM(t){var e=t.getAttribute("pm-leaf");return e&&"true"!=e?+e:1}function posFromDOM(t,e,o,r){if(!r&&t.operation&&t.doc!=t.operation.doc)throw new _error.AssertionError("Fetching a position from an outdated DOM structure");null==o&&(o=Array.prototype.indexOf.call(e.parentNode.childNodes,e),e=e.parentNode);for(var n=0,i=void 0;;){var f=0;if(3==e.nodeType)n+=o;else{if(e.hasAttribute("pm-container"))break;(i=e.getAttribute("pm-inner-offset"))?(n+=+i,f=-1):o&&o==e.childNodes.length&&(f=1)}var d=e.parentNode;o=f<0?0:Array.prototype.indexOf.call(d.childNodes,e)+f,e=d}var l=pathFromDOM(t,e);if(e.hasAttribute("pm-leaf"))return _model.Pos.from(l,n+(o?1:0));for(var s=0,a=o-1;a>=0;a--){var c=e.childNodes[a];if(3==c.nodeType)r&&(n+=c.nodeValue.length);else{if(i=c.getAttribute("pm-offset")){s=+i+widthFromDOM(c);break}r&&!c.hasAttribute("pm-ignore")&&(n+=c.textContent.length)}}return new _model.Pos(l,s+n)}function findByPath(t,e,o){for(var r=childContainer(t),n=o?r.lastChild:r.firstChild;n;n=o?n.previousSibling:n.nextSibling)if(1==n.nodeType){var i=n.getAttribute("pm-offset");if(i&&+i==e)return n}}function pathToDOM(t,e){for(var o=t,r=0;r<e.length;r++)if(o=findByPath(o,e[r]),!o)throw new _error.AssertionError("Failed to resolve path "+e.join("/"));return o}function childContainer(t){return t.hasAttribute("pm-container")?t:t.querySelector("[pm-container]")}function findByOffset(t,e,o){for(var r,n=t.firstChild,i=0;n;n=n.nextSibling,i++)if(1==n.nodeType&&(r=n.getAttribute("pm-offset"))){var f=e-+r,d=widthFromDOM(n);if(f>=0&&(o?f<=d:f<d))return{node:n,offset:i,innerOffset:f}}}function leafAt(t,e){for(;;){var o=t.firstChild;if(!o)return{node:t,offset:e};if(1!=o.nodeType)return{node:o,offset:e};if(o.hasAttribute("pm-inner-offset")){for(var r=0;;){var n=o.nextSibling,i=void 0;if(!n||(i=+n.getAttribute("pm-inner-offset"))>=e)break;o=n,r=i}e-=r}t=o}}function DOMFromPos(t,e){var o=childContainer(pathToDOM(t,e.path)),r=findByOffset(o,e.offset,!0),n=void 0;return r?"true"!=r.node.getAttribute("pm-leaf")&&(n=leafAt(r.node,r.innerOffset))?n:{node:r.node.parentNode,offset:r.offset+(r.innerOffset?1:0)}:{node:o,offset:0}}function windowRect(){return{left:0,right:window.innerWidth,top:0,bottom:window.innerHeight}}function scrollIntoView(t,e){e||(e=t.sel.range.head||t.sel.range.from);for(var o=coordsAtPos(t,e),r=t.content;;r=r.parentNode){var n=r==document.body,i=n?windowRect():r.getBoundingClientRect(),f=0,d=0;if(o.top<i.top?d=-(i.top-o.top+scrollMargin):o.bottom>i.bottom&&(d=o.bottom-i.bottom+scrollMargin),o.left<i.left?f=-(i.left-o.left+scrollMargin):o.right>i.right&&(f=o.right-i.right+scrollMargin),(f||d)&&(n?window.scrollBy(f,d):(d&&(r.scrollTop+=d),f&&(r.scrollLeft+=f))),n)break}}function findOffsetInNode(t,e){for(var o=void 0,r=1e8,n=void 0,i=0,f=t.firstChild;f;f=f.nextSibling){var d=void 0;if(1==f.nodeType)d=f.getClientRects();else{if(3!=f.nodeType)continue;d=textRects(f)}for(var l=0;l<d.length;l++){var s=d[l];if(s.left<=e.left&&s.right>=e.left){var a=s.top>e.top?s.top-e.top:s.bottom<e.top?e.top-s.bottom:0;if(a<r){o=f,r=a,n=a?{left:e.left,top:s.top}:e,1!=f.nodeType||f.firstChild||(i=l+(e.left>=(s.left+s.right)/2?1:0));continue}}!o&&(e.top>=s.bottom||e.top>=s.top&&e.left>=s.right)&&(i=l+1)}}return o?3==o.nodeType?findOffsetInText(o,n):o.firstChild?findOffsetInNode(o,n):{node:t,offset:i}:{node:t,offset:i}}function findOffsetInText(t,e){for(var o=t.nodeValue.length,r=document.createRange(),n=0;n<o;n++){r.setEnd(t,n+1),r.setStart(t,n);var i=r.getBoundingClientRect();if(i.top!=i.bottom&&i.left<=e.left&&i.right>=e.left&&i.top<=e.top&&i.bottom>=e.top)return{node:t,offset:n+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function posAtCoords(t,e){var o=document.elementFromPoint(e.left,e.top+1);if(!(0,_dom.contains)(t.content,o))return null;o.firstChild||(o=o.parentNode);var r=findOffsetInNode(o,e),n=r.node,i=r.offset;return posFromDOM(t,n,i)}function textRect(t,e,o){var r=document.createRange();return r.setEnd(t,o),r.setStart(t,e),r.getBoundingClientRect()}function textRects(t){var e=document.createRange();return e.setEnd(t,t.nodeValue.length),e.setStart(t,0),e.getClientRects()}function coordsAtPos(t,e){var o=DOMFromPos(t.content,e),r=o.node,n=o.offset,i=void 0,f=void 0;if(3==r.nodeType)n<r.nodeValue.length&&(f=textRect(r,n,n+1),i="left"),f&&f.left!=f.right||!n||(f=textRect(r,n-1,n),i="right");else if(r.firstChild){if(n<r.childNodes.length){var d=r.childNodes[n];f=3==d.nodeType?textRect(d,0,d.nodeValue.length):d.getBoundingClientRect(),i="left"}if((!f||f.left==f.right)&&n){var d=r.childNodes[n-1];f=3==d.nodeType?textRect(d,0,d.nodeValue.length):d.getBoundingClientRect(),i="right"}}else f=r.getBoundingClientRect(),i="left";var l=f[i];return{top:f.top,bottom:f.bottom,left:l,right:l}}function setDOMSelectionToPos(t,e){var o=DOMFromPos(t.content,e),r=o.node,n=o.offset,i=document.createRange();i.setEnd(r,n),i.setStart(r,n);var f=window.getSelection();f.removeAllRanges(),f.addRange(i)}function selectableNodeAbove(t,e,o,r){for(;e&&e!=t.content;e=e.parentNode)if(e.hasAttribute("pm-offset")){var n=pathFromDOM(t,e),i=t.doc.path(n);if(i.type.countCoordsAsChild){var f=i.type.countCoordsAsChild(i,n,e,o);if(f)return f}if((r||null==i.type.contains)&&i.type.selectable)return _model.Pos.from(n);if(!r)return null}}function handleNodeClick(t,e,o,r){for(var n=o.target;n&&n!=t.content;n=n.parentNode)if(n.hasAttribute("pm-offset")){var i=pathFromDOM(t,n),f=t.doc.path(i),d=f.type[e]&&f.type[e](t,o,i,f)!==!1;if(r||d)return d}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.pathFromDOM=pathFromDOM,exports.widthFromDOM=widthFromDOM,exports.posFromDOM=posFromDOM,exports.findByPath=findByPath,exports.pathToDOM=pathToDOM,exports.childContainer=childContainer,exports.DOMFromPos=DOMFromPos,exports.scrollIntoView=scrollIntoView,exports.posAtCoords=posAtCoords,exports.coordsAtPos=coordsAtPos,exports.setDOMSelectionToPos=setDOMSelectionToPos,exports.selectableNodeAbove=selectableNodeAbove,exports.handleNodeClick=handleNodeClick;var _model=require("../model"),_dom=require("../dom"),_error=require("../util/error"),scrollMargin=5;
},{"../dom":18,"../model":51,"../util/error":68}],26:[function(require,module,exports){
"use strict";function options(e,t){return{onRender:function(e,t,n){return e.isText||null!=e.type.contains||(t.contentEditable=!1,e.isBlock&&t.setAttribute("pm-leaf","true")),e.isBlock&&null!=n&&t.setAttribute("pm-offset",n),e.isTextblock&&adjustTrailingHacks(t,e),t},onContainer:function(e){e.setAttribute("pm-container",!0)},renderInlineFlat:function(n,r,i){t.advanceTo(new _model.Pos(e,i));for(var o=new _model.Pos(e,i+n.width),a=t.nextChangeBefore(o),l=r,s=void 0,d=0;d<n.marks.length;d++)l=l.firstChild;1!=r.nodeType&&(r=(0,_dom.elt)("span",null,r),a||(s=r)),s||!a&&!t.current.length||(s=l==r?r=(0,_dom.elt)("span",null,l):l.parentNode.appendChild((0,_dom.elt)("span",null,l))),r.setAttribute("pm-offset",i),null==n.type.contains&&r.setAttribute("pm-leaf",n.isText?n.width:"true");for(var u=0;a;){var p=a-i,c=splitSpan(s,p);t.current.length&&(c.className=t.current.join(" ")),c.setAttribute("pm-inner-offset",u),u+=p,i+=p,t.advanceTo(new _model.Pos(e,i)),(a=t.nextChangeBefore(o))||s.setAttribute("pm-inner-offset",u)}return t.current.length&&(s.className=t.current.join(" ")),r},document:document,path:e}}function splitSpan(e,t){var n=e.firstChild,r=n.nodeValue,i=e.parentNode.insertBefore((0,_dom.elt)("span",null,r.slice(0,t)),e);return n.nodeValue=r.slice(t),i}function draw(e,t){e.content.textContent="",e.content.appendChild((0,_format.toDOM)(t,options([],e.ranges.activeRangeTracker())))}function adjustTrailingHacks(e,t){var n=0==t.size||t.lastChild.type.isBR||t.type.isCode&&t.lastChild.isText&&/\n$/.test(t.lastChild.text)?"br":t.lastChild.isText||null!=t.lastChild.type.contains?null:"text",r=e.lastChild,i=r&&1==r.nodeType&&r.hasAttribute("pm-ignore")?"BR"==r.nodeName?"br":"text":null;n!=i&&(i&&e.removeChild(r),n&&e.appendChild("br"==n?(0,_dom.elt)("br",{"pm-ignore":"trailing-break"}):(0,_dom.elt)("span",{"pm-ignore":"cursor-text"},"")))}function findNodeIn(e,t){for(var n,r=e.copy();n=r.next().value;)if(n==t)return n}function movePast(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}function redraw(e,t,n,r){function i(e,n,r){for(var a,l=n.iter(),s=r.iter(),d=s.next().value,u=e.firstChild;a=l.next().value;){var p=l.offset-a.width,c=void 0,f=void 0;if(n.isTextblock||o.path.push(p),d==a)c=d;else if(c=findNodeIn(s,a))for(;d!=c;)d=s.next().value,u=movePast(u);if(c&&!t.get(c))f=!0;else if(d&&!a.isText&&a.sameMarkup(d)&&t.get(d)!=_main.DIRTY_REDRAW)f=!0,d.type.contains&&i((0,_dompos.childContainer)(u),a,d);else{var m=(0,_format.nodeToDOM)(a,o,p);e.insertBefore(m,u),f=!1}f&&(u.setAttribute("pm-offset",p),u=u.nextSibling,d=s.next().value),n.isTextblock||o.path.pop()}for(;d;)u=movePast(u),d=s.next().value;n.isTextblock&&adjustTrailingHacks(e,n)}if(t.get(r)==_main.DIRTY_REDRAW)return draw(e,n);var o=options([],e.ranges.activeRangeTracker());i(e.content,n,r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.draw=draw,exports.redraw=redraw;var _model=require("../model"),_format=require("../format"),_dom=require("../dom"),_main=require("./main"),_dompos=require("./dompos");
},{"../dom":18,"../format":37,"../model":51,"./dompos":25,"./main":30}],27:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function isDelStep(e){return"replace"==e.type&&e.from.offset<e.to.offset&&_model.Pos.samePath(e.from.path,e.to.path)&&(!e.param||0==e.param.content.size)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.History=void 0;var _createClass=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}(),_model=require("../model"),_transform=require("../transform"),InvertedStep=function e(t,s,n){_classCallCheck(this,e),this.step=t,this.version=s,this.id=n},BranchRemapping=function(){function e(t){_classCallCheck(this,e),this.branch=t,this.remap=new _transform.Remapping,this.version=t.version,this.mirrorBuffer=Object.create(null)}return _createClass(e,[{key:"moveToVersion",value:function(e){for(;this.version>e;)this.addNextMap()}},{key:"addNextMap",value:function(){var e=this.branch.mirror[this.version],t=this.branch.maps.length-(this.branch.version-this.version)-1,s=this.remap.addToFront(this.branch.maps[t],this.mirrorBuffer[this.version]);return--this.version,null!=e&&(this.mirrorBuffer[e]=s),s}},{key:"movePastStep",value:function(e){var t=this.addNextMap();e&&this.remap.addToBack(e.map,t)}}]),e}(),workTime=100,pauseTime=150,CompressionWorker=function(){function e(t,s,n){_classCallCheck(this,e),this.branch=s,this.callback=n,this.remap=new BranchRemapping(s),this.doc=t,this.events=[],this.maps=[],this.version=this.startVersion=s.version,this.i=s.events.length,this.timeout=null,this.aborted=!1}return _createClass(e,[{key:"work",value:function(){var e=this;if(!this.aborted)for(var t=Date.now()+workTime;;){if(0==this.i)return this.finish();for(var s=this.branch.events[--this.i],n=[],i=s.length-1;i>=0;i--){var r=s[i],o=r.step,a=r.version,h=r.id;this.remap.moveToVersion(a);var p=o.map(this.remap.remap);if(p&&isDelStep(o)){for(var l=0,u=o.from;i>0;){var c=s[i-1];if(c.version!=a-1||!isDelStep(c.step)||u.cmp(c.step.to))break;l+=c.step.to.offset-c.step.from.offset,u=c.step.from,a--,i--,this.remap.addNextMap()}if(l>0){var v=p.from.move(-l);p=new _transform.Step("replace",v,p.to,v)}}var m=p&&p.apply(this.doc);m&&(this.doc=m.doc,this.maps.push(m.map.invert()),n.push(new InvertedStep(p,this.version,h)),this.version--),this.remap.movePastStep(m)}if(n.length&&(n.reverse(),this.events.push(n)),Date.now()>t)return void(this.timeout=window.setTimeout(function(){return e.work()},pauseTime))}}},{key:"finish",value:function(){this.aborted||(this.events.reverse(),this.maps.reverse(),this.callback(this.maps.concat(this.branch.maps.slice(this.branch.maps.length-(this.branch.version-this.startVersion))),this.events))}},{key:"abort",value:function(){this.aborted=!0,window.clearTimeout(this.timeout)}}]),e}(),compressStepCount=150,Branch=function(){function e(t){_classCallCheck(this,e),this.maxDepth=t,this.version=0,this.nextStepID=1,this.maps=[],this.mirror=Object.create(null),this.events=[],this.stepsSinceCompress=0,this.compressing=null,this.compressTimeout=null}return _createClass(e,[{key:"clear",value:function(e){!e&&this.empty()||(this.maps.length=this.events.length=this.stepsSinceCompress=0,this.mirror=Object.create(null),this.abortCompression())}},{key:"newEvent",value:function(){for(this.abortCompression(),this.events.push([]);this.events.length>this.maxDepth;)this.events.shift()}},{key:"addMap",value:function(e){if(!this.empty())return this.maps.push(e),this.version++,this.stepsSinceCompress++,!0}},{key:"empty",value:function(){return 0==this.events.length}},{key:"addStep",value:function(e,t,s){this.addMap(t),null==s&&(s=this.nextStepID++),this.events[this.events.length-1].push(new InvertedStep(e,this.version,s))}},{key:"addTransform",value:function(e,t){this.abortCompression();for(var s=0;s<e.steps.length;s++){var n=e.steps[s].invert(e.docs[s],e.maps[s]);this.addStep(n,e.maps[s],t&&t[s])}}},{key:"popEvent",value:function(e,t){this.abortCompression();var s=this.events.pop();if(!s)return null;for(var n=new BranchRemapping(this),i=t,r=new _transform.Transform(e),o=[],a=s.length-1;a>=0;a--){var h=s[a],p=h.step;if(i&&h.version==n.version)this.version--,delete this.mirror[this.version],this.maps.pop(),r.step(p),o.push(h.id),--n.version;else{i=!1,n.moveToVersion(h.version),p=p.map(n.remap);var l=p&&r.step(p);l&&(o.push(h.id),this.addMap(l.map)&&(this.mirror[this.version]=h.version)),a>0&&n.movePastStep(l)}}return this.empty()&&this.clear(!0),{transform:r,ids:o}}},{key:"lastStep",value:function(){for(var e=this.events.length-1;e>=0;e--){var t=this.events[e];if(t.length)return t[t.length-1]}}},{key:"getVersion",value:function(){var e=this.lastStep();return{lastID:e&&e.id,version:this.version}}},{key:"isAtVersion",value:function(e){var t=this.lastStep();return this.version==e.version&&(t&&t.id)==e.lastID}},{key:"findVersion",value:function(e){for(var t=this.events.length-1;t>=0;t--)for(var s=this.events[t],n=s.length-1;n>=0;n--)if(s[n].id<=e.lastID)return{event:t,step:n+1}}},{key:"rebased",value:function(e,t,s){if(!this.empty()){this.abortCompression();var n=this.version-s.length;e:for(var i=this.events.length-1;i>=0;i--)for(var r=this.events[i],o=r.length-1;o>=0;o--){var a=r[o];if(a.version<=n)break e;var h=s[a.version-n-1];if(h==-1)r.splice(o--,1);else{var p=t.steps[h].invert(t.docs[h],t.maps[h]);r[o]=new InvertedStep(p,n+e.length+h+1,a.id)}}this.maps.length>s.length?this.maps=this.maps.slice(0,this.maps.length-s.length).concat(e).concat(t.maps):this.maps=t.maps.slice(),this.version=n+e.length+t.maps.length,this.stepsSinceCompress+=e.length+t.steps.length-s.length}}},{key:"abortCompression",value:function(){this.compressing&&(this.compressing.abort(),this.compressing=null)}},{key:"needsCompression",value:function(){return this.stepsSinceCompress>compressStepCount&&!this.compressing}},{key:"startCompression",value:function(e){var t=this;this.compressing=new CompressionWorker(e,this,function(e,s){t.maps=e,t.events=s,t.mirror=Object.create(null),t.compressing=null,t.stepsSinceCompress=0}),this.compressing.work()}}]),e}(),compressDelay=750,History=exports.History=function(){function e(t){var s=this;_classCallCheck(this,e),this.pm=t,this.done=new Branch(t.options.historyDepth),this.undone=new Branch(t.options.historyDepth),this.lastAddedAt=0,this.ignoreTransform=!1,this.allowCollapsing=!0,t.on("transform",function(e,t){return s.recordTransform(e,t)})}return _createClass(e,[{key:"recordTransform",value:function(e,t){if(!this.ignoreTransform){if(0==t.addToHistory)for(var s=0;s<e.maps.length;s++){var n=e.maps[s];this.done.addMap(n),this.undone.addMap(n)}else{this.undone.clear();var i=Date.now();i>this.lastAddedAt+this.pm.options.historyEventDelay&&this.done.newEvent(),this.done.addTransform(e),this.lastAddedAt=i}this.maybeScheduleCompression()}}},{key:"undo",value:function(){return this.shift(this.done,this.undone)}},{key:"redo",value:function(){return this.shift(this.undone,this.done)}},{key:"shift",value:function(e,t){var s=e.popEvent(this.pm.doc,this.allowCollapsing);if(!s)return!1;var n=s.transform,i=s.ids;return this.ignoreTransform=!0,this.pm.apply(n),this.ignoreTransform=!1,n.steps.length?(t&&(t.newEvent(),t.addTransform(n,i)),this.lastAddedAt=0,!0):this.shift(e,t)}},{key:"getVersion",value:function(){return this.done.getVersion()}},{key:"isAtVersion",value:function(e){return this.done.isAtVersion(e)}},{key:"backToVersion",value:function(e){var t=this.done.findVersion(e);if(!t)return!1;var s=this.done.events[t.event];if(t.event==this.done.events.length-1&&t.step==s.length)return!0;var n=this.done.events.slice(t.event+1).reduce(function(e,t){return e.concat(t)},s.slice(t.step));return this.done.events.length=t.event+((s.length=t.step)?1:0),this.done.events.push(n),this.shift(this.done),!0}},{key:"rebased",value:function(e,t,s){this.done.rebased(e,t,s),this.undone.rebased(e,t,s),this.maybeScheduleCompression()}},{key:"maybeScheduleCompression",value:function(){this.maybeScheduleCompressionForBranch(this.done),this.maybeScheduleCompressionForBranch(this.undone)}},{key:"maybeScheduleCompressionForBranch",value:function(e){var t=this;window.clearTimeout(e.compressTimeout),e.needsCompression()&&(e.compressTimeout=window.setTimeout(function(){e.needsCompression()&&e.startCompression(t.pm.doc)},compressDelay))}},{key:"undoDepth",get:function(){return this.done.events.length}},{key:"redoDepth",get:function(){return this.undone.events.length}}]),e}();
},{"../model":51,"../transform":57}],28:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Keymap=exports.baseCommands=exports.Command=exports.CommandSet=exports.MarkedRange=exports.NodeSelection=exports.TextSelection=exports.Selection=exports.SelectionError=exports.defineOption=exports.ProseMirror=void 0;var _main=require("./main");Object.defineProperty(exports,"ProseMirror",{enumerable:!0,get:function(){return _main.ProseMirror}});var _options=require("./options");Object.defineProperty(exports,"defineOption",{enumerable:!0,get:function(){return _options.defineOption}});var _selection=require("./selection");Object.defineProperty(exports,"SelectionError",{enumerable:!0,get:function(){return _selection.SelectionError}}),Object.defineProperty(exports,"Selection",{enumerable:!0,get:function(){return _selection.Selection}}),Object.defineProperty(exports,"TextSelection",{enumerable:!0,get:function(){return _selection.TextSelection}}),Object.defineProperty(exports,"NodeSelection",{enumerable:!0,get:function(){return _selection.NodeSelection}});var _range=require("./range");Object.defineProperty(exports,"MarkedRange",{enumerable:!0,get:function(){return _range.MarkedRange}});var _command=require("./command");Object.defineProperty(exports,"CommandSet",{enumerable:!0,get:function(){return _command.CommandSet}}),Object.defineProperty(exports,"Command",{enumerable:!0,get:function(){return _command.Command}});var _base_commands=require("./base_commands");Object.defineProperty(exports,"baseCommands",{enumerable:!0,get:function(){return _base_commands.baseCommands}}),require("./schema_commands");var _browserkeymap=require("browserkeymap"),_browserkeymap2=_interopRequireDefault(_browserkeymap);exports.Keymap=_browserkeymap2.default;
},{"./base_commands":19,"./command":22,"./main":30,"./options":31,"./range":32,"./schema_commands":33,"./selection":34,"browserkeymap":73}],29:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dispatchKey(e,t,o){var n=e.input.keySeq;if(n){if(_browserkeymap2.default.isModifierKey(t))return!0;clearTimeout(stopSeq),stopSeq=setTimeout(function(){e.input.keySeq==n&&(e.input.keySeq=null)},50),t=n+" "+t}for(var i=function t(o){if(o===!1)return"nothing";if("..."==o)return"multi";if(null==o)return!1;var n=!1;if(Array.isArray(o))for(var i=0;n===!1&&i<o.length;i++)n=t(o[i]);else n="string"==typeof o?e.execCommand(o):o(e);return 0!=n&&"handled"},r=void 0,a=0;!r&&a<e.input.keymaps.length;a++)r=i(e.input.keymaps[a].map.lookup(t,e));return r||(r=i(e.input.baseKeymap.lookup(t,e))||i(_capturekeys.captureKeys.lookup(t))),"multi"==r&&(e.input.keySeq=t),"handled"!=r&&"multi"!=r||o.preventDefault(),n&&!r&&/\'$/.test(t)?(o.preventDefault(),!0):!!r}function inputText(e,t,o){if(t.empty&&!o)return!1;var n=e.input.storedMarks||e.doc.marksAt(t.from);e.tr.replaceWith(t.from,t.to,e.schema.text(o,n)).apply({scrollIntoView:!0}),e.signal("textInput",o)}function selectClickedNode(e,t){var o=(0,_dompos.selectableNodeAbove)(e,t.target,{left:t.clientX,top:t.clientY},!0);if(!o)return e.sel.fastPoll();var n=e.selection,i=n.node,r=n.from;if(i&&o.depth>=r.depth&&0==o.shorten(r.depth).cmp(r)){if(0==r.depth)return e.sel.fastPoll();o=r.shorten()}e.setNodeSelection(o),e.focus(),t.preventDefault()}function handleTripleClick(e,t){t.preventDefault();var o=(0,_dompos.selectableNodeAbove)(e,t.target,{left:t.clientX,top:t.clientY},!0);if(o){var n=e.doc.nodeAfter(o);if(n.isBlock&&!n.isTextblock)e.setNodeSelection(o);else{var i=n.isInline?o.path:o.toPath();n.isInline&&(n=e.doc.path(i)),e.setTextSelection(new _model.Pos(i,0),new _model.Pos(i,n.size))}e.focus()}}function finishComposing(e){var t=e.input.composing,o=(0,_domchange.textInContext)(t.context,t.endData),n=(0,_selection.rangeFromDOMLoose)(e);e.ensureOperation(),e.input.composing=null,o!=t.data&&inputText(e,t.range,o),n&&!n.eq(e.sel.range)&&e.setSelectionDirect(n)}function toClipboard(e,t,o,n){for(var i=void 0,r=Math.min(t.depth,o.depth),a=0,s=e.sliceBetween(t,o);a<=r&&(s.type.defaultAttrs&&(i={depth:a,node:s}),!(s.size>1));a++)s=s.firstChild;var l=i.node.type.name+" "+(t.depth-i.depth)+" "+(o.depth-i.depth),p='<div pm-context="'+l+'">'+(0,_format.toHTML)(i.node)+"</div>";n.clearData(),n.setData("text/html",p),n.setData("text/plain",(0,_format.toText)(i.node))}function fromClipboard(e,t,o){var n=t.getData("text/plain"),i=t.getData("text/html");if(!i&&!n)return null;var r=void 0,a=void 0,s=void 0;if(!o&&i||!n){var l=document.createElement("div");l.innerHTML=e.signalPipelined("transformPastedHTML",i);var p=l.querySelector("[pm-context]"),d=void 0,u=void 0,c=void 0;if(p&&(d=/^(\w+) (\d+) (\d+)$/.exec(p.getAttribute("pm-context")))&&(u=e.schema.nodes[d[1]])&&u.defaultAttrs&&(c=parseFromContext(p,u,+d[2],+d[3]))){var f=c;r=f.doc,a=f.from,s=f.to}else r=(0,_format.fromDOM)(e.schema,l)}else r=(0,_format.parseFrom)(e.schema,e.signalPipelined("transformPastedText",n),"text");return{doc:r,from:a||(0,_selection.findSelectionAtStart)(r).from,to:s||(0,_selection.findSelectionAtEnd)(r).to}}function posAtLeft(e,t){for(var o=[],n=0,i=e;n<t&&(i=i.firstChild);n++)o.push(0);return new _model.Pos(o,0)}function posAtRight(e,t){for(var o=[],n=e,i=0;i<t&&n.size;i++)o.push(n.size-1),n=n.lastChild;return new _model.Pos(o,n.size)}function parseFromContext(e,t,o,n){var i=t.schema,r=i.nodes.doc,a=(0,_format.fromDOM)(i,e,{topNode:t.create(),preserveWhitespace:!0});if(t!=r){var s=r.findConnection(t);if(!s)return null;for(var l=s.length-1;l>=-1;l--)a=(l<0?r:s[l]).create(null,a),++o,++n}return{doc:a,from:posAtLeft(a,o),to:posAtRight(a,n)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Input=void 0;var _createClass=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();exports.dispatchKey=dispatchKey;var _browserkeymap=require("browserkeymap"),_browserkeymap2=_interopRequireDefault(_browserkeymap),_model=require("../model"),_format=require("../format"),_capturekeys=require("./capturekeys"),_dom=require("../dom"),_domchange=require("./domchange"),_selection=require("./selection"),_dompos=require("./dompos"),stopSeq=null,handlers={},Input=exports.Input=function(){function e(t){var o=this;_classCallCheck(this,e),this.pm=t,this.baseKeymap=null,this.keySeq=null,this.composing=null,this.mouseDown=null,this.shiftKey=this.updatingComposition=!1,this.skipInput=0,this.draggingFrom=!1,this.keymaps=[],this.defaultKeymap=null,this.storedMarks=null,this.dropTarget=t.wrapper.appendChild((0,_dom.elt)("div",{class:"ProseMirror-drop-target"}));var n=function(e){var o=handlers[e];t.content.addEventListener(e,function(e){return o(t,e)})};for(var i in handlers)n(i);t.on("selectionChange",function(){return o.storedMarks=null})}return _createClass(e,[{key:"maybeAbortComposition",value:function(){if(this.composing&&!this.updatingComposition){if(this.composing.finished)finishComposing(this.pm);else{this.composing=null,this.skipInput++;var e=window.getSelection();if(e.rangeCount){var t=e.getRangeAt(0);e.removeAllRanges(),e.addRange(t)}}return!0}}}]),e}();handlers.keydown=function(e,t){if(e.signal("interaction"),16==t.keyCode&&(e.input.shiftKey=!0),!e.input.composing){var o=_browserkeymap2.default.keyName(t);o&&dispatchKey(e,o,t)||e.sel.fastPoll()}},handlers.keyup=function(e,t){16==t.keyCode&&(e.input.shiftKey=!1)},handlers.keypress=function(e,t){if(!(e.input.composing||!t.charCode||t.ctrlKey&&!t.altKey||_dom.browser.mac&&t.metaKey||dispatchKey(e,_browserkeymap2.default.keyName(t),t))){var o=e.selection;o.node&&null==o.node.contains&&(e.tr.delete(o.from,o.to).apply(),o=e.selection),inputText(e,o,String.fromCharCode(t.charCode)),t.preventDefault()}};var lastClick=0,oneButLastClick=0;handlers.mousedown=function(e,t){e.signal("interaction");var o=Date.now(),n=o-lastClick<500,i=o-oneButLastClick<600;oneButLastClick=lastClick,lastClick=o,i?handleTripleClick(e,t):e.input.mouseDown=new MouseDown(e,t,n)};var MouseDown=function(){function e(t,o,n){_classCallCheck(this,e),this.pm=t,this.event=o,this.leaveToBrowser=t.input.shiftKey||n;var i=(0,_dompos.pathFromDOM)(t,o.target),r=t.doc.path(i);this.mightDrag=r.type.draggable||r==t.sel.range.node?i:null,this.mightDrag&&(o.target.draggable=!0,_dom.browser.gecko&&(this.setContentEditable=!o.target.hasAttribute("contentEditable"))&&o.target.setAttribute("contentEditable","false")),this.x=o.clientX,this.y=o.clientY,window.addEventListener("mouseup",this.up=this.up.bind(this)),window.addEventListener("mousemove",this.move=this.move.bind(this)),t.sel.fastPoll()}return _createClass(e,[{key:"done",value:function(){window.removeEventListener("mouseup",this.up),window.removeEventListener("mousemove",this.move),this.mightDrag&&(this.event.target.draggable=!1,_dom.browser.gecko&&this.setContentEditable&&this.event.target.removeAttribute("contentEditable"))}},{key:"up",value:function(){if(this.done(),this.leaveToBrowser)this.pm.sel.fastPoll();else if(this.event.ctrlKey)selectClickedNode(this.pm,this.event);else if(!(0,_dompos.handleNodeClick)(this.pm,"handleClick",this.event,!0)){var e=(0,_dompos.selectableNodeAbove)(this.pm,this.event.target,{left:this.x,top:this.y});e?(this.pm.setNodeSelection(e),this.pm.focus()):this.pm.sel.fastPoll()}}},{key:"move",value:function(e){!this.leaveToBrowser&&(Math.abs(this.x-e.clientX)>4||Math.abs(this.y-e.clientY)>4)&&(this.leaveToBrowser=!0),this.pm.sel.fastPoll()}}]),e}();handlers.touchdown=function(e){e.sel.fastPoll()},handlers.contextmenu=function(e,t){(0,_dompos.handleNodeClick)(e,"handleContextMenu",t,!1)};var Composing=function e(t,o){_classCallCheck(this,e),this.finished=!1,this.context=(0,_domchange.textContext)(o),this.data=o,this.endData=null;var n=t.selection;if(o){var i=n.head.path,r=t.doc.path(i).textContent,a=r.indexOf(o,n.head.offset-o.length);a>-1&&a<=n.head.offset+o.length&&(n=new _selection.TextSelection(new _model.Pos(i,a),new _model.Pos(i,a+o.length)))}this.range=n};handlers.compositionstart=function(e,t){if(!e.input.maybeAbortComposition()){e.flush(),e.input.composing=new Composing(e,t.data);var o=e.selection.head.shorten();e.markRangeDirty({from:o,to:o.move(1)})}},handlers.compositionupdate=function(e,t){var o=e.input.composing;o&&o.data!=t.data&&(o.data=t.data,e.input.updatingComposition=!0,inputText(e,o.range,o.data),e.input.updatingComposition=!1,o.range=new _selection.TextSelection(o.range.from,o.range.from.move(o.data.length)))},handlers.compositionend=function(e,t){var o=e.input.composing;o&&(e.input.composing.finished=!0,e.input.composing.endData=t.data,setTimeout(function(){e.input.composing==o&&finishComposing(e)},20))},handlers.input=function(e){return e.input.skipInput?--e.input.skipInput:e.input.composing?void(e.input.composing.finished&&finishComposing(e)):(e.startOperation({readSelection:!1}),(0,_domchange.applyDOMChange)(e),void e.scrollIntoView())},handlers.copy=handlers.cut=function(e,t){var o=e.selection,n=o.from,i=o.to,r=o.empty;!r&&t.clipboardData&&(toClipboard(e.doc,n,i,t.clipboardData),t.preventDefault(),"cut"!=t.type||r||e.tr.delete(n,i).apply())},handlers.paste=function(e,t){if(t.clipboardData){var o=e.selection,n=fromClipboard(e,t.clipboardData,e.input.shiftKey);n&&(t.preventDefault(),e.tr.replace(o.from,o.to,n.doc,n.from,n.to).apply(),e.scrollIntoView())}},handlers.dragstart=function(e,t){var o=e.input.mouseDown;if(o&&o.done(),t.dataTransfer){var n=e.selection,i=n.from,r=n.to,a=n.empty,s=void 0,l=!a&&e.posAtCoords({left:t.clientX,top:t.clientY});if(l&&l.cmp(i)>=0&&l.cmp(r)<=0)s={from:i,to:r};else if(o&&o.mightDrag){var p=_model.Pos.from(o.mightDrag);s={from:p,to:p.move(1)}}s&&(e.input.draggingFrom=s,toClipboard(e.doc,s.from,s.to,t.dataTransfer))}},handlers.dragend=function(e){return window.setTimeout(function(){return e.input.draggingFrom=!1},50)},handlers.dragover=handlers.dragenter=function(e,t){t.preventDefault();var o=e.posAtCoords({left:t.clientX,top:t.clientY});if(o){var n=(0,_dompos.coordsAtPos)(e,o),i=e.wrapper.getBoundingClientRect();n.top-=i.top,n.right-=i.left,n.bottom-=i.top,n.left-=i.left;var r=e.input.dropTarget;r.style.display="block",r.style.left=n.left-1+"px",r.style.top=n.top+"px",r.style.height=n.bottom-n.top+"px"}},handlers.dragleave=function(e){return e.input.dropTarget.style.display=""},handlers.drop=function(e,t){if(e.input.dropTarget.style.display="",t.dataTransfer&&!e.signalDOM(t)){var o=fromClipboard(e,t.dataTransfer);if(o){t.preventDefault();var n=e.posAtCoords({left:t.clientX,top:t.clientY}),i=n;if(!n)return;var r=e.tr;e.input.draggingFrom&&!t.ctrlKey&&(r.delete(e.input.draggingFrom.from,e.input.draggingFrom.to),n=r.map(n).pos),r.replace(n,n,o.doc,o.from,o.to).apply();var a=r.map(i).pos;_model.Pos.samePath(n.path,a.path)&&a.offset==n.offset+1&&e.doc.nodeAfter(n).type.selectable?e.setNodeSelection(n):e.setTextSelection(n,a),e.focus()}}},handlers.focus=function(e){e.wrapper.classList.add("ProseMirror-focused"),e.signal("focus")},handlers.blur=function(e){e.wrapper.classList.remove("ProseMirror-focused"),e.signal("blur")};
},{"../dom":18,"../format":37,"../model":51,"./capturekeys":20,"./domchange":24,"./dompos":25,"./selection":34,"browserkeymap":73}],30:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DIRTY_REDRAW=exports.DIRTY_RESCAN=exports.ProseMirror=void 0;var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}();require("./css");var _browserkeymap=require("browserkeymap"),_browserkeymap2=_interopRequireDefault(_browserkeymap),_model=require("../model"),_transform=require("../transform"),_sortedinsert=require("../util/sortedinsert"),_sortedinsert2=_interopRequireDefault(_sortedinsert),_error=require("../util/error"),_map=require("../util/map"),_event=require("../util/event"),_dom=require("../dom"),_format=require("../format"),_options=require("./options"),_selection2=require("./selection"),_dompos=require("./dompos"),_draw=require("./draw"),_input=require("./input"),_history=require("./history"),_range=require("./range"),ProseMirror=exports.ProseMirror=function(){function e(t){_classCallCheck(this,e),(0,_dom.ensureCSSAdded)(),t=this.options=(0,_options.parseOptions)(t),this.schema=t.schema,null==t.doc&&(t.doc=this.schema.node("doc",null,[this.schema.node("paragraph")])),this.content=(0,_dom.elt)("div",{class:"ProseMirror-content","pm-container":!0}),this.wrapper=(0,_dom.elt)("div",{class:"ProseMirror"},this.content),this.wrapper.ProseMirror=this,t.place&&t.place.appendChild?t.place.appendChild(this.wrapper):t.place&&t.place(this.wrapper),this.setDocInner(t.docFormat?(0,_format.parseFrom)(this.schema,t.doc,t.docFormat):t.doc),(0,_draw.draw)(this,this.doc),this.content.contentEditable=!0,t.label&&this.content.setAttribute("aria-label",t.label),this.mod=Object.create(null),this.cached=Object.create(null),this.operation=null,this.dirtyNodes=new _map.Map,this.flushScheduled=!1,this.sel=new _selection2.SelectionState(this,(0,_selection2.findSelectionAtStart)(this.doc)),this.accurateSelection=!1,this.input=new _input.Input(this),this.commands=null,this.commandKeys=null,(0,_options.initOptions)(this)}return _createClass(e,[{key:"setOption",value:function(e,t){(0,_options.setOption)(this,e,t),this.signal("optionChanged",e,t)}},{key:"getOption",value:function(e){return this.options[e]}},{key:"setTextSelection",value:function(e,t){this.setSelection(new _selection2.TextSelection(e,t))}},{key:"setNodeSelection",value:function(e){this.checkPos(e,!1);var t=this.doc.path(e.path);if(e.offset>=t.size)throw new _selection2.SelectionError("Trying to set a node selection at the end of a node");var i=t.child(e.offset);if(!i.type.selectable)throw new _selection2.SelectionError("Trying to select a non-selectable node");this.input.maybeAbortComposition(),this.sel.setAndSignal(new _selection2.NodeSelection(e,e.move(1),i))}},{key:"setSelection",value:function(e){e instanceof _selection2.TextSelection?(this.checkPos(e.head,!0),e.empty||this.checkPos(e.anchor,!0)):this.checkPos(e.to,!1),this.setSelectionDirect(e)}},{key:"setSelectionDirect",value:function(e){this.ensureOperation(),this.input.maybeAbortComposition(),e.eq(this.sel.range)||this.sel.setAndSignal(e)}},{key:"setContent",value:function(e,t){t&&(e=(0,_format.parseFrom)(this.schema,e,t)),this.setDoc(e)}},{key:"getContent",value:function(e){return e?(0,_format.serializeTo)(this.doc,e):this.doc}},{key:"setDocInner",value:function(e){if(e.type!=this.schema.nodes.doc)throw new _error.AssertionError("Trying to set a document with a different schema");this.doc=e,this.ranges=new _range.RangeStore(this),this.history=new _history.History(this)}},{key:"setDoc",value:function(e,t){t||(t=(0,_selection2.findSelectionAtStart)(e)),this.signal("beforeSetDoc",e,t),this.ensureOperation(),this.setDocInner(e),this.sel.set(t,!0),this.signal("setDoc",e,t)}},{key:"updateDoc",value:function(e,t,i){this.ensureOperation(),this.input.maybeAbortComposition(),this.ranges.transform(t),this.doc=e,this.sel.setAndSignal(i||this.sel.range.map(e,t)),this.signal("change")}},{key:"apply",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?nullOptions:arguments[1];if(e.doc==this.doc)return!1;if(e.docs[0]!=this.doc&&(0,_model.findDiffStart)(e.docs[0],this.doc))throw new _error.AssertionError("Applying a transform that does not start with the current document");return this.signal("beforeTransform",e,t),this.updateDoc(e.doc,e,t.selection),this.signal("transform",e,t),t.scrollIntoView&&this.scrollIntoView(),e}},{key:"checkPos",value:function(e,t){if(!e.isValid(this.doc,t))throw new _error.AssertionError("Position "+e+" is not valid in current document")}},{key:"ensureOperation",value:function(e){return this.operation||this.startOperation(e)}},{key:"startOperation",value:function(e){var t=this;return this.operation=new Operation(this),e&&e.readSelection===!1||!this.sel.readFromDOM()||(this.operation.sel=this.sel.range),this.flushScheduled||((0,_dom.requestAnimationFrame)(function(){t.flushScheduled=!1,t.flush()}),this.flushScheduled=!0),this.operation}},{key:"flush",value:function(){if(document.body.contains(this.wrapper)&&this.operation){this.signal("flushing");var e=this.operation;if(e){this.operation=null,this.accurateSelection=!0;var t=e.doc!=this.doc||this.dirtyNodes.size,i=!1;this.input.composing||!t&&!e.composingAtStart||((0,_draw.redraw)(this,this.dirtyNodes,this.doc,e.doc),this.dirtyNodes.clear(),i=!0),(!i&&e.sel.eq(this.sel.range)||this.input.composing)&&!e.focus||this.sel.toDOM(e.focus),e.scrollIntoView!==!1&&(0,_dompos.scrollIntoView)(this,e.scrollIntoView),t&&this.signal("draw"),this.signal("flush"),this.accurateSelection=!1}}}},{key:"addKeymap",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?50:arguments[1];(0,_sortedinsert2.default)(this.input.keymaps,{map:e,rank:t},function(e,t){return e.rank-t.rank})}},{key:"removeKeymap",value:function(e){for(var t=this.input.keymaps,i=0;i<t.length;++i)if(t[i].map==e||t[i].map.options.name==e)return t.splice(i,1),!0}},{key:"markRange",value:function(e,t,i){this.checkPos(e),this.checkPos(t);var o=new _range.MarkedRange(e,t,i);return this.ranges.addRange(o),o}},{key:"removeRange",value:function(e){this.ranges.removeRange(e)}},{key:"setMark",value:function(e,t,i){var o=this.selection;if(o.empty){var s=this.activeMarks();if(null==t&&(t=!e.isInSet(s)),t&&!this.doc.path(o.head.path).type.canContainMark(e))return;this.input.storedMarks=t?e.create(i).addToSet(s):e.removeFromSet(s),this.signal("activeMarkChange")}else(null!=t?t:!this.doc.rangeHasMark(o.from,o.to,e))?this.apply(this.tr.addMark(o.from,o.to,e.create(i))):this.apply(this.tr.removeMark(o.from,o.to,e))}},{key:"activeMarks",value:function(){var e;return this.input.storedMarks||((e=this.selection.head)?this.doc.marksAt(e):[])}},{key:"focus",value:function(){this.operation?this.operation.focus=!0:this.sel.toDOM(!0)}},{key:"hasFocus",value:function(){return this.sel.range instanceof _selection2.NodeSelection?document.activeElement==this.content:(0,_selection2.hasFocus)(this)}},{key:"posAtCoords",value:function(e){return(0,_dompos.posAtCoords)(this,e)}},{key:"coordsAtPos",value:function(e){return this.checkPos(e),(0,_dompos.coordsAtPos)(this,e)}},{key:"scrollIntoView",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];e&&this.checkPos(e),this.ensureOperation(),this.operation.scrollIntoView=e}},{key:"execCommand",value:function(e,t){var i=this.commands[e];return!(!i||i.exec(this,t)===!1)}},{key:"keyForCommand",value:function(e){var t=this.commandKeys[e];if(void 0!==t)return t;var i=this.commands[e],o=this.input.baseKeymap;if(!i)return this.commandKeys[e]=null;var s=i.spec.key||(_dom.browser.mac?i.spec.macKey:i.spec.pcKey);if(s){s=_browserkeymap2.default.normalizeKeyName(Array.isArray(s)?s[0]:s);var r=o.bindings[s];if(Array.isArray(r)?r.indexOf(e)>-1:r==e)return this.commandKeys[e]=s}for(var n in o.bindings){var a=o.bindings[n];if(Array.isArray(a)?a.indexOf(e)>-1:a==e)return this.commandKeys[e]=n}return this.commandKeys[e]=null}},{key:"markRangeDirty",value:function(e){this.ensureOperation();for(var t=this.dirtyNodes,i=e.from,o=e.to,s=0,r=this.doc;;s++){var n=s==i.depth,a=s==o.depth;if(n||a||i.path[s]!=o.path[s]){var c=function(){var e=n?i.offset:i.path[s],c=a?o.offset:o.path[s]+1;if(r.isTextblock)r.forEach(function(i,o,s){o<c&&s>e&&t.set(i,DIRTY_REDRAW)});else for(var l,h=r.iter(e,c);l=h.next().value;)t.set(l,DIRTY_REDRAW);return"break"}();if("break"===c)break}else{var l=r.child(i.path[s]);t.has(l)||t.set(l,DIRTY_RESCAN),r=l}}}},{key:"markAllDirty",value:function(){this.dirtyNodes.set(this.doc,DIRTY_REDRAW)}},{key:"selection",get:function(){return this.accurateSelection||this.ensureOperation(),this.sel.range}},{key:"tr",get:function(){return new EditorTransform(this)}}]),e}();ProseMirror.prototype.apply.scroll={scrollIntoView:!0};var DIRTY_RESCAN=exports.DIRTY_RESCAN=1,DIRTY_REDRAW=exports.DIRTY_REDRAW=2,nullOptions={};(0,_event.eventMixin)(ProseMirror);var Operation=function e(t){_classCallCheck(this,e),this.doc=t.doc,this.sel=t.sel.range,this.scrollIntoView=!1,this.focus=!1,this.composingAtStart=!!t.input.composing},EditorTransform=function(e){function t(e){_classCallCheck(this,t);var i=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e.doc));return i.pm=e,i}return _inherits(t,e),_createClass(t,[{key:"apply",value:function(e){return this.pm.apply(this,e)}},{key:"replaceSelection",value:function(e,t){var i=this.selection,o=i.empty,s=i.from,r=i.to,n=i.node,a=void 0;if(e&&e.isInline&&t!==!1){var c=o?this.pm.input.storedMarks:this.doc.marksAt(s);e=e.type.create(e.attrs,e.text,c)}if(n&&n.isTextblock&&e&&e.isInline)s=new _model.Pos(s.toPath(),0),r=new _model.Pos(s.path,n.size);else if(n)for(;s.depth&&0==s.offset&&(a=this.doc.path(s.path))&&s.offset==a.size-1&&!a.type.canBeEmpty&&(!e||!a.type.canContain(e));)s=s.shorten(),r=r.shorten(null,1);else if(e&&e.isBlock&&this.doc.path(s.path.slice(0,s.depth-1)).type.canContain(e)){this.delete(s,r);var l=this.doc.path(s.path);return s.offset&&s.offset!=l.size&&this.split(s),this.insert(s.shorten(null,s.offset?1:0),e)}return e?this.replaceWith(s,r,e):this.delete(s,r)}},{key:"deleteSelection",value:function(){return this.replaceSelection()}},{key:"typeText",value:function(e){return this.replaceSelection(this.pm.schema.text(e),!0)}},{key:"selection",get:function(){return this.steps.length?this.pm.selection.map(this):this.pm.selection}}]),t}(_transform.Transform);
},{"../dom":18,"../format":37,"../model":51,"../transform":57,"../util/error":68,"../util/event":69,"../util/map":70,"../util/sortedinsert":72,"./css":23,"./dompos":25,"./draw":26,"./history":27,"./input":29,"./options":31,"./range":32,"./selection":34,"browserkeymap":73}],31:[function(require,module,exports){
"use strict";function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function defineOption(n,t,e,o){options[n]=new Option(t,e,o)}function parseOptions(n){var t=Object.create(null),e=n?[n].concat(n.use||[]):[];n:for(var o in options){for(var i=0;i<e.length;i++)if(o in e[i]){t[o]=e[i][o];continue n}t[o]=options[o].defaultValue}return t}function initOptions(n){for(var t in options){var e=options[t];e.update&&e.updateOnInit&&e.update(n,n.options[t],null,!0)}}function setOption(n,t,e){var o=options[t];if(void 0===o)throw new _error.AssertionError("Option '"+t+"' is not defined");if(o.update===!1)throw new _error.AssertionError("Option '"+t+"' can not be changed");var i=n.options[t];n.options[t]=e,o.update&&o.update(n,e,i,!1)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.defineOption=defineOption,exports.parseOptions=parseOptions,exports.initOptions=initOptions,exports.setOption=setOption;var _model=require("../model"),_error=require("../util/error"),_prompt=require("../ui/prompt"),_command=require("./command"),Option=function n(t,e,o){_classCallCheck(this,n),this.defaultValue=t,this.update=e,this.updateOnInit=o!==!1},options=Object.create(null);defineOption("schema",_model.defaultSchema,!1),defineOption("doc",null,function(n,t){return n.setDoc(t)},!1),defineOption("docFormat",null),defineOption("place",null),defineOption("historyDepth",100),defineOption("historyEventDelay",500),defineOption("commands",_command.CommandSet.default,_command.updateCommands),defineOption("commandParamPrompt",_prompt.ParamPrompt),defineOption("label",null);
},{"../model":51,"../ui/prompt":66,"../util/error":68,"./command":22}],32:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.RangeStore=exports.MarkedRange=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,r,s){return r&&e(t.prototype,r),s&&e(t,s),t}}(),_event=require("../util/event"),MarkedRange=exports.MarkedRange=function(){function e(t,r,s){_classCallCheck(this,e),this.options=s||{},this.from=t,this.to=r}return _createClass(e,[{key:"remove",value:function(){this.signal("removed",this.from,this.to.max(this.from)),this.from=this.to=null}}]),e}();(0,_event.eventMixin)(MarkedRange);var RangeSorter=function(){function e(){_classCallCheck(this,e),this.sorted=[]}return _createClass(e,[{key:"find",value:function(e){for(var t=0,r=this.sorted.length;;){if(r<t+10){for(var s=t;s<r;s++)if(this.sorted[s].at.cmp(e)>=0)return s;return r}var n=t+r>>1;this.sorted[n].at.cmp(e)>0?r=n:t=n}}},{key:"insert",value:function(e){this.sorted.splice(this.find(e.at),0,e)}},{key:"remove",value:function(e,t){for(var r=this.find(e),s=0;;s++){var n=r-s-1,o=r+s;if(n>=0&&this.sorted[n].range==t)return void this.sorted.splice(n,1);if(o<this.sorted.length&&this.sorted[o].range==t)return void this.sorted.splice(o,1)}}},{key:"resort",value:function(){for(var e=0;e<this.sorted.length;e++)for(var t=this.sorted[e],r=t.at="open"==t.type?t.range.from:t.range.to,s=e;s>0&&this.sorted[s-1].at.cmp(r)>0;)this.sorted[s]=this.sorted[s-1],this.sorted[--s]=t}}]),e}(),RangeStore=exports.RangeStore=function(){function e(t){_classCallCheck(this,e),this.pm=t,this.ranges=[],this.sorted=new RangeSorter}return _createClass(e,[{key:"addRange",value:function(e){this.ranges.push(e),this.sorted.insert({type:"open",at:e.from,range:e}),this.sorted.insert({type:"close",at:e.to,range:e}),this.pm.markRangeDirty(e)}},{key:"removeRange",value:function(e){var t=this.ranges.indexOf(e);t>-1&&(this.ranges.splice(t,1),this.sorted.remove(e.from,e),this.sorted.remove(e.to,e),this.pm.markRangeDirty(e),e.remove())}},{key:"transform",value:function(e){for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t];r.from=e.map(r.from,r.options.inclusiveLeft?-1:1).pos,r.to=e.map(r.to,r.options.inclusiveRight?1:-1).pos;var s=r.from.cmp(r.to);r.options.removeWhenEmpty!==!1&&s>=0?(this.removeRange(r),t--):s>0&&(r.to=r.from)}this.sorted.resort()}},{key:"activeRangeTracker",value:function(){return new RangeTracker(this.sorted.sorted)}}]),e}(),RangeTracker=function(){function e(t){_classCallCheck(this,e),this.sorted=t,this.pos=0,this.current=[]}return _createClass(e,[{key:"advanceTo",value:function(e){for(var t=void 0;this.pos<this.sorted.length&&(t=this.sorted[this.pos]).at.cmp(e)<=0;){var r=t.range.options.className;r&&("open"==t.type?this.current.push(r):this.current.splice(this.current.indexOf(r),1)),this.pos++}}},{key:"nextChangeBefore",value:function(e){for(;;){if(this.pos==this.sorted.length)return null;var t=this.sorted[this.pos];if(t.range.options.className)return t.at.cmp(e)>=0?null:t.at.offset;this.pos++}}}]),e}();
},{"../util/event":69}],33:[function(require,module,exports){
"use strict";var _model=require("../model"),_command=require("./command"),_format=require("../format");_model.StrongMark.register("command","set",{derive:!0,label:"Set strong"}),_model.StrongMark.register("command","unset",{derive:!0,label:"Unset strong"}),_model.StrongMark.register("command","toggle",{derive:!0,label:"Toggle strong",menu:{group:"inline",rank:20,display:{type:"icon",width:805,height:1024,path:"M317 869q42 18 80 18 214 0 214-191 0-65-23-102-15-25-35-42t-38-26-46-14-48-6-54-1q-41 0-57 5 0 30-0 90t-0 90q0 4-0 38t-0 55 2 47 6 38zM309 442q24 4 62 4 46 0 81-7t62-25 42-51 14-81q0-40-16-70t-45-46-61-24-70-8q-28 0-74 7 0 28 2 86t2 86q0 15-0 45t-0 45q0 26 0 39zM0 950l1-53q8-2 48-9t60-15q4-6 7-15t4-19 3-18 1-21 0-19v-37q0-561-12-585-2-4-12-8t-25-6-28-4-27-2-17-1l-2-47q56-1 194-6t213-5q13 0 39 0t38 0q40 0 78 7t73 24 61 40 42 59 16 78q0 29-9 54t-22 41-36 32-41 25-48 22q88 20 146 76t58 141q0 57-20 102t-53 74-78 48-93 27-100 8q-25 0-75-1t-75-1q-60 0-175 6t-132 6z"}},keys:["Mod-B"]}),_model.EmMark.register("command","set",{derive:!0,label:"Add emphasis"}),_model.EmMark.register("command","unset",{derive:!0,label:"Remove emphasis"}),_model.EmMark.register("command","toggle",{derive:!0,label:"Toggle emphasis",menu:{group:"inline",rank:21,display:{type:"icon",width:585,height:1024,path:"M0 949l9-48q3-1 46-12t63-21q16-20 23-57 0-4 35-165t65-310 29-169v-14q-13-7-31-10t-39-4-33-3l10-58q18 1 68 3t85 4 68 1q27 0 56-1t69-4 56-3q-2 22-10 50-17 5-58 16t-62 19q-4 10-8 24t-5 22-4 26-3 24q-15 84-50 239t-44 203q-1 5-7 33t-11 51-9 47-3 32l0 10q9 2 105 17-1 25-9 56-6 0-18 0t-18 0q-16 0-49-5t-49-5q-78-1-117-1-29 0-81 5t-69 6z"}},keys:["Mod-I"]}),_model.CodeMark.register("command","set",{derive:!0,label:"Set code style"}),_model.CodeMark.register("command","unset",{derive:!0,label:"Remove code style"}),_model.CodeMark.register("command","toggle",{derive:!0,label:"Toggle code style",menu:{group:"inline",rank:22,display:{type:"icon",width:896,height:1024,path:"M608 192l-96 96 224 224-224 224 96 96 288-320-288-320zM288 192l-288 320 288 320 96-96-224-224 224-224-96-96z"}},keys:["Mod-`"]});var linkIcon={type:"icon",width:951,height:1024,path:"M832 694q0-22-16-38l-118-118q-16-16-38-16-24 0-41 18 1 1 10 10t12 12 8 10 7 14 2 15q0 22-16 38t-38 16q-8 0-15-2t-14-7-10-8-12-12-10-10q-18 17-18 41 0 22 16 38l117 118q15 15 38 15 22 0 38-14l84-83q16-16 16-38zM430 292q0-22-16-38l-117-118q-16-16-38-16-22 0-38 15l-84 83q-16 16-16 38 0 22 16 38l118 118q15 15 38 15 24 0 41-17-1-1-10-10t-12-12-8-10-7-14-2-15q0-22 16-38t38-16q8 0 15 2t14 7 10 8 12 12 10 10q18-17 18-41zM941 694q0 68-48 116l-84 83q-47 47-116 47-69 0-116-48l-117-118q-47-47-47-116 0-70 50-119l-50-50q-49 50-118 50-68 0-116-48l-118-118q-48-48-48-116t48-116l84-83q47-47 116-47 69 0 116 48l117 118q47 47 47 116 0 70-50 119l50 50q49-50 118-50 68 0 116 48l118 118q48 48 48 116z"};_model.LinkMark.register("command","unset",{derive:!0,label:"Unlink",menu:{group:"inline",rank:30,display:linkIcon},active:function(){return!0}}),_model.LinkMark.register("command","set",{derive:{inverseSelect:!0,params:[{label:"Target",attr:"href"},{label:"Title",attr:"title"}]},label:"Add link",menu:{group:"inline",rank:30,display:linkIcon}}),_model.Image.register("command","insert",{derive:{params:[{label:"Image URL",attr:"src"},{label:"Description / alternative text",attr:"alt",prefill:function(e){return(0,_command.selectedNodeAttr)(e,this,"alt")||(0,_format.toText)(e.doc.sliceBetween(e.selection.from,e.selection.to))}},{label:"Title",attr:"title"}]},label:"Insert image",menu:{group:"insert",rank:20,display:{type:"label",label:"Image"}}}),_model.BulletList.register("command","wrap",{derive:{list:!0},label:"Wrap the selection in a bullet list",menu:{group:"block",rank:40,display:{type:"icon",width:768,height:896,path:"M0 512h128v-128h-128v128zM0 256h128v-128h-128v128zM0 768h128v-128h-128v128zM256 512h512v-128h-512v128zM256 256h512v-128h-512v128zM256 768h512v-128h-512v128z"}},keys:["Alt-Right '*'","Alt-Right '-'"]}),_model.OrderedList.register("command","wrap",{derive:{list:!0},label:"Wrap the selection in an ordered list",menu:{group:"block",rank:41,display:{type:"icon",width:768,height:896,path:"M320 512h448v-128h-448v128zM320 768h448v-128h-448v128zM320 128v128h448v-128h-448zM79 384h78v-256h-36l-85 23v50l43-2v185zM189 590c0-36-12-78-96-78-33 0-64 6-83 16l1 66c21-10 42-15 67-15s32 11 32 28c0 26-30 58-110 112v50h192v-67l-91 2c49-30 87-66 87-113l1-1z"}},keys:["Alt-Right '1'"]}),_model.BlockQuote.register("command","wrap",{derive:!0,label:"Wrap the selection in a block quote",menu:{group:"block",rank:45,display:{type:"icon",width:640,height:896,path:"M0 448v256h256v-256h-128c0 0 0-128 128-128v-128c0 0-256 0-256 256zM640 320v-128c0 0-256 0-256 256v256h256v-256h-128c0 0 0-128 128-128z"}},keys:["Alt-Right '>'","Alt-Right '\"'"]}),_model.HardBreak.register("command","insert",{label:"Insert hard break",run:function(e){var t=e.selection,l=t.node,r=t.from;return(!l||!l.isBlock)&&(e.doc.path(r.path).type.isCode?e.tr.typeText("\n").apply(e.apply.scroll):e.tr.replaceSelection(this.create()).apply(e.apply.scroll))},keys:["Mod-Enter","Shift-Enter"]}),_model.ListItem.register("command","split",{label:"Split the current list item",run:function(e){var t=e.selection,l=t.from,r=t.to,a=t.node;if(a&&a.isBlock||l.path.length<2||!_model.Pos.samePath(l.path,r.path))return!1;var i=l.shorten(),o=e.doc.path(i.path);if(o.type!=this)return!1;var n=r.offset==o.child(i.offset).size?e.schema.defaultTextblockType():null;return e.tr.delete(l,r).split(l,2,n).apply(e.apply.scroll)},keys:["Enter(50)"]});for(var _loop=function(e){_model.Heading.registerComputed("command","make"+e,function(t){if(e<=t.maxLevel)return{derive:{name:"make",attrs:{level:e}},label:"Change to heading "+e,keys:e<10&&["Mod-"+e],menu:{group:"textblockHeading",rank:30+e,display:{type:"label",label:"Level "+e},activeDisplay:"Head "+e}}})},i=1;i<=10;i++)_loop(i);_model.Paragraph.register("command","make",{derive:!0,label:"Change to paragraph",keys:["Mod-0"],menu:{group:"textblock",rank:10,display:{type:"label",label:"Plain"},activeDisplay:"Plain"}}),_model.CodeBlock.register("command","make",{derive:!0,label:"Change to code block",keys:["Mod-\\"],menu:{group:"textblock",rank:20,display:{type:"label",label:"Code"},activeDisplay:"Code"}}),_model.HorizontalRule.register("command","insert",{derive:!0,label:"Insert horizontal rule",keys:["Mod-Shift--"],menu:{group:"insert",rank:70,display:{type:"label",label:"Horizontal rule"}}});
},{"../format":37,"../model":51,"./command":22}],34:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function rangeFromDOMLoose(e){if(!hasFocus(e))return null;var t=window.getSelection();return new TextSelection((0,_dompos.posFromDOM)(e,t.anchorNode,t.anchorOffset,!0),(0,_dompos.posFromDOM)(e,t.focusNode,t.focusOffset,!0))}function hasFocus(e){var t=window.getSelection();return t.rangeCount&&(0,_dom.contains)(e.content,t.anchorNode)}function findSelectionIn(e,t,o,n,i){var r=e.path(t);if(r.isTextblock)return new TextSelection(new _model.Pos(t,o));for(var s=o+(n>0?0:-1);n>0?s<r.size:s>=0;s+=n){var a=r.child(s);if(!i&&null==a.type.contains&&a.type.selectable)return new NodeSelection(new _model.Pos(t,s),new _model.Pos(t,s+1),a);t.push(s);var l=findSelectionIn(e,t,n<0?a.size:0,n,i);if(l)return l;t.pop()}}function findSelectionFrom(e,t,o,n){for(var i=t.path.slice(),r=t.offset;;){var s=findSelectionIn(e,i,r,o,n);if(s)return s;if(!i.length)break;r=i.pop()+(o>0?1:0)}}function findSelectionNear(e,t){var o=arguments.length<=2||void 0===arguments[2]?1:arguments[2],n=arguments[3],i=findSelectionFrom(e,t,o,n)||findSelectionFrom(e,t,-o,n);return i||SelectionError("Searching for selection in invalid document "+e),i}function findSelectionAtStart(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],o=arguments[2];return findSelectionIn(e,t.slice(),0,1,o)}function findSelectionAtEnd(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],o=arguments[2];return findSelectionIn(e,t.slice(),e.size,-1,o)}function verticalMotionLeavesTextblock(e,t,o){for(var n=(0,_dompos.pathToDOM)(e.content,t.path),i=(0,_dompos.coordsAtPos)(e,t),r=n.firstChild;r;r=r.nextSibling)if(1==r.nodeType)for(var s=r.getClientRects(),a=0;a<s.length;a++){var l=s[a];if(o<0?l.bottom<i.top:l.top>i.bottom)return!1}return!0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.NodeSelection=exports.TextSelection=exports.Selection=exports.SelectionState=exports.SelectionError=void 0;var _createClass=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();exports.rangeFromDOMLoose=rangeFromDOMLoose,exports.hasFocus=hasFocus,exports.findSelectionFrom=findSelectionFrom,exports.findSelectionNear=findSelectionNear,exports.findSelectionAtStart=findSelectionAtStart,exports.findSelectionAtEnd=findSelectionAtEnd,exports.verticalMotionLeavesTextblock=verticalMotionLeavesTextblock;var _model=require("../model"),_error=require("../util/error"),_dom=require("../dom"),_dompos=require("./dompos"),SelectionError=exports.SelectionError=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,Object.getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(_error.ProseMirrorError),SelectionState=exports.SelectionState=function(){function e(t,o){var n=this;_classCallCheck(this,e),this.pm=t,this.range=o,this.lastNonNodePos=null,this.polling=null,this.lastAnchorNode=this.lastHeadNode=this.lastAnchorOffset=this.lastHeadOffset=null,this.lastNode=null,t.content.addEventListener("focus",function(){return n.receivedFocus()}),this.poller=this.poller.bind(this)}return _createClass(e,[{key:"setAndSignal",value:function(e,t){this.set(e,t),this.pm.signal("selectionChange")}},{key:"set",value:function(e,t){this.pm.ensureOperation({readSelection:!1}),this.range=e,e.node||(this.lastNonNodePos=null),t!==!1&&(this.lastAnchorNode=null)}},{key:"poller",value:function(){hasFocus(this.pm)?(this.pm.operation||this.readFromDOM(),this.polling=setTimeout(this.poller,100)):this.polling=null}},{key:"startPolling",value:function(){clearTimeout(this.polling),this.polling=setTimeout(this.poller,50)}},{key:"fastPoll",value:function(){this.startPolling()}},{key:"stopPolling",value:function(){clearTimeout(this.polling),this.polling=null}},{key:"domChanged",value:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastHeadNode||e.focusOffset!=this.lastHeadOffset}},{key:"storeDOMState",value:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastHeadNode=e.focusNode,this.lastHeadOffset=e.focusOffset}},{key:"readFromDOM",value:function(){if(this.pm.input.composing||!hasFocus(this.pm)||!this.domChanged())return!1;var e=window.getSelection(),t=this.pm.doc,o=(0,_dompos.posFromDOM)(this.pm,e.anchorNode,e.anchorOffset),n=e.isCollapsed?o:(0,_dompos.posFromDOM)(this.pm,e.focusNode,e.focusOffset),i=findSelectionNear(t,n,this.range.head&&this.range.head.cmp(n)<0?-1:1);return i instanceof TextSelection&&t.path(o.path).isTextblock&&(i=new TextSelection(o,i.head)),this.setAndSignal(i),i instanceof NodeSelection||i.head.cmp(n)||i.anchor.cmp(o)?this.toDOM():(this.clearNode(),this.storeDOMState()),!0}},{key:"toDOM",value:function(e){if(!hasFocus(this.pm)){if(!e)return;_dom.browser.gecko&&this.pm.content.focus()}this.range instanceof NodeSelection?this.nodeToDOM():this.rangeToDOM()}},{key:"nodeToDOM",value:function(){var e=(0,_dompos.pathToDOM)(this.pm.content,this.range.from.toPath());e!=this.lastNode&&(this.clearNode(),e.classList.add("ProseMirror-selectednode"),this.pm.content.classList.add("ProseMirror-nodeselection"),this.lastNode=e);var t=document.createRange(),o=window.getSelection();t.selectNode(e),o.removeAllRanges(),o.addRange(t),this.storeDOMState()}},{key:"rangeToDOM",value:function(){this.clearNode();var e=(0,_dompos.DOMFromPos)(this.pm.content,this.range.anchor),t=(0,_dompos.DOMFromPos)(this.pm.content,this.range.head),o=window.getSelection(),n=document.createRange();if(o.extend)n.setEnd(e.node,e.offset),n.collapse(!1);else{if(this.range.anchor.cmp(this.range.head)>0){var i=e;e=t,t=i}n.setEnd(t.node,t.offset),n.setStart(e.node,e.offset)}o.removeAllRanges(),o.addRange(n),o.extend&&o.extend(t.node,t.offset),this.storeDOMState()}},{key:"clearNode",value:function(){if(this.lastNode)return this.lastNode.classList.remove("ProseMirror-selectednode"),this.pm.content.classList.remove("ProseMirror-nodeselection"),this.lastNode=null,!0}},{key:"receivedFocus",value:function(){null==this.polling&&this.startPolling()}}]),e}(),Selection=exports.Selection=function e(){_classCallCheck(this,e)},TextSelection=exports.TextSelection=function(e){function t(e,o){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this));return n.anchor=e,n.head=o||e,n}return _inherits(t,e),_createClass(t,[{key:"eq",value:function(e){return e instanceof t&&!e.head.cmp(this.head)&&!e.anchor.cmp(this.anchor)}},{key:"map",value:function(e,o){var n=o.map(this.head).pos;if(!e.path(n.path).isTextblock)return findSelectionNear(e,n);var i=o.map(this.anchor).pos;return new t(e.path(i.path).isTextblock?i:n,n)}},{key:"inverted",get:function(){return this.anchor.cmp(this.head)>0}},{key:"from",get:function(){return this.inverted?this.head:this.anchor}},{key:"to",get:function(){return this.inverted?this.anchor:this.head}},{key:"empty",get:function(){return 0==this.anchor.cmp(this.head)}}]),t}(Selection),NodeSelection=exports.NodeSelection=function(e){function t(e,o,n){_classCallCheck(this,t);var i=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this));return i.from=e,i.to=o,i.node=n,i}return _inherits(t,e),_createClass(t,[{key:"eq",value:function(e){return e instanceof t&&!this.from.cmp(e.from)}},{key:"map",value:function(e,o){var n=o.map(this.from,1).pos,i=o.map(this.to,-1).pos;if(_model.Pos.samePath(n.path,i.path)&&n.offset==i.offset-1){var r=e.nodeAfter(n);if(r.type.selectable)return new t(n,i,r)}return findSelectionNear(e,n)}},{key:"empty",get:function(){return!1}}]),t}(Selection);
},{"../dom":18,"../model":51,"../util/error":68,"./dompos":25}],35:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fromDOM(e,t,r){r||(r={});var s=new DOMParseState(e,r.topNode||e.node("doc"),r),a=r.from?t.childNodes[r.from]:t.firstChild,n=null!=r.to&&t.childNodes[r.to]||null;s.addAll(a,n,!0);var i=void 0;do i=s.leave();while(s.stack.length);return i}function fromHTML(e,t,r){var s=(r&&r.document||window.document).createElement("div");return s.innerHTML=t,fromDOM(e,s,r)}function matches(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function parseStyles(e){for(var t=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=void 0,s=[];r=t.exec(e);)s.push(r[1],r[2].trim());return s}function schemaInfo(e){return e.cached.parseDOMInfo||(e.cached.parseDOMInfo=summarizeSchemaInfo(e))}function summarizeSchemaInfo(e){var t=Object.create(null),r=Object.create(null);return t._=[],e.registry("parseDOM",function(e,r,s){var a=r.parse;"block"==a?a=function(e,t){t.wrapIn(e,this)}:"mark"==a&&(a=function(e,t){t.wrapMark(e,this)}),(0,_sortedinsert2.default)(t[e]||(t[e]=[]),{type:s,parse:a,selector:r.selector,rank:null==r.rank?50:r.rank},function(e,t){return e.rank-t.rank})}),e.registry("parseDOMStyle",function(e,t,s){(0,_sortedinsert2.default)(r[e]||(r[e]=[]),{type:s,parse:t.parse,rank:null==t.rank?50:t.rank},function(e,t){return e.rank-t.rank})}),{tags:t,styles:r}}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,r,s){return r&&e(t.prototype,r),s&&e(t,s),t}}();exports.fromDOM=fromDOM,exports.fromHTML=fromHTML;var _model=require("../model"),_sortedinsert=require("../util/sortedinsert"),_sortedinsert2=_interopRequireDefault(_sortedinsert),_register=require("./register");(0,_register.defineSource)("dom",fromDOM),(0,_register.defineSource)("html",fromHTML);var blockElements={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ignoreElements={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},noMarks=[],DOMParseState=function(){function e(t,r,s){_classCallCheck(this,e),this.options=s||{},this.schema=t,this.stack=[],this.marks=noMarks,this.closing=!1,this.enter(r.type,r.attrs);var a=schemaInfo(t);this.tagInfo=a.tags,this.styleInfo=a.styles}return _createClass(e,[{key:"addDOM",value:function(e){if(3==e.nodeType){var t=e.nodeValue,r=this.top,s=void 0;(/\S/.test(t)||r.type.isTextblock)&&(this.options.preserveWhitespace||(t=t.replace(/\s+/g," "),/^\s/.test(t)&&(!(s=r.content[r.content.length-1])||"text"==s.type.name&&/\s$/.test(s.text))&&(t=t.slice(1))),t&&this.insertNode(this.schema.text(t,this.marks)))}else if(1!=e.nodeType||e.hasAttribute("pm-ignore"));else{var a=e.getAttribute("style");a?this.addElementWithStyles(parseStyles(a),e):this.addElement(e)}}},{key:"addElement",value:function(e){var t=e.nodeName.toLowerCase();this.parseNodeType(t,e)||ignoreElements.hasOwnProperty(t)||(this.addAll(e.firstChild,null),blockElements.hasOwnProperty(t)&&this.top.type==this.schema.defaultTextblockType()&&(this.closing=!0))}},{key:"addElementWithStyles",value:function(e,t){for(var r=this,s=[],a=0;a<e.length;a+=2){var n=this.styleInfo[e[a]],i=e[a+1];if(n)for(var o=0;o<n.length;o++)s.push(n[o],i)}var l=function e(a){if(a==s.length)r.addElement(t);else{var n=s[a];n.parse.call(n.type,s[a+1],r,e.bind(null,a+2))}};l(0)}},{key:"tryParsers",value:function(e,t){if(e)for(var r=0;r<e.length;r++){var s=e[r];if((!s.selector||matches(t,s.selector))&&s.parse.call(s.type,t,this)!==!1)return!0}}},{key:"parseNodeType",value:function(e,t){return this.tryParsers(this.tagInfo[e],t)||this.tryParsers(this.tagInfo._,t)}},{key:"addAll",value:function(e,t,r){for(var s=r&&this.stack.slice(),a=e;a!=t;a=a.nextSibling)this.addDOM(a),r&&blockElements.hasOwnProperty(a.nodeName.toLowerCase())&&this.sync(s)}},{key:"doClose",value:function(){if(this.closing&&!(this.stack.length<2)){var e=this.leave();this.enter(e.type,e.attrs),this.closing=!1}}},{key:"insertNode",value:function(e){if(this.top.type.canContain(e))this.doClose();else{for(var t=void 0,r=this.stack.length-1;r>=0;r--){var s=this.stack[r].type.findConnection(e.type);if(s){if(r==this.stack.length-1)this.doClose();else for(;this.stack.length>r+1;)this.leave();t=s;break}}if(!t)return;for(var a=0;a<t.length;a++)this.enter(t[a]);this.marks.length&&(this.marks=noMarks)}return this.top.content.push(e),e}},{key:"insert",value:function(e,t,r){return this.insertNode(e.createAutoFill(t,r,this.marks))}},{key:"enter",value:function(e,t){this.stack.push({type:e,attrs:t,content:[]})}},{key:"leave",value:function(){this.marks.length&&(this.marks=noMarks);var e=this.stack.pop(),t=e.content[e.content.length-1];!this.options.preserveWhitespace&&t&&t.isText&&/\s$/.test(t.text)&&(1==t.text.length?e.content.pop():e.content[e.content.length-1]=t.copy(t.text.slice(0,t.text.length-1)));var r=e.type.createAutoFill(e.attrs,e.content);return this.stack.length&&this.insertNode(r),r}},{key:"sync",value:function(e){for(;this.stack.length>e.length;)this.leave();for(;;){var t=this.stack.length-1,r=this.stack[t],s=e[t];if(r.type==s.type&&_model.Node.sameAttrs(r.attrs,s.attrs))break;this.leave()}for(;e.length>this.stack.length;){var a=e[this.stack.length];this.enter(a.type,a.attrs)}this.marks.length&&(this.marks=noMarks),this.closing=!1}},{key:"wrapIn",value:function(e,t,r){this.enter(t,r),this.addAll(e.firstChild,null,!0),this.leave()}},{key:"wrapMark",value:function(e,t){var r=this.marks;this.marks=(t.instance||t).addToSet(r),e.call?e():this.addAll(e.firstChild,null),this.marks=r}},{key:"top",get:function(){return this.stack[this.stack.length-1]}}]),e}();_model.Paragraph.register("parseDOM","p",{parse:"block"}),_model.BlockQuote.register("parseDOM","blockquote",{parse:"block"});for(var _loop=function(e){_model.Heading.registerComputed("parseDOM","h"+e,function(t){if(e<=t.maxLevel)return{parse:function(t,r){r.wrapIn(t,this,{level:e})}}})},i=1;i<=6;i++)_loop(i);_model.HorizontalRule.register("parseDOM","hr",{parse:"block"}),_model.CodeBlock.register("parseDOM","pre",{parse:function(e,t){var r=e.firstChild&&/^code$/i.test(e.firstChild.nodeName)&&e.firstChild.getAttribute("class");if(r&&/fence/.test(r)){for(var s=[],a=/(?:^|\s)lang-(\S+)/g,n=void 0;n=a.exec(r);)s.push(n[1]);r=s.join(" ")}else r=null;var i=e.textContent;t.insert(this,{params:r},i?[t.schema.text(i)]:[])}}),_model.BulletList.register("parseDOM","ul",{parse:"block"}),_model.OrderedList.register("parseDOM","ol",{parse:function(e,t){var r={order:e.getAttribute("start")||1};t.wrapIn(e,this,r)}}),_model.ListItem.register("parseDOM","li",{parse:"block"}),_model.HardBreak.register("parseDOM","br",{parse:function(e,t){t.insert(this)}}),_model.Image.register("parseDOM","img",{parse:function(e,t){t.insert(this,{src:e.getAttribute("src"),title:e.getAttribute("title")||null,alt:e.getAttribute("alt")||null})}}),_model.LinkMark.register("parseDOM","a",{parse:function(e,t){t.wrapMark(e,this.create({href:e.getAttribute("href"),title:e.getAttribute("title")}))},selector:"[href]"}),_model.EmMark.register("parseDOM","i",{parse:"mark"}),_model.EmMark.register("parseDOM","em",{parse:"mark"}),_model.EmMark.register("parseDOMStyle","font-style",{parse:function(e,t,r){"italic"==e?t.wrapMark(r,this):r()}}),_model.StrongMark.register("parseDOM","b",{parse:"mark"}),_model.StrongMark.register("parseDOM","strong",{parse:"mark"}),_model.StrongMark.register("parseDOMStyle","font-weight",{parse:function(e,t,r){"bold"==e||"bolder"==e||!/\D/.test(e)&&+e>=500?t.wrapMark(r,this):r()}}),_model.CodeMark.register("parseDOM","code",{parse:"mark"});
},{"../model":51,"../util/sortedinsert":72,"./register":38}],36:[function(require,module,exports){
"use strict";function fromText(e,r){for(var t=r.trim().split(/\n{2,}/),o=[],n=0;n<t.length;n++){for(var s=[],p=t[n].split("\n"),u=0;u<p.length;u++)u&&s.push(e.node("hard_break")),p[u]&&s.push(e.text(p[u]));o.push(e.node("paragraph",null,s))}return o.length||o.push(e.node("paragraph")),e.node("doc",null,o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromText=fromText;var _register=require("./register");(0,_register.defineSource)("text",fromText);
},{"./register":38}],37:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _register=require("./register");Object.defineProperty(exports,"serializeTo",{enumerable:!0,get:function(){return _register.serializeTo}}),Object.defineProperty(exports,"knownTarget",{enumerable:!0,get:function(){return _register.knownTarget}}),Object.defineProperty(exports,"defineTarget",{enumerable:!0,get:function(){return _register.defineTarget}}),Object.defineProperty(exports,"parseFrom",{enumerable:!0,get:function(){return _register.parseFrom}}),Object.defineProperty(exports,"knownSource",{enumerable:!0,get:function(){return _register.knownSource}}),Object.defineProperty(exports,"defineSource",{enumerable:!0,get:function(){return _register.defineSource}});var _from_dom=require("./from_dom");Object.defineProperty(exports,"fromDOM",{enumerable:!0,get:function(){return _from_dom.fromDOM}}),Object.defineProperty(exports,"fromHTML",{enumerable:!0,get:function(){return _from_dom.fromHTML}});var _to_dom=require("./to_dom");Object.defineProperty(exports,"toDOM",{enumerable:!0,get:function(){return _to_dom.toDOM}}),Object.defineProperty(exports,"toHTML",{enumerable:!0,get:function(){return _to_dom.toHTML}}),Object.defineProperty(exports,"nodeToDOM",{enumerable:!0,get:function(){return _to_dom.nodeToDOM}});var _from_text=require("./from_text");Object.defineProperty(exports,"fromText",{enumerable:!0,get:function(){return _from_text.fromText}});var _to_text=require("./to_text");Object.defineProperty(exports,"toText",{enumerable:!0,get:function(){return _to_text.toText}});
},{"./from_dom":35,"./from_text":36,"./register":38,"./to_dom":39,"./to_text":40}],38:[function(require,module,exports){
"use strict";function serializeTo(e,r,n){var o=serializers[r];if(!o)throw new _error.NamespaceError("Target format "+r+" not defined");return o(e,n)}function knownTarget(e){return!!serializers[e]}function defineTarget(e,r){serializers[e]=r}function parseFrom(e,r,n,o){var t=parsers[n];if(!t)throw new _error.NamespaceError("Source format "+n+" not defined");return t(e,r,o)}function knownSource(e){return!!parsers[e]}function defineSource(e,r){parsers[e]=r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.serializeTo=serializeTo,exports.knownTarget=knownTarget,exports.defineTarget=defineTarget,exports.parseFrom=parseFrom,exports.knownSource=knownSource,exports.defineSource=defineSource;var _error=require("../util/error"),serializers=Object.create(null);defineTarget("json",function(e){return e.toJSON()});var parsers=Object.create(null);defineSource("json",function(e,r){return e.nodeFromJSON(r)});
},{"../util/error":68}],39:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function toDOM(e,t){return new DOMSerializer(t).renderContent(e)}function nodeToDOM(e,t,r){var n=new DOMSerializer(t),o=n.renderNode(e,r);return e.isInline&&(o=n.wrapInlineFlat(o,e.marks),n.options.renderInlineFlat&&(o=t.renderInlineFlat(e,o,r)||o)),o}function toHTML(e,t){var r=new DOMSerializer(t),n=r.elt("div");return n.appendChild(r.renderContent(e)),n.innerHTML}function def(e,t){e.prototype.serializeDOM=t}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();exports.toDOM=toDOM,exports.nodeToDOM=nodeToDOM,exports.toHTML=toHTML;var _model=require("../model"),_register=require("./register"),DOMSerializer=function(){function e(t){_classCallCheck(this,e),this.options=t||{},this.doc=this.options.document||window.document}return _createClass(e,[{key:"elt",value:function(e,t){var r=this.doc.createElement(e);if(t)for(var n in t)"style"==n?r.style.cssText=t[n]:t[n]&&r.setAttribute(n,t[n]);for(var o=arguments.length,i=Array(o>2?o-2:0),l=2;l<o;l++)i[l-2]=arguments[l];for(var a=0;a<i.length;a++)r.appendChild("string"==typeof i[a]?this.doc.createTextNode(i[a]):i[a]);return r}},{key:"renderNode",value:function(e,t){var r=e.type.serializeDOM(e,this);return this.options.onRender&&(r=this.options.onRender(e,r,t)||r),r}},{key:"renderContent",value:function(e,t){return t||(t=this.doc.createDocumentFragment()),e.isTextblock?this.options.renderInlineFlat?this.renderInlineFlatInto(e,t):this.renderInlineInto(e,t):this.renderBlocksInto(e,t),t}},{key:"renderBlocksInto",value:function(e,t){for(var r,n=e.iter();r=n.next().value;)this.options.path&&this.options.path.push(n.offset-r.width),t.appendChild(this.renderNode(r,n.offset-r.width)),this.options.path&&this.options.path.pop()}},{key:"renderInlineInto",value:function(e,t){var r=this,n=t,o=[];e.forEach(function(e,t){for(var i=0;i<Math.min(o.length,e.marks.length)&&e.marks[i].eq(o[i]);++i);for(;i<o.length;)o.pop(),n=n.parentNode;for(;o.length<e.marks.length;){var l=e.marks[o.length];o.push(l),n=n.appendChild(r.renderMark(l))}n.appendChild(r.renderNode(e,t))})}},{key:"renderInlineFlatInto",value:function(e,t){var r=this;e.forEach(function(e,n){var o=r.renderNode(e,n);o=r.wrapInlineFlat(o,e.marks),o=r.options.renderInlineFlat(e,o,n)||o,t.appendChild(o)})}},{key:"renderMark",value:function(e){return e.type.serializeDOM(e,this)}},{key:"wrapInlineFlat",value:function(e,t){for(var r=t.length-1;r>=0;r--){var n=this.renderMark(t[r]);n.appendChild(e),e=n}return e}},{key:"renderAs",value:function(e,t,r){var n=this.renderContent(e,this.elt(t,r));return this.options.onContainer&&this.options.onContainer(n),n}}]),e}();(0,_register.defineTarget)("dom",toDOM),(0,_register.defineTarget)("html",toHTML),def(_model.BlockQuote,function(e,t){return t.renderAs(e,"blockquote")}),_model.BlockQuote.prototype.countCoordsAsChild=function(e,t,r,n){var o=r.firstChild.getBoundingClientRect();if(n.left<o.left-2)return _model.Pos.from(t)},def(_model.BulletList,function(e,t){return t.renderAs(e,"ul")}),def(_model.OrderedList,function(e,t){return t.renderAs(e,"ol",{start:"1"!=e.attrs.order&&e.attrs.order})}),_model.OrderedList.prototype.countCoordsAsChild=_model.BulletList.prototype.countCoordsAsChild=function(e,t,r,n){for(var o=0;o<r.childNodes.length;o++){var i=r.childNodes[o];if(i.hasAttribute("pm-offset")){var l=i.getBoundingClientRect();if(n.left>l.left-2)return null;if(l.top<=n.top&&l.bottom>=n.top)return new _model.Pos(t,o)}}},def(_model.ListItem,function(e,t){return t.renderAs(e,"li")}),def(_model.HorizontalRule,function(e,t){return t.elt("hr")}),def(_model.Paragraph,function(e,t){return t.renderAs(e,"p")}),def(_model.Heading,function(e,t){return t.renderAs(e,"h"+e.attrs.level)}),def(_model.CodeBlock,function(e,t){var r=t.renderAs(e,"code");return null!=e.attrs.params&&(r.className="fence "+e.attrs.params.replace(/(^|\s+)/g,"$&lang-")),t.elt("pre",null,r)}),def(_model.Text,function(e,t){return t.doc.createTextNode(e.text)}),def(_model.Image,function(e,t){return t.elt("img",{src:e.attrs.src,alt:e.attrs.alt,title:e.attrs.title})}),def(_model.HardBreak,function(e,t){return t.elt("br")}),def(_model.EmMark,function(e,t){return t.elt("em")}),def(_model.StrongMark,function(e,t){return t.elt("strong")}),def(_model.CodeMark,function(e,t){return t.elt("code")}),def(_model.LinkMark,function(e,t){return t.elt("a",{href:e.attrs.href,title:e.attrs.title})});
},{"../model":51,"./register":38}],40:[function(require,module,exports){
"use strict";function toText(e){return e.type.serializeText(e).trim()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.toText=toText;var _model=require("../model"),_register=require("./register");_model.Block.prototype.serializeText=function(e){var t="";return e.forEach(function(e){return t+=e.type.serializeText(e)}),t},_model.Textblock.prototype.serializeText=function(e){var t=_model.Block.prototype.serializeText(e);return t&&t+"\n\n"},_model.Inline.prototype.serializeText=function(){return""},_model.HardBreak.prototype.serializeText=function(){return"\n"},_model.Text.prototype.serializeText=function(e){return e.text},(0,_register.defineTarget)("text",toText);
},{"../model":51,"./register":38}],41:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function fromMarkdown(e,r,t){var n=configureMarkdown(e).parse(r,{}),o=new MarkdownParseState(e,n,t),a=void 0;o.parseTokens(n);do a=o.closeNode();while(o.stack.length);return a}function maybeMerge(e,r){if(e.isText&&r.isText&&_model.Mark.sameSet(e.marks,r.marks))return e.copy(e.text+r.text)}function tokenTypeInfo(e){return e.cached.markdownTokens||(e.cached.markdownTokens=summarizeTokens(e))}function registerTokens(e,r,t,n){if("block"==n.parse)e[r+"_open"]=function(e,r){var o="function"==typeof n.attrs?n.attrs.call(t,e,r):n.attrs;e.openNode(t,o)},e[r+"_close"]=function(e){return e.closeNode()};else if("mark"==n.parse)e[r+"_open"]=function(e,r){var o=n.attrs instanceof Function?n.attrs.call(t,e,r):n.attrs;e.openMark(t.create(o))},e[r+"_close"]=function(e){return e.closeMark(t)};else{if(!n.parse)throw new _error.AssertionError("Unrecognized markdown parsing spec: "+n);e[r]=n.parse.bind(t)}}function summarizeTokens(e){var r=Object.create(null);return r.text=function(e,r){return e.addText(r.content)},r.inline=function(e,r){return e.parseTokens(r.children)},r.softbreak=function(e){return e.addText("\n")},e.registry("parseMarkdown",function(e,t,n){registerTokens(r,e,n,t)}),r}function configFromSchema(e){var r=e.cached.markdownConfig;return r||!function(){var t=null,n=[];e.registry("configureMarkdown",function(e,r){if("init"==e){if(t)throw new _error.AssertionError("Two markdown parser initializers defined in schema");t=r}else{var o=(/_(\d+)$/.exec(e)||[0,50])[1];(0,_sortedinsert2.default)(n,{f:r,rank:o},function(e,r){return e.rank-r.rank})}}),r={init:t||function(){return(0,_markdownIt2.default)("commonmark",{html:!1})},modifiers:n.map(function(e){return e.f})}}(),r}function configureMarkdown(e){var r=configFromSchema(e),t=r.init();return r.modifiers.forEach(function(e){return t=e(t)}),t}function trimTrailingNewline(e){return"\n"==e.charAt(e.length-1)?e.slice(0,e.length-1):e}function parseCodeBlock(e,r){e.openNode(this),e.addText(trimTrailingNewline(r.content)),e.closeNode()}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}();exports.fromMarkdown=fromMarkdown;var _markdownIt=require("markdown-it"),_markdownIt2=_interopRequireDefault(_markdownIt),_model=require("../model"),_format=require("../format"),_error=require("../util/error"),_sortedinsert=require("../util/sortedinsert"),_sortedinsert2=_interopRequireDefault(_sortedinsert);(0,_format.defineSource)("markdown",fromMarkdown);var noMarks=[],MarkdownParseState=function(){function e(r,t,n){_classCallCheck(this,e),this.schema=r,this.stack=[{type:r.nodes.doc,content:[]}],this.tokens=t,this.marks=noMarks,this.tokenTypes=tokenTypeInfo(r),this.options=n}return _createClass(e,[{key:"top",value:function(){return this.stack[this.stack.length-1]}},{key:"push",value:function(e){this.stack.length&&this.top().content.push(e)}},{key:"addText",value:function(e){var r=this.top().content,t=r[r.length-1],n=this.schema.text(e,this.marks),o=void 0;t&&(o=maybeMerge(t,n))?r[r.length-1]=o:r.push(n)}},{key:"openMark",value:function(e){this.marks=e.addToSet(this.marks)}},{key:"closeMark",value:function(e){this.marks=e.removeFromSet(this.marks)}},{key:"parseTokens",value:function(e){for(var r=0;r<e.length;r++){var t=e[r],n=this.tokenTypes[t.type];if(!n)throw new Error("Token type `"+t.type+"` not supported by Markdown parser");n(this,t)}}},{key:"addNode",value:function(e,r,t){var n=e.createAutoFill(r,t,this.marks);return this.push(n),n}},{key:"openNode",value:function(e,r){this.stack.push({type:e,attrs:r,content:[]})}},{key:"closeNode",value:function(){this.marks.length&&(this.marks=noMarks);var e=this.stack.pop();return this.addNode(e.type,e.attrs,e.content)}},{key:"getAttr",value:function(e,r){if(e.attrs)for(var t=0;t<e.attrs.length;t++)if(e.attrs[t][0]==r)return e.attrs[t][1]}}]),e}();_model.BlockQuote.register("parseMarkdown","blockquote",{parse:"block"}),_model.Paragraph.register("parseMarkdown","paragraph",{parse:"block"}),_model.ListItem.register("parseMarkdown","list_item",{parse:"block"}),_model.BulletList.register("parseMarkdown","bullet_list",{parse:"block"}),_model.OrderedList.register("parseMarkdown","ordered_list",{parse:"block",attrs:function(e,r){return{order:Number(e.getAttr(r,"order")||1)}}}),_model.Heading.register("parseMarkdown","heading",{parse:"block",attrs:function(e,r){return{level:Math.min(this.maxLevel,+r.tag.slice(1))}}}),_model.CodeBlock.register("parseMarkdown","code_block",{parse:parseCodeBlock}),_model.CodeBlock.register("parseMarkdown","fence",{parse:parseCodeBlock}),_model.HorizontalRule.register("parseMarkdown","hr",{parse:function(e,r){e.addNode(this,{markup:r.markup})}}),_model.Image.register("parseMarkdown","image",{parse:function(e,r){e.addNode(this,{src:e.getAttr(r,"src"),title:e.getAttr(r,"title")||null,alt:r.children[0]&&r.children[0].content||null})}}),_model.HardBreak.register("parseMarkdown","hardbreak",{parse:function(e){e.addNode(this)}}),_model.EmMark.register("parseMarkdown","em",{parse:"mark"}),_model.StrongMark.register("parseMarkdown","strong",{parse:"mark"}),_model.LinkMark.register("parseMarkdown","link",{parse:"mark",attrs:function(e,r){return{href:e.getAttr(r,"href"),title:e.getAttr(r,"title")||null}}}),_model.CodeMark.register("parseMarkdown","code_inline",{parse:function(e,r){e.openMark(this.create()),e.addText(r.content),e.closeMark(this)}});
},{"../format":37,"../model":51,"../util/error":68,"../util/sortedinsert":72,"markdown-it":74}],42:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _from_markdown=require("./from_markdown");Object.defineProperty(exports,"fromMarkdown",{enumerable:!0,get:function(){return _from_markdown.fromMarkdown}});var _to_markdown=require("./to_markdown");Object.defineProperty(exports,"toMarkdown",{enumerable:!0,get:function(){return _to_markdown.toMarkdown}});
},{"./from_markdown":41,"./to_markdown":43}],43:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function toMarkdown(e,t){var n=new MarkdownSerializer(t);return n.renderContent(e),n.out}function def(e,t){e.prototype.serializeMarkdown=t}function defMark(e,t,n){e.prototype.openMarkdown=t,e.prototype.closeMarkdown=n}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();exports.toMarkdown=toMarkdown;var _model=require("../model"),_format=require("../format");(0,_format.defineTarget)("markdown",toMarkdown);var MarkdownSerializer=function(){function e(t){_classCallCheck(this,e),this.delim=this.out="",this.closed=!1,this.inTightList=!1,this.options=t}return _createClass(e,[{key:"flushClose",value:function(e){if(this.closed){if(this.atBlank()||(this.out+="\n"),null==e&&(e=2),e>1){var t=this.delim,n=/\s+$/.exec(t);n&&(t=t.slice(0,t.length-n[0].length));for(var r=1;r<e;r++)this.out+=t+"\n"}this.closed=!1}}},{key:"wrapBlock",value:function(e,t,n,r){var i=this.delim;this.write(t||e),this.delim+=e,r(),this.delim=i,this.closeBlock(n)}},{key:"atBlank",value:function(){return/(^|\n)$/.test(this.out)}},{key:"ensureNewLine",value:function(){this.atBlank()||(this.out+="\n")}},{key:"write",value:function(e){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),e&&(this.out+=e)}},{key:"closeBlock",value:function(e){this.closed=e}},{key:"text",value:function(e,t){for(var n=e.split("\n"),r=0;r<n.length;r++){var i=this.atBlank()||this.closed;this.write(),this.out+=t!==!1?this.esc(n[r],i):n[r],r!=n.length-1&&(this.out+="\n")}}},{key:"render",value:function(e){e.type.serializeMarkdown(this,e)}},{key:"renderContent",value:function(e){var t=this;e.forEach(function(e){return t.render(e)})}},{key:"renderInline",value:function(e){var t=this,n=[],r=function(e){var r=e?e.marks.slice():[];!n.length||"code"!=n[n.length-1].type||r.length&&"code"==r[r.length-1].type||(t.text("`",!1),n.pop());for(var i=0;i<n.length;i++){for(var o=n[i],l=!1,a=0;a<r.length;a++)if(r[a].eq(n[i])){r.splice(a,1),l=!0;break}l||(t.text(t.markString(o,!1),!1),n.splice(i--,1))}for(var i=0;i<r.length;i++){var o=r[i];n.push(o),t.text(t.markString(o,!0),!1)}e&&t.render(e)};e.forEach(r),r(null)}},{key:"renderList",value:function(e,t,n){var r=this;this.closed&&this.closed.type==e.type?this.flushClose(3):this.inTightList&&this.flushClose(1);var i=this.inTightList;this.inTightList=e.attrs.tight;for(var o,l=function(i,o,l){o&&e.attrs.tight&&r.flushClose(1),r.wrapBlock(t,n(o),e,function(){return r.render(l)})},a=e.iter(),s=0;o=a.next().value;s++)l(a,s,o);this.inTightList=i}},{key:"esc",value:function(e,t){return e=e.replace(/[`*\\~+\[\]]/g,"\\$&"),t&&(e=e.replace(/^[:#-]/,"\\$&")),e}},{key:"quote",value:function(e){var t=e.indexOf('"')==-1?'""':e.indexOf("'")==-1?"''":"()";return t[0]+e+t[1]}},{key:"repeat",value:function(e,t){for(var n="",r=0;r<t;r++)n+=e;return n}},{key:"markString",value:function(e,t){var n=t?e.type.openMarkdown:e.type.closeMarkdown;return"string"==typeof n?n:n(this,e)}}]),e}();def(_model.BlockQuote,function(e,t){e.wrapBlock("> ",null,t,function(){return e.renderContent(t)})}),def(_model.CodeBlock,function(e,t){null==t.attrs.params?e.wrapBlock("    ",null,t,function(){return e.text(t.textContent,!1)}):(e.write("```"+t.attrs.params+"\n"),e.text(t.textContent,!1),e.ensureNewLine(),e.write("```"),e.closeBlock(t))}),def(_model.Heading,function(e,t){e.write(e.repeat("#",t.attrs.level)+" "),e.renderInline(t),e.closeBlock(t)}),def(_model.HorizontalRule,function(e,t){e.write(t.attrs.markup||"---"),e.closeBlock(t)}),def(_model.BulletList,function(e,t){e.renderList(t,"  ",function(){return(t.attrs.bullet||"*")+" "})}),def(_model.OrderedList,function(e,t){var n=Number(t.attrs.order||1),r=String(n+t.size-1).length,i=e.repeat(" ",r+2);e.renderList(t,i,function(t){var i=String(n+t);return e.repeat(" ",r-i.length)+i+". "})}),def(_model.ListItem,function(e,t){return e.renderContent(t)}),def(_model.Paragraph,function(e,t){e.renderInline(t),e.closeBlock(t)}),def(_model.Image,function(e,t){e.write("!["+e.esc(t.attrs.alt||"")+"]("+e.esc(t.attrs.src)+(t.attrs.title?" "+e.quote(t.attrs.title):"")+")")}),def(_model.HardBreak,function(e){return e.write("\\\n")}),def(_model.Text,function(e,t){return e.text(t.text)}),defMark(_model.EmMark,"*","*"),defMark(_model.StrongMark,"**","**"),defMark(_model.LinkMark,"[",function(e,t){return"]("+e.esc(t.attrs.href)+(t.attrs.title?" "+e.quote(t.attrs.title):"")+")"}),defMark(_model.CodeMark,"`","`");
},{"../format":37,"../model":51}],44:[function(require,module,exports){
"use strict";function getIcon(e,t){var n=document.createElement("div");if(n.className=prefix,t.path){svgBuilt[e]||buildSVG(e,t);var i=n.appendChild(document.createElementNS(SVG,"svg"));i.style.width=t.width/t.height+"em";var l=i.appendChild(document.createElementNS(SVG,"use"));l.setAttributeNS(XLINK,"href","#pm-icon-"+e)}else t.dom?n.appendChild(t.dom.cloneNode(!0)):(n.appendChild(document.createElement("span")).textContent=t.text||"",t.style&&(n.firstChild.style.cssText=t.style));return n}function buildSVG(e,t){svgCollection||(svgCollection=document.createElementNS(SVG,"svg"),svgCollection.style.display="none",document.body.insertBefore(svgCollection,document.body.firstChild));var n=document.createElementNS(SVG,"symbol");n.id="pm-icon-"+e,n.setAttribute("viewBox","0 0 "+t.width+" "+t.height);var i=n.appendChild(document.createElementNS(SVG,"path"));i.setAttribute("d",t.path),svgCollection.appendChild(n),svgBuilt[e]=!0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getIcon=getIcon;var _dom=require("../dom"),svgCollection=null,svgBuilt=Object.create(null),SVG="http://www.w3.org/2000/svg",XLINK="http://www.w3.org/1999/xlink",prefix="ProseMirror-icon";(0,_dom.insertCSS)("\n."+prefix+" {\n  display: inline-block;\n  line-height: .8;\n  vertical-align: -2px; /* Compensate for padding */\n  padding: 2px 8px;\n  cursor: pointer;\n}\n\n."+prefix+" svg {\n  fill: currentColor;\n  height: 1em;\n}\n\n."+prefix+" span {\n  vertical-align: text-top;\n}");
},{"../dom":18}],45:[function(require,module,exports){
"use strict";function _interopRequireDefault(n){return n&&n.__esModule?n:{default:n}}function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function title(n,e){if(!e.label)return null;var r=e.name&&n.keyForCommand(e.name);return r?e.label+" ("+r+")":e.label}function renderDropdownItems(n,e){for(var r=[],o=0;o<n.length;o++){var t=n[o].render(e);t&&r.push((0,_dom.elt)("div",{class:prefix+"-dropdown-item"},t))}return r}function resolveGroup(n,e){for(var r=void 0,o=Array.isArray(e),t=0;t<(o?e.length:1);t++){var i=o?e[t]:e;if(i instanceof MenuCommandGroup){var s=i.get(n);if(!o||1==e.length)return s;r=(r||e.slice(0,t)).concat(s)}else r&&r.push(i)}return r||(o?e:[e])}function renderGrouped(n,e){for(var r=document.createDocumentFragment(),o=!1,t=0;t<e.length;t++){for(var i=resolveGroup(n,e[t]),s=!1,a=0;a<i.length;a++){var p=i[a].render(n);p&&(!s&&o&&r.appendChild(separator()),r.appendChild((0,_dom.elt)("span",{class:prefix+"item"},p)),s=!0)}s&&(o=!0)}return r}function separator(){return(0,_dom.elt)("span",{class:prefix+"separator"})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.historyGroup=exports.blockGroup=exports.textblockMenu=exports.insertMenu=exports.inlineGroup=exports.DropdownSubmenu=exports.Dropdown=exports.MenuCommandGroup=exports.MenuCommand=void 0;var _createClass=function(){function n(n,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}return function(e,r,o){return r&&n(e.prototype,r),o&&n(e,o),e}}();exports.resolveGroup=resolveGroup,exports.renderGrouped=renderGrouped;var _dom=require("../dom"),_sortedinsert=require("../util/sortedinsert"),_sortedinsert2=_interopRequireDefault(_sortedinsert),_obj=require("../util/obj"),_error=require("../util/error"),_icons=require("./icons"),prefix="ProseMirror-menu",MenuCommand=exports.MenuCommand=function(){function n(e,r){_classCallCheck(this,n),this.command_=e,this.options=r}return _createClass(n,[{key:"command",value:function(n){return"string"==typeof this.command_?n.commands[this.command_]:this.command_}},{key:"render",value:function(n){var e=this.command(n),r=!1;if(e){if("ignore"!=this.options.select&&!e.select(n)){if(null==this.options.select||"hide"==this.options.select)return null;"disable"==this.options.select&&(r=!0)}var o=this.options.display;if(!o)throw new _error.AssertionError("No display style defined for menu command "+e.name);var t=void 0;if(o.render)t=o.render(e,n);else if("icon"==o.type)t=(0,_icons.getIcon)(e.name,o),!r&&e.active(n)&&t.classList.add(prefix+"-active");else{if("label"!=o.type)throw new _error.AssertionError("Unsupported command display style: "+o.type);t=(0,_dom.elt)("div",null,o.label||e.spec.label)}return t.setAttribute("title",title(n,e)),this.options.class&&t.classList.add(this.options.class),r&&t.classList.add(prefix+"-disabled"),this.options.css&&(t.style.cssText+=this.options.css),t.addEventListener("mousedown",function(r){r.preventDefault(),r.stopPropagation(),n.signal("interaction"),e.exec(n,null,t)}),t}}}]),n}(),MenuCommandGroup=exports.MenuCommandGroup=function(){function n(e,r){_classCallCheck(this,n),this.name=e,this.options=r}return _createClass(n,[{key:"collect",value:function(n){var e=this,r=[];for(var o in n.commands){var t=n.commands[o],i=t.spec.menu;i&&i.group==this.name&&(0,_sortedinsert2.default)(r,{cmd:t,rank:null==i.rank?50:i.rank},function(n,e){return n.rank-e.rank})}return r.map(function(n){var r=n.cmd.spec.menu;return e.options&&(r=(0,_obj.copyObj)(e.options,(0,_obj.copyObj)(r))),new MenuCommand(n.cmd,r)})}},{key:"get",value:function(n){var e=n.mod.menuGroups||this.startGroups(n);return e[this.name]||(e[this.name]=this.collect(n))}},{key:"startGroups",value:function(n){var e=function e(){n.mod.menuGroups=null,n.off("commandsChanging",e)};return n.on("commandsChanging",e),n.mod.menuGroups=Object.create(null)}}]),n}(),Dropdown=exports.Dropdown=function(){function n(e,r){_classCallCheck(this,n),this.options=e||{},this.content=r}return _createClass(n,[{key:"render",value:function(n){var e=this,r=renderDropdownItems(resolveGroup(n,this.content),n);if(r.length){var o=this.options.activeLabel&&this.findActiveIn(this,n)||this.options.label,t=(0,_dom.elt)("div",{class:prefix+"-dropdown "+(this.options.class||""),style:this.options.css,title:this.options.title},o),i=null;return t.addEventListener("mousedown",function(o){o.preventDefault(),o.stopPropagation(),i=i&&i()?null:e.expand(n,t,r)}),t}}},{key:"select",value:function(n){return resolveGroup(n,this.content).some(function(e){return e.select(n)})}},{key:"expand",value:function(n,e,r){function o(){if(!a)return a=!0,n.off("interaction",o),n.wrapper.removeChild(s),!0}var t=e.getBoundingClientRect(),i=n.wrapper.getBoundingClientRect(),s=(0,_dom.elt)("div",{class:prefix+"-dropdown-menu "+(this.options.class||""),style:"left: "+(t.left-i.left)+"px; top: "+(t.bottom-i.top)+"px"},r),a=!1;return n.signal("interaction"),n.wrapper.appendChild(s),n.on("interaction",o),o}},{key:"findActiveIn",value:function(n,e){for(var r=resolveGroup(e,n.content),o=0;o<r.length;o++){var t=r[o];if(t instanceof MenuCommand){var i=t.command(e).active(e);if(i)return t.options.activeLabel}else if(t instanceof DropdownSubmenu){var s=this.findActiveIn(t,e);if(s)return s}}}}]),n}(),DropdownSubmenu=exports.DropdownSubmenu=function(){function n(e,r){_classCallCheck(this,n),this.options=e||{},this.content=r}return _createClass(n,[{key:"render",value:function(n){var e=renderDropdownItems(resolveGroup(n,this.content),n);if(e.length){var r=(0,_dom.elt)("div",{class:prefix+"-submenu-label"},this.options.label),o=(0,_dom.elt)("div",{class:prefix+"-submenu-wrap"},r,(0,_dom.elt)("div",{class:prefix+"-submenu"},e));return r.addEventListener("mousedown",function(n){n.preventDefault(),n.stopPropagation(),o.classList.toggle(prefix+"-submenu-wrap-active")}),o}}}]),n}(),inlineGroup=exports.inlineGroup=new MenuCommandGroup("inline"),insertMenu=exports.insertMenu=new Dropdown({label:"Insert"},new MenuCommandGroup("insert")),textblockMenu=exports.textblockMenu=new Dropdown({label:"Type..",displayActive:!0,class:"ProseMirror-textblock-dropdown"},[new MenuCommandGroup("textblock"),new DropdownSubmenu({label:"Heading"},new MenuCommandGroup("textblockHeading"))]),blockGroup=exports.blockGroup=new MenuCommandGroup("block"),historyGroup=exports.historyGroup=new MenuCommandGroup("history");(0,_dom.insertCSS)("\n\n.ProseMirror-textblock-dropdown {\n  min-width: 3em;\n}\n\n."+prefix+" {\n  margin: 0 -4px;\n  line-height: 1;\n}\n\n.ProseMirror-tooltip ."+prefix+" {\n  width: -webkit-fit-content;\n  width: fit-content;\n  white-space: pre;\n}\n\n."+prefix+"item {\n  margin-right: 3px;\n  display: inline-block;\n}\n\n."+prefix+"separator {\n  border-right: 1px solid #ddd;\n  margin-right: 3px;\n}\n\n."+prefix+"-dropdown, ."+prefix+"-dropdown-menu {\n  font-size: 90%;\n  white-space: nowrap;\n}\n\n."+prefix+"-dropdown {\n  padding: 1px 14px 1px 4px;\n  display: inline-block;\n  vertical-align: 1px;\n  position: relative;\n  cursor: pointer;\n}\n\n."+prefix+'-dropdown:after {\n  content: "";\n  border-left: 4px solid transparent;\n  border-right: 4px solid transparent;\n  border-top: 4px solid currentColor;\n  opacity: .6;\n  position: absolute;\n  right: 2px;\n  top: calc(50% - 2px);\n}\n\n.'+prefix+"-dropdown-menu, ."+prefix+"-submenu {\n  position: absolute;\n  background: white;\n  color: #666;\n  border: 1px solid #aaa;\n  padding: 2px;\n}\n\n."+prefix+"-dropdown-menu {\n  z-index: 15;\n  min-width: 6em;\n}\n\n."+prefix+"-dropdown-item {\n  cursor: pointer;\n  padding: 2px 8px 2px 4px;\n}\n\n."+prefix+"-dropdown-item:hover {\n  background: #f2f2f2;\n}\n\n."+prefix+"-submenu-wrap {\n  position: relative;\n  margin-right: -4px;\n}\n\n."+prefix+'-submenu-label:after {\n  content: "";\n  border-top: 4px solid transparent;\n  border-bottom: 4px solid transparent;\n  border-left: 4px solid currentColor;\n  opacity: .6;\n  position: absolute;\n  right: 4px;\n  top: calc(50% - 4px);\n}\n\n.'+prefix+"-submenu {\n  display: none;\n  min-width: 4em;\n  left: 100%;\n  top: -3px;\n}\n\n."+prefix+"-active {\n  background: #eee;\n  border-radius: 4px;\n}\n\n."+prefix+"-active {\n  background: #eee;\n  border-radius: 4px;\n}\n\n."+prefix+"-disabled {\n  opacity: .3;\n}\n\n."+prefix+"-submenu-wrap:hover ."+prefix+"-submenu, ."+prefix+"-submenu-wrap-active ."+prefix+"-submenu {\n  display: block;\n}\n");
},{"../dom":18,"../util/error":68,"../util/obj":71,"../util/sortedinsert":72,"./icons":44}],46:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function findWrappingScrollable(e){for(var t=e.parentNode;t;t=t.parentNode)if(t.scrollHeight>t.clientHeight)return t}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),_edit=require("../edit"),_dom=require("../dom"),_update=require("../ui/update"),_menu=require("./menu"),prefix="ProseMirror-menubar";(0,_edit.defineOption)("menuBar",!1,function(e,t){e.mod.menuBar&&e.mod.menuBar.detach(),e.mod.menuBar=t?new MenuBar(e,t):null});var defaultMenu=[_menu.inlineGroup,_menu.insertMenu,[_menu.textblockMenu,_menu.blockGroup],_menu.historyGroup],MenuBar=function(){function e(t,r){var i=this;_classCallCheck(this,e),this.pm=t,this.config=r||{},this.wrapper=t.wrapper.insertBefore((0,_dom.elt)("div",{class:prefix}),t.wrapper.firstChild),this.spacer=null,this.maxHeight=0,this.widthForMaxHeight=0,this.updater=new _update.UpdateScheduler(t,"selectionChange change activeMarkChange commandsChanged",function(){return i.update()}),this.content=r.content||defaultMenu,this.updater.force(),this.floating=!1,this.config.float&&(this.updateFloat(),this.scrollFunc=function(){document.body.contains(i.pm.wrapper)?i.updateFloat():window.removeEventListener("scroll",i.scrollFunc)},window.addEventListener("scroll",this.scrollFunc))}return _createClass(e,[{key:"detach",value:function(){this.updater.detach(),this.wrapper.parentNode.removeChild(this.wrapper),this.scrollFunc&&window.removeEventListener("scroll",this.scrollFunc)}},{key:"update",value:function(){var e=this;return this.wrapper.textContent="",this.wrapper.appendChild((0,_menu.renderGrouped)(this.pm,this.content)),this.float?this.updateScrollCursor():function(){if(e.wrapper.offsetWidth!=e.widthForMaxHeight&&(e.widthForMaxHeight=e.wrapper.offsetWidth,e.maxHeight=0),e.wrapper.offsetHeight>e.maxHeight)return e.maxHeight=e.wrapper.offsetHeight,function(){e.wrapper.style.minHeight=e.maxHeight+"px"}}}},{key:"updateFloat",value:function(){var e=this.pm.wrapper.getBoundingClientRect();if(this.floating)if(e.top>=0||e.bottom<this.wrapper.offsetHeight+10)this.floating=!1,this.wrapper.style.position=this.wrapper.style.left=this.wrapper.style.width="",this.wrapper.style.display="",this.spacer.parentNode.removeChild(this.spacer),this.spacer=null;else{var t=(this.pm.wrapper.offsetWidth-this.pm.wrapper.clientWidth)/2;this.wrapper.style.left=e.left+t+"px",this.wrapper.style.display=e.top>window.innerHeight?"none":""}else if(e.top<0&&e.bottom>=this.wrapper.offsetHeight+10){this.floating=!0;var r=this.wrapper.getBoundingClientRect();this.wrapper.style.left=r.left+"px",this.wrapper.style.width=r.width+"px",this.wrapper.style.position="fixed",this.spacer=(0,_dom.elt)("div",{class:prefix+"-spacer",style:"height: "+r.height+"px"}),this.pm.wrapper.insertBefore(this.spacer,this.wrapper)}}},{key:"updateScrollCursor",value:function(){var e=this;if(!this.floating)return null;var t=this.pm.selection.head;return t?function(){var r=e.pm.coordsAtPos(t),i=e.wrapper.getBoundingClientRect();if(r.top<i.bottom&&r.bottom>i.top){var n=function(){var t=findWrappingScrollable(e.pm.wrapper);if(t)return{v:function(){t.scrollTop-=i.bottom-r.top}}}();if("object"===("undefined"==typeof n?"undefined":_typeof(n)))return n.v}}:null}}]),e}();(0,_dom.insertCSS)("\n."+prefix+" {\n  border-top-left-radius: inherit;\n  border-top-right-radius: inherit;\n  position: relative;\n  min-height: 1em;\n  color: #666;\n  padding: 1px 6px;\n  top: 0; left: 0; right: 0;\n  border-bottom: 1px solid silver;\n  background: white;\n  z-index: 10;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: visible;\n}\n");
},{"../dom":18,"../edit":28,"../ui/update":67,"./menu":45}],47:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultSchema=exports.CodeMark=exports.LinkMark=exports.StrongMark=exports.EmMark=exports.HardBreak=exports.Image=exports.Paragraph=exports.CodeBlock=exports.Heading=exports.HorizontalRule=exports.ListItem=exports.BulletList=exports.OrderedList=exports.BlockQuote=exports.Doc=void 0;var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),_schema=require("./schema"),Doc=exports.Doc=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"kind",get:function(){return null}}]),e}(_schema.Block),BlockQuote=exports.BlockQuote=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(_schema.Block);_schema.NodeKind.list_item=new _schema.NodeKind("list_item");var OrderedList=exports.OrderedList=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"contains",get:function(){return _schema.NodeKind.list_item}},{key:"attrs",get:function(){return{order:new _schema.Attribute({default:"1"})}}}]),e}(_schema.Block),BulletList=exports.BulletList=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"contains",get:function(){return _schema.NodeKind.list_item}}]),e}(_schema.Block),ListItem=exports.ListItem=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"kind",get:function(){return _schema.NodeKind.list_item}}]),e}(_schema.Block),HorizontalRule=exports.HorizontalRule=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"contains",get:function(){return null}}]),e}(_schema.Block),Heading=exports.Heading=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"attrs",get:function(){return{level:new _schema.Attribute({default:"1"})}}},{key:"maxLevel",get:function(){return 6}}]),e}(_schema.Textblock),CodeBlock=exports.CodeBlock=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"contains",get:function(){return _schema.NodeKind.text}},{key:"containsMarks",get:function(){return!1}},{key:"isCode",get:function(){return!0}}]),e}(_schema.Textblock),Paragraph=exports.Paragraph=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"defaultTextblock",get:function(){return!0}}]),e}(_schema.Textblock),Image=exports.Image=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"attrs",get:function(){return{src:new _schema.Attribute,alt:new _schema.Attribute({default:""}),title:new _schema.Attribute({default:""})}}},{key:"draggable",get:function(){return!0}}]),e}(_schema.Inline),HardBreak=exports.HardBreak=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"selectable",get:function(){return!1}},{key:"isBR",get:function(){return!0}}]),e}(_schema.Inline),EmMark=exports.EmMark=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,null,[{key:"rank",get:function(){return 51}}]),e}(_schema.MarkType),StrongMark=exports.StrongMark=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,null,[{key:"rank",get:function(){return 52}}]),e}(_schema.MarkType),LinkMark=exports.LinkMark=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"attrs",get:function(){return{href:new _schema.Attribute,title:new _schema.Attribute({default:""})}}}],[{key:"rank",get:function(){return 25}}]),e}(_schema.MarkType),CodeMark=exports.CodeMark=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"isCode",get:function(){return!0}}],[{key:"rank",get:function(){return 101}}]),e}(_schema.MarkType),defaultSpec=new _schema.SchemaSpec({doc:Doc,blockquote:BlockQuote,ordered_list:OrderedList,bullet_list:BulletList,list_item:ListItem,horizontal_rule:HorizontalRule,paragraph:Paragraph,heading:Heading,code_block:CodeBlock,text:_schema.Text,image:Image,hard_break:HardBreak},{em:EmMark,strong:StrongMark,link:LinkMark,code:CodeMark}),defaultSchema=exports.defaultSchema=new _schema.Schema(defaultSpec);
},{"./schema":55}],48:[function(require,module,exports){
"use strict";function findDiffStart(e,t){for(var i=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],r=e.iter(),n=t.iter(),f=0;;){if(r.atEnd()||n.atEnd()){if(e.size==t.size)return null;break}var s=r.next(),a=n.next();if(s!=a){if(!s.sameMarkup(a))break;if(s.isText&&s.text!=a.text){for(var o=0;s.text[o]==a.text[o];o++)f++;break}if(s.size||a.size){i.push(f);var d=findDiffStart(s.content,a.content,i);if(d)return d;i.pop()}f+=s.width}else f+=s.width}return new _pos.Pos(i,f)}function findDiffEnd(e,t){for(var i=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],r=arguments.length<=3||void 0===arguments[3]?[]:arguments[3],n=e.reverseIter(),f=t.reverseIter(),s=e.size,a=t.size;;){if(n.atEnd()||f.atEnd()){if(e.size==t.size)return null;break}var o=n.next(),d=f.next();if(o!=d){if(!o.sameMarkup(d))break;if(o.isText&&o.text!=d.text){for(var x=0,p=Math.min(o.text.length,d.text.length);x<p&&o.text[o.text.length-x-1]==d.text[d.text.length-x-1];)x++,s--,a--;break}if(s-=o.width,a-=d.width,o.size||d.size){i.push(s),r.push(a);var u=findDiffEnd(o.content,d.content,i,r);if(u)return u;i.pop(),r.pop()}}else s-=o.width,a-=d.width}return{a:new _pos.Pos(i,s),b:new _pos.Pos(r,a)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.findDiffStart=findDiffStart,exports.findDiffEnd=findDiffEnd;var _pos=require("./pos");
},{"./pos":54}],49:[function(require,module,exports){
"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function _inherits(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ModelError=void 0;var _error=require("../util/error"),ModelError=exports.ModelError=function(e){function r(){return _classCallCheck(this,r),_possibleConstructorReturn(this,Object.getPrototypeOf(r).apply(this,arguments))}return _inherits(r,e),r}(_error.ProseMirrorError);
},{"../util/error":68}],50:[function(require,module,exports){
"use strict";function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.emptyFragment=exports.Fragment=void 0;var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),_error=require("./error"),Fragment=exports.Fragment=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"append",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return this.size?t.size?this.appendInner(t,e,n):e?this.replace(this.size-1,this.lastChild.close(e-1,"end")):this:n?t.replace(0,t.firstChild.close(n-1,"start")):t}},{key:"toString",value:function(){var t="";return this.forEach(function(e){return t+=(t?", ":"")+e.toString()}),t}},{key:"toArray",value:function(){for(var t,e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],n=arguments.length<=1||void 0===arguments[1]?this.size:arguments[1],r=arguments[2],i=[],o=this.iter(e,n);t=o.next().value;)i.push(r?r(t):t);return i}},{key:"map",value:function(e){return t.fromArray(this.toArray(void 0,void 0,e))}},{key:"some",value:function(t){for(var e,n=this.iter();e=n.next().value;)if(t(e))return e}},{key:"close",value:function(t,e){var n="start"==e?this.firstChild:this.lastChild,r=n.close(t-1,e);return r==n?this:this.replace("start"==e?0:this.size-1,r)}},{key:"nodesBetween",value:function(t,e,n,r,i){for(var o,s=t&&t.depth>r.length,h=e&&e.depth>r.length,a=s?t.path[r.length]:t?t.offset:0,f=h?e.path[r.length]+1:e?e.offset:this.size,u=this.iter(a,f);o=u.next().value;){var c=u.offset-o.width;r.push(c),o.nodesBetween(s&&c==a?t:null,h&&u.offset==f?e:null,n,r,i),r.pop()}}},{key:"sliceBetween",value:function(t,e){for(var n,r=arguments.length<=2||void 0===arguments[2]?0:arguments[2],i=t&&t.depth>r,o=e&&e.depth>r,s=i?t.path[r]:t?t.offset:0,h=o?e.path[r]+1:e?e.offset:this.size,a=[],f=this.iter(s,h);n=f.next().value;){var u=i&&f.offset-n.width==s?t:null,c=o&&f.offset==h?e:null;(u||c)&&(n=n.sliceBetween(u,c,r+1)),a.push(n)}return new this.constructor(a)}},{key:"textContent",get:function(){var t="";return this.forEach(function(e){return t+=e.textContent}),t}}],[{key:"fromJSON",value:function(t,e){return e?this.fromArray(e.map(t.nodeFromJSON)):emptyFragment}},{key:"fromArray",value:function(t){if(!t.length)return emptyFragment;for(var e=!1,n=void 0,r=0,i=0;i<t.length;i++){var o=t[i];r+=o.width,o.isText&&(e=!0,i&&t[i-1].sameMarkup(o))?(n||(n=t.slice(0,i)),n[n.length-1]=o.copy(n[n.length-1].text+o.text)):n&&n.push(o)}return e?new TextFragment(n||t,r):new FlatFragment(t)}},{key:"from",value:function(e){return e?e instanceof t?e:this.fromArray(Array.isArray(e)?e:[e]):emptyFragment}}]),t}(),iterEnd={done:!0},FlatIterator=function(){function t(e,n,r){_classCallCheck(this,t),this.array=e,this.pos=n,this.end=r}return _createClass(t,[{key:"copy",value:function(){return new this.constructor(this.array,this.pos,this.end)}},{key:"atEnd",value:function(){return this.pos==this.end}},{key:"next",value:function(){return this.pos==this.end?iterEnd:this.array[this.pos++]}},{key:"offset",get:function(){return this.pos}}]),t}(),ReverseFlatIterator=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"next",value:function(){return this.pos==this.end?iterEnd:this.array[--this.pos]}}]),e}(FlatIterator),FlatFragment=function(t){function e(t){_classCallCheck(this,e);var n=_possibleConstructorReturn(this,Object.getPrototypeOf(e).call(this));return n.content=t,n}return _inherits(e,t),_createClass(e,[{key:"iter",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?this.size:arguments[1];return new FlatIterator(this.content,t,e)}},{key:"reverseIter",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.size:arguments[0],e=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return new ReverseFlatIterator(this.content,t,e)}},{key:"child",value:function(t){if(t<0||t>=this.content.length)throw new _error.ModelError("Offset "+t+" out of range");return this.content[t]}},{key:"forEach",value:function(t){for(var e=0;e<this.content.length;e++)t(this.content[e],e,e+1)}},{key:"chunkBefore",value:function(t){return{node:this.child(t-1),start:t-1}}},{key:"chunkAfter",value:function(t){return{node:this.child(t),start:t}}},{key:"slice",value:function(t){var n=arguments.length<=1||void 0===arguments[1]?this.size:arguments[1];return t==n?emptyFragment:new e(this.content.slice(t,n))}},{key:"replace",value:function(t,n){if(n.isText)throw new _error.ModelError("Argument to replace should be a non-text node");var r=this.content.slice();return r[t]=n,new e(r)}},{key:"appendInner",value:function(t,e,n){var r=this.content.length-1,i=this.content.slice(0,r),o=this.content[r],s=t.firstChild;return e>0&&n>0&&o.sameMarkup(s)?i.push(o.append(s.content,e-1,n-1)):i.push(o.close(e-1,"end"),s.close(n-1,"start")),Fragment.fromArray(i.concat(t.toArray(s.width)))}},{key:"toJSON",value:function(){return this.content.map(function(t){return t.toJSON()})}},{key:"size",get:function(){return this.content.length}},{key:"firstChild",get:function(){return this.content.length?this.content[0]:null}},{key:"lastChild",get:function(){return this.content.length?this.content[this.content.length-1]:null}}]),e}(Fragment),emptyFragment=exports.emptyFragment=new FlatFragment([]),TextIterator=function(){function t(e,n,r){var i=arguments.length<=3||void 0===arguments[3]?-1:arguments[3];_classCallCheck(this,t),this.frag=e,this.offset=n,this.pos=i,this.endOffset=r}return _createClass(t,[{key:"copy",value:function(){return new this.constructor(this.frag,this.offset,this.endOffset,this.pos)}},{key:"atEnd",value:function(){return this.offset==this.endOffset}},{key:"next",value:function(){if(this.pos==-1){var t=this.init();if(t)return t}return this.offset==this.endOffset?iterEnd:this.advance()}},{key:"advance",value:function(){var t=this.frag.content[this.pos++],e=this.offset+t.width;return e>this.endOffset?(t=t.copy(t.text.slice(0,this.endOffset-this.offset)),this.offset=this.endOffset,t):(this.offset=e,t)}},{key:"init",value:function(){this.pos=0;for(var t=0;t<this.offset;){var e=this.frag.content[this.pos++],n=t+e.width;if(n==this.offset)break;if(n>this.offset){var r=e.width;return n>this.endOffset&&(r=this.endOffset-t,n=this.endOffset),e=e.copy(e.text.slice(this.offset-t,r)),this.offset=n,e}t=n}}}]),t}(),ReverseTextIterator=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"advance",value:function(){var t=this.frag.content[--this.pos],e=this.offset-t.width;return e<this.endOffset?(t=t.copy(t.text.slice(this.endOffset-e)),this.offset=this.endOffset,t):(this.offset=e,t)}},{key:"init",value:function(){this.pos=this.frag.content.length;for(var t=this.frag.size;t>this.offset;){var e=this.frag.content[--this.pos],n=t-e.width;if(n==this.offset)break;if(n<this.offset)return n<this.endOffset?(e=e.copy(e.text.slice(this.endOffset-n,this.offset-n)),n=this.endOffset):e=e.copy(e.text.slice(0,this.offset-n)),this.offset=n,e;t=n}}}]),e}(TextIterator),TextFragment=function(t){function e(t,n){_classCallCheck(this,e);var r=_possibleConstructorReturn(this,Object.getPrototypeOf(e).call(this));if(r.content=t,r.size=n||0,null==n)for(var i=0;i<t.length;i++)r.size+=t[i].width;return r}return _inherits(e,t),_createClass(e,[{key:"iter",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?this.size:arguments[1];return new TextIterator(this,t,e)}},{key:"reverseIter",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.size:arguments[0],e=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return new ReverseTextIterator(this,t,e)}},{key:"child",value:function t(e){if(e<0||e>=this.size)throw new _error.ModelError("Offset "+e+" out of range");for(var n=0,r=0;n<this.content.length;n++){var t=this.content[n];if(r+=t.width,r>e)return t}}},{key:"forEach",value:function(t){for(var e=0,n=0;e<this.content.length;e++){var r=this.content[e];t(r,n,n+=r.width)}}},{key:"chunkBefore",value:function(t){if(!t)throw new _error.ModelError("No chunk before start of node");for(var e=0,n=0;e<this.content.length;e++){var r=this.content[e],i=n+r.width;if(i>=t)return{node:r,start:n};n=i}}},{key:"chunkAfter",value:function(t){if(t==this.size)throw new _error.ModelError("No chunk after end of node");for(var e=0,n=0;e<this.content.length;e++){var r=this.content[e],i=n+r.width;if(i>t)return{node:r,start:n};n=i}}},{key:"slice",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],n=arguments.length<=1||void 0===arguments[1]?this.size:arguments[1];return t==n?emptyFragment:new e(this.toArray(t,n),n-t)}},{key:"replace",value:function(t,n){if(n.isText)throw new _error.ModelError("Argument to replace should be a non-text node");for(var r=void 0,i=void 0,o=0;o<t;i++)r=this.content[i],o+=r.width;if(r.isText)throw new _error.ModelError("Can not replace text content with replace method");var s=this.content.slice();return s[i]=n,new e(s,this.size)}},{key:"appendInner",value:function(t,e,n){var r=this.content.length-1,i=this.content.slice(0,r),o=this.content[r],s=t.firstChild,h=o.sameMarkup(s);return h&&o.isText?i.push(o.copy(o.text+s.text)):h&&e>0&&n>0?i.push(o.append(s.content,e-1,n-1)):i.push(o.close(e-1,"end"),s.close(n-1,"start")),Fragment.fromArray(i.concat(t.toArray(s.width)))}},{key:"toJSON",value:function(){return this.content.map(function(t){return t.toJSON()})}},{key:"firstChild",get:function(){return this.size?this.content[0]:null}},{key:"lastChild",get:function(){return this.size?this.content[this.content.length-1]:null}}]),e}(Fragment);"undefined"!=typeof Symbol&&(Fragment.prototype[Symbol.iterator]=function(){return this.iter()},FlatIterator.prototype[Symbol.iterator]=TextIterator.prototype[Symbol.iterator]=function(){return this});
},{"./error":49}],51:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _node=require("./node");Object.defineProperty(exports,"Node",{enumerable:!0,get:function(){return _node.Node}});var _fragment=require("./fragment");Object.defineProperty(exports,"Fragment",{enumerable:!0,get:function(){return _fragment.Fragment}}),Object.defineProperty(exports,"emptyFragment",{enumerable:!0,get:function(){return _fragment.emptyFragment}});var _mark=require("./mark");Object.defineProperty(exports,"Mark",{enumerable:!0,get:function(){return _mark.Mark}});var _schema=require("./schema");Object.defineProperty(exports,"SchemaSpec",{enumerable:!0,get:function(){return _schema.SchemaSpec}}),Object.defineProperty(exports,"Schema",{enumerable:!0,get:function(){return _schema.Schema}}),Object.defineProperty(exports,"SchemaError",{enumerable:!0,get:function(){return _schema.SchemaError}}),Object.defineProperty(exports,"NodeType",{enumerable:!0,get:function(){return _schema.NodeType}}),Object.defineProperty(exports,"Block",{enumerable:!0,get:function(){return _schema.Block}}),Object.defineProperty(exports,"Textblock",{enumerable:!0,get:function(){return _schema.Textblock}}),Object.defineProperty(exports,"Inline",{enumerable:!0,get:function(){return _schema.Inline}}),Object.defineProperty(exports,"Text",{enumerable:!0,get:function(){return _schema.Text}}),Object.defineProperty(exports,"MarkType",{enumerable:!0,get:function(){return _schema.MarkType}}),Object.defineProperty(exports,"Attribute",{enumerable:!0,get:function(){return _schema.Attribute}}),Object.defineProperty(exports,"NodeKind",{enumerable:!0,get:function(){return _schema.NodeKind}});var _defaultschema=require("./defaultschema");Object.defineProperty(exports,"defaultSchema",{enumerable:!0,get:function(){return _defaultschema.defaultSchema}}),Object.defineProperty(exports,"Doc",{enumerable:!0,get:function(){return _defaultschema.Doc}}),Object.defineProperty(exports,"BlockQuote",{enumerable:!0,get:function(){return _defaultschema.BlockQuote}}),Object.defineProperty(exports,"OrderedList",{enumerable:!0,get:function(){return _defaultschema.OrderedList}}),Object.defineProperty(exports,"BulletList",{enumerable:!0,get:function(){return _defaultschema.BulletList}}),Object.defineProperty(exports,"ListItem",{enumerable:!0,get:function(){return _defaultschema.ListItem}}),Object.defineProperty(exports,"HorizontalRule",{enumerable:!0,get:function(){return _defaultschema.HorizontalRule}}),Object.defineProperty(exports,"Paragraph",{enumerable:!0,get:function(){return _defaultschema.Paragraph}}),Object.defineProperty(exports,"Heading",{enumerable:!0,get:function(){return _defaultschema.Heading}}),Object.defineProperty(exports,"CodeBlock",{enumerable:!0,get:function(){return _defaultschema.CodeBlock}}),Object.defineProperty(exports,"Image",{enumerable:!0,get:function(){return _defaultschema.Image}}),Object.defineProperty(exports,"HardBreak",{enumerable:!0,get:function(){return _defaultschema.HardBreak}}),Object.defineProperty(exports,"CodeMark",{enumerable:!0,get:function(){return _defaultschema.CodeMark}}),Object.defineProperty(exports,"EmMark",{enumerable:!0,get:function(){return _defaultschema.EmMark}}),Object.defineProperty(exports,"StrongMark",{enumerable:!0,get:function(){return _defaultschema.StrongMark}}),Object.defineProperty(exports,"LinkMark",{enumerable:!0,get:function(){return _defaultschema.LinkMark}});var _pos=require("./pos");Object.defineProperty(exports,"Pos",{enumerable:!0,get:function(){return _pos.Pos}});var _diff=require("./diff");Object.defineProperty(exports,"findDiffStart",{enumerable:!0,get:function(){return _diff.findDiffStart}}),Object.defineProperty(exports,"findDiffEnd",{enumerable:!0,get:function(){return _diff.findDiffEnd}});var _error=require("./error");Object.defineProperty(exports,"ModelError",{enumerable:!0,get:function(){return _error.ModelError}});
},{"./defaultschema":47,"./diff":48,"./error":49,"./fragment":50,"./mark":52,"./node":53,"./pos":54,"./schema":55}],52:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),Mark=exports.Mark=function(){function t(e,r){_classCallCheck(this,t),this.type=e,this.attrs=r}return _createClass(t,[{key:"toJSON",value:function(){var t={_:this.type.name};for(var e in this.attrs)t[e]=this.attrs[e];return t}},{key:"addToSet",value:function(t){for(var e=0;e<t.length;e++){var r=t[e];if(r.type==this.type)return this.eq(r)?t:t.slice(0,e).concat(this).concat(t.slice(e+1));if(r.type.rank>this.type.rank)return t.slice(0,e).concat(this).concat(t.slice(e))}return t.concat(this)}},{key:"removeFromSet",value:function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t}},{key:"isInSet",value:function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1}},{key:"eq",value:function(t){if(this==t)return!0;if(this.type!=t.type)return!1;for(var e in this.attrs)if(t.attrs[e]!=this.attrs[e])return!1;return!0}}],[{key:"sameSet",value:function(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!t[r].eq(e[r]))return!1;return!0}},{key:"setFrom",value:function(e){if(!e||0==e.length)return empty;if(e instanceof t)return[e];var r=e.slice();return r.sort(function(t,e){return t.type.rank-e.type.rank}),r}}]),t}(),empty=[];
},{}],53:[function(require,module,exports){
"use strict";function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wrapMarks(t,e){for(var n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TextNode=exports.Node=void 0;var _get=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var s=i.get;if(void 0!==s)return s.call(r)},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),_fragment=require("./fragment"),_mark=require("./mark"),_pos=require("./pos"),emptyArray=[],emptyAttrs=Object.create(null),Node=function(){function t(e,n,r,i){_classCallCheck(this,t),this.type=e,this.attrs=n,this.content=r||_fragment.emptyFragment,this.marks=i||emptyArray}return _createClass(t,[{key:"child",value:function(t){return this.content.child(t)}},{key:"iter",value:function(t,e){return this.content.iter(t,e)}},{key:"reverseIter",value:function(t,e){return this.content.reverseIter(t,e)}},{key:"chunkBefore",value:function(t){return this.content.chunkBefore(t)}},{key:"chunkAfter",value:function(t){return this.content.chunkAfter(t)}},{key:"forEach",value:function(t){this.content.forEach(t)}},{key:"sameMarkup",value:function(t){return this.hasMarkup(t.type,t.attrs,t.marks)}},{key:"hasMarkup",value:function(e,n,r){return this.type==e&&t.sameAttrs(this.attrs,n||emptyAttrs)&&_mark.Mark.sameSet(this.marks,r||emptyArray)}},{key:"copy",value:function(){var t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return new this.constructor(this.type,this.attrs,t,this.marks)}},{key:"mark",value:function(t){return new this.constructor(this.type,this.attrs,this.content,t)}},{key:"slice",value:function(t,e){return this.copy(this.content.slice(t,e))}},{key:"splice",value:function(t,e,n){return this.copy(this.content.slice(0,t).append(n).append(this.content.slice(e)))}},{key:"append",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return this.copy(this.content.append(t,e,n))}},{key:"replace",value:function(t,e){return this.copy(this.content.replace(t,e))}},{key:"replaceDeep",value:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];if(n==t.length)return e;var r=t[n];return this.replace(r,this.child(r).replaceDeep(t,e,n+1))}},{key:"close",value:function(t,e){if(0==t&&0==this.size&&!this.type.canBeEmpty)return this.copy(this.type.defaultContent());var n=void 0;return t>0&&(n=this.content.close(t-1,e))!=this.content?this.copy(n):this}},{key:"path",value:function(t){for(var e=0,n=this;e<t.length;n=n.child(t[e]),e++);return n}},{key:"nodeAfter",value:function(t){var e=this.path(t.path);return t.offset<e.size?e.child(t.offset):null}},{key:"pathNodes",value:function(t){for(var e=[],n=0,r=this;e.push(r),n!=t.length;n++)r=r.child(t[n]);return e}},{key:"siblingRange",value:function(t,e){for(var n=0,r=this;;n++){if(r.isTextblock){var i=t.path.slice(0,n-1),o=t.path[n-1];return{from:new _pos.Pos(i,o),to:new _pos.Pos(i,o+1)}}var s=n==t.path.length,a=n==e.path.length,u=s?t.offset:t.path[n],c=a?e.offset:e.path[n];if(s||a||u!=c){var i=t.path.slice(0,n);return{from:new _pos.Pos(i,u),to:new _pos.Pos(i,c+(a?0:1))}}r=r.child(u)}}},{key:"nodesBetween",value:function(t,e,n){var r=arguments.length<=3||void 0===arguments[3]?[]:arguments[3],i=arguments.length<=4||void 0===arguments[4]?null:arguments[4];n(this,r,i)!==!1&&this.content.nodesBetween(t,e,n,r,this)}},{key:"inlineNodesBetween",value:function(t,e,n){this.nodesBetween(t,e,function(t,e,r){if(t.isInline){var i=e.length-1;n(t,e.slice(0,i),e[i],e[i]+t.width,r)}})}},{key:"sliceBetween",value:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return this.copy(this.content.sliceBetween(t,e,n))}},{key:"marksAt",value:function(t){var e=this.path(t.path);return e.isTextblock&&e.size?e.chunkBefore(t.offset||1).node.marks:emptyArray}},{key:"rangeHasMark",value:function(t,e,n){var r=!1;return this.nodesBetween(t,e,function(t){n.isInSet(t.marks)&&(r=!0)}),r}},{key:"toString",value:function(){var t=this.type.name;return this.content.size&&(t+="("+this.content.toString()+")"),wrapMarks(this.marks,t)}},{key:"toJSON",value:function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return this.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(function(t){return t.toJSON()})),t}},{key:"size",get:function(){return this.content.size}},{key:"width",get:function(){return 1}},{key:"textContent",get:function(){return this.content.textContent}},{key:"firstChild",get:function(){return this.content.firstChild}},{key:"lastChild",get:function(){return this.content.lastChild}},{key:"isBlock",get:function(){return this.type.isBlock}},{key:"isTextblock",get:function(){return this.type.isTextblock}},{key:"isInline",get:function(){return this.type.isInline}},{key:"isText",get:function(){return this.type.isText}},{key:"value",get:function(){return this}}],[{key:"sameAttrs",value:function(t,e){if(t==e)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0}},{key:"fromJSON",value:function(t,e){var n=t.nodeType(e.type),r=null!=e.text?e.text:_fragment.Fragment.fromJSON(t,e.content);return n.create(e.attrs,r,e.marks&&e.marks.map(t.markFromJSON))}}]),t}();exports.Node=Node,"undefined"!=typeof Symbol&&(Node.prototype[Symbol.iterator]=function(){return this.iter()});var TextNode=exports.TextNode=function(t){function e(t,n,r,i){_classCallCheck(this,e);var o=_possibleConstructorReturn(this,Object.getPrototypeOf(e).call(this,t,n,null,i));return o.text=r,o}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return wrapMarks(this.marks,JSON.stringify(this.text))}},{key:"mark",value:function(t){return new e(this.type,this.attrs,this.text,t)}},{key:"toJSON",value:function(){var t=_get(Object.getPrototypeOf(e.prototype),"toJSON",this).call(this);return t.text=this.text,t}},{key:"textContent",get:function(){return this.text}},{key:"width",get:function(){return this.text.length}}]),e}(Node);
},{"./fragment":50,"./mark":52,"./pos":54}],54:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Pos=void 0;var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),_error=require("./error"),Pos=exports.Pos=function(){function t(e,n){_classCallCheck(this,t),this.path=e,this.offset=n}return _createClass(t,[{key:"toString",value:function(){return this.path.join("/")+":"+this.offset}},{key:"max",value:function(t){return this.cmp(t)>0?this:t}},{key:"min",value:function(t){return this.cmp(t)<0?this:t}},{key:"cmp",value:function(e){return e==this?0:t.cmp(this.path,this.offset,e.path,e.offset)}},{key:"shorten",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?0:arguments[1];if(e>=this.depth){if(e!=this.depth||n)throw new _error.ModelError("Invalid shorten depth "+e+" for "+this);return new t(this.path,this.offset+n)}return t.shorten(this.path,e,n)}},{key:"move",value:function(e){return new t(this.path,this.offset+e)}},{key:"toPath",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0];return this.path.concat(this.offset+t)}},{key:"extend",value:function(e){for(var n=this.path.slice(),r=this.offset,i=0;i<e.path.length;i++)n.push(e.path[i]+r),r=0;return new t(n,e.offset+r)}},{key:"isValid",value:function(t,e){for(var n=0,r=t;;n++){if(n==this.path.length)return!(e&&!r.isTextblock)&&this.offset<=r.size;var i=this.path[n];if(i>=r.size)return!1;r=r.child(i)}}},{key:"toJSON",value:function(){return this}},{key:"depth",get:function(){return this.path.length}}],[{key:"cmp",value:function(t,e,n,r){for(var i=t.length,o=n.length,h=0,a=Math.min(i,o);h<a;h++){var s=t[h]-n[h];if(0!=s)return s}return i>o?r<=t[h]?1:-1:o>i?e<=n[h]?-1:1:e-r}},{key:"samePath",value:function(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}},{key:"shorten",value:function(e){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],r=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return null==n&&(n=e.length-1),new t(e.slice(0,n),e[n]+r)}},{key:"from",value:function(e){var n=arguments.length<=1||void 0===arguments[1]?0:arguments[1];if(!e.length)throw new _error.ModelError("Can't create a pos from an empty array");return new t(e.slice(0,e.length-1),e[e.length-1]+n)}},{key:"fromJSON",value:function(e){return new t(e.path,e.offset)}}]),t}();
},{"./error":49}],55:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function overlayObj(e,t){var r=(0,_obj.copyObj)(e);for(var n in t){var i=t[n];null==i?delete r[n]:r[n]=i}return r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Schema=exports.SchemaSpec=exports.MarkType=exports.Attribute=exports.Text=exports.Inline=exports.Textblock=exports.Block=exports.NodeKind=exports.NodeType=exports.SchemaError=void 0;var _get=function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(n)},_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_node=require("./node"),_fragment=require("./fragment"),_mark=require("./mark"),_obj=require("../util/obj"),_error=require("../util/error"),SchemaError=exports.SchemaError=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,Object.getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(_error.ProseMirrorError),SchemaItem=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getDefaultAttrs",value:function(){var e=Object.create(null);for(var t in this.attrs){var r=this.attrs[t];if(null==r.default)return null;e[t]=r.default}return e}},{key:"computeAttrs",value:function(e,t){var r=Object.create(null);for(var n in this.attrs){var i=e&&e[n];if(null==i){var o=this.attrs[n];if(null!=o.default)i=o.default;else{if(!o.compute)throw new SchemaError("No value supplied for attribute "+n);i=o.compute(this,t)}}r[n]=i}return r}},{key:"freezeAttrs",value:function(){var e=Object.create(null);for(var t in this.attrs)e[t]=this.attrs[t];Object.defineProperty(this,"attrs",{value:e})}},{key:"attrs",get:function(){return{}}}],[{key:"updateAttrs",value:function(e){Object.defineProperty(this.prototype,"attrs",{value:overlayObj(this.prototype.attrs,e)})}},{key:"getRegistry",value:function(){return this==e?null:(this.prototype.hasOwnProperty("registry")||(this.prototype.registry=Object.create(Object.getPrototypeOf(this).getRegistry())),this.prototype.registry)}},{key:"getNamespace",value:function(t){if(this==e)return null;var r=this.getRegistry();return Object.prototype.hasOwnProperty.call(r,t)||(r[t]=Object.create(Object.getPrototypeOf(this).getNamespace(t))),r[t]}},{key:"register",value:function(e,t,r){this.getNamespace(e)[t]=function(){return r}}},{key:"registerComputed",value:function(e,t,r){this.getNamespace(e)[t]=r}},{key:"cleanNamespace",value:function(e){this.getNamespace(e).__proto__=null}}]),e}(),NodeType=exports.NodeType=function(e){function t(e,r){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this));return n.name=e,n.freezeAttrs(),n.defaultAttrs=n.getDefaultAttrs(),n.schema=r,n}return _inherits(t,e),_createClass(t,[{key:"canContainFragment",value:function(e){var t=this,r=!0;return e.forEach(function(e){t.canContain(e)||(r=!1)}),r}},{key:"canContain",value:function(e){if(!this.canContainType(e.type))return!1;for(var t=0;t<e.marks.length;t++)if(!this.canContainMark(e.marks[t]))return!1;return!0}},{key:"canContainMark",value:function(e){var t=this.containsMarks;if(t===!0)return!0;if(t)for(var r=0;r<t.length;r++)if(t[r]==e.name)return!0;return!1}},{key:"canContainType",value:function(e){return e.kind&&e.kind.isSubKind(this.contains)}},{key:"canContainContent",value:function(e){return e.contains&&e.contains.isSubKind(this.contains)}},{key:"findConnection",value:function(e){if(this.canContainType(e))return[];for(var t=Object.create(null),r=[{from:this,via:[]}];r.length;){var n=r.shift();for(var i in this.schema.nodes){var o=this.schema.nodes[i];if(o.contains&&o.defaultAttrs&&!(o.contains.id in t)&&n.from.canContainType(o)){var a=n.via.concat(o);if(o.canContainType(e))return a;r.push({from:o,via:a}),t[o.contains.id]=!0}}}}},{key:"computeAttrs",value:function(e,r){return!e&&this.defaultAttrs?this.defaultAttrs:_get(Object.getPrototypeOf(t.prototype),"computeAttrs",this).call(this,e,r)}},{key:"create",value:function(e,t,r){return new _node.Node(this,this.computeAttrs(e,t),_fragment.Fragment.from(t),_mark.Mark.setFrom(r))}},{key:"createAutoFill",value:function(e,t,r){return t&&0!=t.length||this.canBeEmpty||(t=this.defaultContent()),this.create(e,t,r)}},{key:"isBlock",get:function(){return!1}},{key:"isTextblock",get:function(){return!1}},{key:"isInline",get:function(){return!1}},{key:"isText",get:function(){return!1}},{key:"selectable",get:function(){return!0}},{key:"draggable",get:function(){return!1}},{key:"locked",get:function(){return!1}},{key:"contains",get:function(){return null}},{key:"kind",get:function(){return null}},{key:"canBeEmpty",get:function(){return!0}},{key:"containsMarks",get:function(){return!1}}],[{key:"compile",value:function(e,t){var r=Object.create(null);for(var n in e)r[n]=new e[n](n,t);if(!r.doc)throw new SchemaError("Every schema needs a 'doc' type");if(!r.text)throw new SchemaError("Every schema needs a 'text' type");return r}}]),t}(SchemaItem),NodeKind=exports.NodeKind=function(){function e(t){var r=this;_classCallCheck(this,e),this.name=t,this.supers=Object.create(null),this.id=++e.nextID,this.supers[this.id]=!0;for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];i.forEach(function(e){for(var t in e.supers)r.supers[t]=!0})}return _createClass(e,[{key:"isSubKind",value:function(e){return e&&e.id in this.supers||!1}}]),e}();NodeKind.nextID=0,NodeKind.block=new NodeKind("block"),NodeKind.inline=new NodeKind("inline"),NodeKind.text=new NodeKind("text",NodeKind.inline);var Block=exports.Block=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,Object.getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"defaultContent",value:function(){var e=this.schema.defaultTextblockType().create(),t=this.findConnection(e.type);if(!t)throw new SchemaError("Can't create default content for "+this.name);for(var r=t.length-1;r>=0;r--)e=t[r].create(null,e);return _fragment.Fragment.from(e)}},{key:"contains",get:function(){return NodeKind.block}},{key:"kind",get:function(){return NodeKind.block}},{key:"isBlock",get:function(){return!0}},{key:"canBeEmpty",get:function(){return null==this.contains}}]),t}(NodeType),Textblock=exports.Textblock=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,Object.getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"contains",get:function(){return NodeKind.inline}},{key:"containsMarks",get:function(){return!0}},{key:"isTextblock",get:function(){return!0}},{key:"canBeEmpty",get:function(){return!0}}]),t}(Block),Inline=exports.Inline=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,Object.getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"kind",get:function(){return NodeKind.inline}},{key:"isInline",get:function(){return!0}}]),t}(NodeType),Text=exports.Text=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,Object.getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"create",value:function(e,t,r){return new _node.TextNode(this,this.computeAttrs(e,t),t,r)}},{key:"selectable",get:function(){return!1}},{key:"isText",get:function(){return!0}},{key:"kind",get:function(){return NodeKind.text}}]),t}(Inline),Attribute=exports.Attribute=function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];_classCallCheck(this,e),this.default=t.default,this.compute=t.compute,this.label=t.label},MarkType=exports.MarkType=function(e){function t(e,r,n){_classCallCheck(this,t);var i=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this));i.name=e,i.freezeAttrs(),i.rank=r,i.schema=n;var o=i.getDefaultAttrs();return i.instance=o&&new _mark.Mark(i,o),i}return _inherits(t,e),_createClass(t,[{key:"create",value:function(e){return!e&&this.instance?this.instance:new _mark.Mark(this,this.computeAttrs(e))}},{key:"removeFromSet",value:function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e.slice(0,t).concat(e.slice(t+1));return e}},{key:"isInSet",value:function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e[t]}}],[{key:"getOrder",value:function(e){var t=[];for(var r in e)t.push({name:r,rank:e[r].rank});t.sort(function(e,t){return e.rank-t.rank});for(var n=Object.create(null),i=0;i<t.length;i++)n[t[i].name]=i;return n}},{key:"compile",value:function(e,t){var r=this.getOrder(e),n=Object.create(null);for(var i in e)n[i]=new e[i](i,r[i],t);return n}},{key:"rank",get:function(){return 50}}]),t}(SchemaItem),SchemaSpec=exports.SchemaSpec=function(){function e(t,r){_classCallCheck(this,e),this.nodes=t||{},this.marks=r||{}}return _createClass(e,[{key:"update",value:function(t,r){return new e(t?overlayObj(this.nodes,t):this.nodes,r?overlayObj(this.marks,r):this.marks)}}]),e}(),Schema=function(){function e(t){_classCallCheck(this,e),this.spec=t,this.nodes=NodeType.compile(t.nodes,this),this.marks=MarkType.compile(t.marks,this);for(var r in this.nodes)if(r in this.marks)throw new SchemaError(r+" can not be both a node and a mark");this.cached=Object.create(null),this.node=this.node.bind(this),this.text=this.text.bind(this),this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this)}return _createClass(e,[{key:"node",value:function(e,t,r,n){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof NodeType))throw new SchemaError("Invalid node type: "+e);if(e.schema!=this)throw new SchemaError("Node type from different schema used ("+e.name+")")}return e.create(t,r,n)}},{key:"text",value:function(e,t){return this.nodes.text.create(null,e,_mark.Mark.setFrom(t))}},{key:"defaultTextblockType",value:function(){var e=this.cached.defaultTextblockType;if(void 0!==e)return e;for(var t in this.nodes)if(this.nodes[t].defaultTextblock)return this.cached.defaultTextblockType=this.nodes[t];return this.cached.defaultTextblockType=null}},{key:"mark",value:function(e,t){var r=this.marks[e];if(!r)throw new SchemaError("No mark named "+e);return r.create(t)}},{key:"nodeFromJSON",value:function(e){return _node.Node.fromJSON(this,e)}},{key:"markFromJSON",value:function(e){var t=this.marks[e._],r=null;for(var n in e)"_"!=n&&(r||(r=Object.create(null)),r[n]=e[n]);return r?t.create(r):t.instance}},{key:"nodeType",value:function(e){var t=this.nodes[e];if(!t)throw new SchemaError("Unknown node type: "+e);return t}},{key:"registry",value:function e(t,r){for(var n=0;n<2;n++){var i=n?this.marks:this.nodes;for(var o in i){var a=i[o],e=a.registry,s=e&&e[t];if(s)for(var c in s){var u=s[c](a);null!=u&&r(c,u,a,o)}}}}}]),e}();exports.Schema=Schema;
},{"../util/error":68,"../util/obj":71,"./fragment":50,"./mark":52,"./node":53}],56:[function(require,module,exports){
"use strict";function canBeLifted(t,e){for(var o=[t.path(e.from.path)],n=!1;;){for(var r=-1,a=function(t,n){o.some(function(e){return!t.type.canContainContent(e.type)})||(r=n),t=t.child(e.from.path[n]),f=t},f=t,s=0;s<e.from.path.length;s++)a(f,s);if(r>-1)return{path:e.from.path.slice(0,r),unwrap:n};if(n||!o[0].isBlock)return null;o=o[0].content.slice(e.from.offset,e.to.offset),n=!0}}function canLift(t,e,o){var n=t.siblingRange(e,o||e),r=canBeLifted(t,n);if(r)return{found:r,range:n}}function canWrap(t,e,o,n){var r=t.siblingRange(e,o||e);if(r.from.offset==r.to.offset)return null;var a=t.path(r.from.path),f=a.type.findConnection(n),s=n.findConnection(a.child(r.from.offset).type);return f&&s?{range:r,around:f,inside:s}:void 0}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};exports.canLift=canLift,exports.canWrap=canWrap;var _model=require("../model"),_transform=require("./transform"),_step=require("./step"),_tree=require("./tree"),_map=require("./map");_step.Step.define("ancestor",{apply:function(t,e){var o=e.from,n=e.to;if(!(0,_tree.isFlatRange)(o,n))return null;for(var r=o.path,a=o.offset,f=n.offset,s=e.param,p=s.depth,i=void 0===p?0:p,l=s.types,u=void 0===l?[]:l,c=s.attrs,m=void 0===c?[]:c,h=t.path(o.path),d=0;d<i;d++){if(a>0||f<t.path(r).size||0==r.length)return null;a=r[r.length-1],f=a+1,r=r.slice(0,r.length-1)}if(0==i&&0==u.length)return null;var y=t.path(r),v=y.size,_=void 0;if(y.type.locked)return null;if(u.length){var g=function(){var t=u[u.length-1],e=h.content.slice(o.offset,n.offset);if(!y.type.canContainType(u[0])||e.some(function(e){return!t.canContain(e)})||!h.size&&!t.canBeEmpty||t.locked)return{v:null};for(var r=null,s=u.length-1;s>=0;s--)r=u[s].create(m[s],r||e);_=y.splice(a,f,_model.Fragment.from(r))}();if("object"===("undefined"==typeof g?"undefined":_typeof(g)))return g.v}else{if(!y.type.canContainFragment(h.content)||!h.size&&0==a&&f==y.size&&!y.type.canBeEmpty)return null;_=y.splice(a,f,h.content)}for(var w=t.replaceDeep(r,_),P=r.slice(),d=0;d<u.length;d++)P.push(d?0:a);var b=new _model.Pos(P,u.length?0:a),k=null,z=u.length?1:n.offset-o.offset;if(i!=u.length||i>1||u.length>1){var R=new _model.Pos(r,a),T=new _model.Pos(r,f),S=new _model.Pos(r,a+z),B=new _model.Pos(P,b.offset+(n.offset-o.offset));k=[new _map.ReplacedRange(R,o,R,b),new _map.ReplacedRange(n,T,B,S,T,S)]}var C=[new _map.MovedRange(o,n.offset-o.offset,b)];return f-a!=z&&C.push(new _map.MovedRange(new _model.Pos(r,f),v-f,new _model.Pos(r,a+z))),new _step.StepResult(w,new _map.PosMap(C,k))},invert:function(t,e,o){var n=[],r=[];if(t.param.depth)for(var a=0;a<t.param.depth;a++){var f=e.path(t.from.path.slice(0,t.from.path.length-a));n.unshift(f.type),r.unshift(f.attrs)}var s=o.map(t.from).pos,p=t.from.cmp(t.to)?o.map(t.to,-1).pos:s;return new _step.Step("ancestor",s,p,null,{depth:t.param.types?t.param.types.length:0,types:n,attrs:r})},paramToJSON:function(t){return{depth:t.depth,types:t.types&&t.types.map(function(t){return t.name}),attrs:t.attrs}},paramFromJSON:function(t,e){return{depth:e.depth,types:e.types&&e.types.map(function(e){return t.nodeType(e)}),attrs:e.attrs}}}),_transform.Transform.prototype.lift=function(t){var e=arguments.length<=1||void 0===arguments[1]?t:arguments[1],o=canLift(this.doc,t,e);if(!o)return this;for(var n=o.found,r=o.range,a=r.from.path.length-n.path.length,f=n.unwrap&&this.doc.path(r.from.path),s=0,p=r.to;;s++){if(p.offset<this.doc.path(p.path).size){this.split(p,a-s);break}if(s==a-1)break;p=p.shorten(null,1)}for(var s=0,p=r.from;;s++){if(p.offset>0){this.split(p,a-s);for(var i=r.from.path.length-a,l=p.path.slice(0,i).concat(p.path[i]+1);l.length<r.from.path.length;)l.push(0);r={from:new _model.Pos(l,0),to:new _model.Pos(l,r.to.offset-r.from.offset)};break}if(s==a-1)break;p=p.shorten()}if(n.unwrap){for(var u=r.to.offset-1;u>r.from.offset;u--)this.join(new _model.Pos(r.from.path,u));for(var c,m=0,u=f.iter(r.from.offset,r.to.offset);c=u.next().value;)m+=c.size;var l=r.from.path.concat(r.from.offset);r={from:new _model.Pos(l,0),to:new _model.Pos(l,m)},++a}return this.step("ancestor",r.from,r.to,null,{depth:a}),this},_transform.Transform.prototype.wrap=function(t,e,o,n){var r=canWrap(this.doc,t,e,o);if(!r)return this;var a=r.range,f=r.around,s=r.inside,p=f.concat(o).concat(s),i=f.map(function(){return null}).concat(n).concat(s.map(function(){return null}));if(this.step("ancestor",a.from,a.to,null,{types:p,attrs:i}),s.length){for(var l=a.from.path.slice(),u=0;u<f.length+s.length+1;u++)l.push(u?0:a.from.offset);for(var u=a.to.offset-1-a.from.offset;u>0;u--)this.split(new _model.Pos(l,u),s.length)}return this},_transform.Transform.prototype.setBlockType=function(t,e,o,n){var r=this;return this.doc.nodesBetween(t,e||t,function(t,e){if(t.isTextblock&&!t.hasMarkup(o,n))return e=e.slice(),r.clearMarkup(new _model.Pos(e,0),new _model.Pos(e,t.size),o),r.step("ancestor",new _model.Pos(e,0),new _model.Pos(e,r.doc.path(e).size),null,{depth:1,types:[o],attrs:[n]}),!1}),this},_transform.Transform.prototype.setNodeType=function(t,e,o){var n=this.doc.nodeAfter(t),r=t.toPath();return this.step("ancestor",new _model.Pos(r,0),new _model.Pos(r,n.size),null,{depth:1,types:[e],attrs:[o]}),this};
},{"../model":51,"./map":59,"./step":63,"./transform":64,"./tree":65}],57:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Remapping=exports.MapResult=exports.PosMap=exports.joinableBlocks=exports.joinPoint=exports.canWrap=exports.canLift=exports.StepResult=exports.Step=exports.Transform=void 0;var _transform=require("./transform");Object.defineProperty(exports,"Transform",{enumerable:!0,get:function(){return _transform.Transform}});var _step=require("./step");Object.defineProperty(exports,"Step",{enumerable:!0,get:function(){return _step.Step}}),Object.defineProperty(exports,"StepResult",{enumerable:!0,get:function(){return _step.StepResult}});var _ancestor=require("./ancestor");Object.defineProperty(exports,"canLift",{enumerable:!0,get:function(){return _ancestor.canLift}}),Object.defineProperty(exports,"canWrap",{enumerable:!0,get:function(){return _ancestor.canWrap}});var _join=require("./join");Object.defineProperty(exports,"joinPoint",{enumerable:!0,get:function(){return _join.joinPoint}}),Object.defineProperty(exports,"joinableBlocks",{enumerable:!0,get:function(){return _join.joinableBlocks}});var _map=require("./map");Object.defineProperty(exports,"PosMap",{enumerable:!0,get:function(){return _map.PosMap}}),Object.defineProperty(exports,"MapResult",{enumerable:!0,get:function(){return _map.MapResult}}),Object.defineProperty(exports,"Remapping",{enumerable:!0,get:function(){return _map.Remapping}}),require("./mark"),require("./split"),require("./replace");
},{"./ancestor":56,"./join":58,"./map":59,"./mark":60,"./replace":61,"./split":62,"./step":63,"./transform":64}],58:[function(require,module,exports){
"use strict";function joinableBlocks(e,t){if(0==t.offset)return!1;var o=e.path(t.path);if(o.isTextblock||t.offset==o.size)return!1;var n=o.child(t.offset-1).type;return!n.isTextblock&&n.contains&&n==o.child(t.offset).type}function joinPoint(e,t){for(var o=arguments.length<=2||void 0===arguments[2]?-1:arguments[2];;){if(joinableBlocks(e,t))return t;if(0==t.depth)return null;t=t.shorten(null,o<0?0:1)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.joinableBlocks=joinableBlocks,exports.joinPoint=joinPoint;var _model=require("../model"),_transform=require("./transform"),_step=require("./step"),_map=require("./map");_step.Step.define("join",{apply:function(e,t){var o=e.path(t.from.path),n=e.path(t.to.path);if(t.from.offset<o.size||t.to.offset>0||!o.type.canContainFragment(n.content))return null;var r=t.from.path,i=t.to.path,s=r.length-1,a=r[s]+1;if(r.length!=i.length||0==r.length||a!=i[s])return null;for(var f=0;f<s;f++)if(r[f]!=i[f])return null;var l=r.slice(0,s),p=e.path(l),u=p.size;if(p.type.locked)return null;var c=o.append(n.content),h=e.replaceDeep(l,p.splice(a-1,a+1,_model.Fragment.from(c))),m=new _map.PosMap([new _map.MovedRange(t.to,n.size,t.from),new _map.MovedRange(new _model.Pos(l,a+1),u-a-1,new _model.Pos(l,a))],[new _map.ReplacedRange(t.from,t.to,t.from,t.from,t.to.shorten())]);return new _step.StepResult(h,m)},invert:function(e,t){return new _step.Step("split",null,null,e.from,t.path(e.to.path).copy())}}),_transform.Transform.prototype.join=function(e){var t=this.doc.path(e.path);return 0==e.offset||e.offset==t.size||t.isTextblock?this:(this.step("join",new _model.Pos(e.path.concat(e.offset-1),t.child(e.offset-1).size),new _model.Pos(e.path.concat(e.offset),0)),this)};
},{"../model":51,"./map":59,"./step":63,"./transform":64}],59:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function offsetFrom(e,t){if(t.path.length>e.path.length){for(var r=[t.path[e.path.length]-e.offset],n=e.path.length+1;n<t.path.length;n++)r.push(t.path[n]);return new _model.Pos(r,t.offset)}return new _model.Pos([],t.offset-e.offset)}function mapThrough(e,t){for(var r=arguments.length<=2||void 0===arguments[2]?1:arguments[2],n=arguments[3],o=0;o<e.replaced.length;o++){var a=e.replaced[o],s=n?a.after:a.before,i=void 0,l=void 0;if((i=t.cmp(s.from))>=0&&(l=t.cmp(s.to))<=0){var h=n?a.before:a.after;return new MapResult(r<0?h.from:h.to,!(!i||!l),{rangeID:o,offset:offsetFrom(s.ref,t)})}}for(var o=0;o<e.moved.length;o++){var a=e.moved[o],u=n?a.dest:a.start;if(t.cmp(u)>=0&&_model.Pos.cmp(t.path,t.offset,u.path,u.offset+a.size)<=0){var f=n?a.start:a.dest,c=u.depth;if(t.depth>c){var p=f.offset+(t.path[c]-u.offset);return new MapResult(new _model.Pos(f.path.concat(p).concat(t.path.slice(c+1)),t.offset))}return new MapResult(new _model.Pos(f.path,f.offset+(t.offset-u.offset)))}}return new MapResult(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Remapping=exports.nullMap=exports.MapResult=exports.PosMap=exports.ReplacedRange=exports.MovedRange=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_model=require("../model"),MovedRange=exports.MovedRange=function(){function e(t,r){var n=arguments.length<=2||void 0===arguments[2]?null:arguments[2];_classCallCheck(this,e),this.start=t,this.size=r,this.dest=n}return _createClass(e,[{key:"toString",value:function(){return"[moved "+this.start+"+"+this.size+" to "+this.dest+"]"}},{key:"end",get:function(){return new _model.Pos(this.start.path,this.start.offset+this.size)}}]),e}(),Side=function e(t,r,n){_classCallCheck(this,e),this.from=t,this.to=r,this.ref=n},ReplacedRange=exports.ReplacedRange=function(){function e(t,r,n,o){var a=arguments.length<=4||void 0===arguments[4]?t:arguments[4],s=arguments.length<=5||void 0===arguments[5]?n:arguments[5];_classCallCheck(this,e),this.before=new Side(t,r,a),this.after=new Side(n,o,s)}return _createClass(e,[{key:"toString",value:function(){return"[replaced "+this.before.from+"-"+this.before.to+" with "+this.after.from+"-"+this.after.to+"]"}}]),e}(),empty=[],PosMap=exports.PosMap=function(){function e(t,r){_classCallCheck(this,e),this.moved=t||empty,this.replaced=r||empty}return _createClass(e,[{key:"recover",value:function(e){return this.replaced[e.rangeID].after.ref.extend(e.offset)}},{key:"map",value:function(e,t){return mapThrough(this,e,t,!1)}},{key:"invert",value:function(){return new InvertedPosMap(this)}},{key:"toString",value:function(){return this.moved.concat(this.replaced).join(" ")}}]),e}(),MapResult=exports.MapResult=function e(t){var r=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2];_classCallCheck(this,e),this.pos=t,this.deleted=r,this.recover=n},InvertedPosMap=function(){function e(t){_classCallCheck(this,e),this.inner=t}return _createClass(e,[{key:"recover",value:function(e){return this.inner.replaced[e.rangeID].before.ref.extend(e.offset)}},{key:"map",value:function(e,t){return mapThrough(this.inner,e,t,!0)}},{key:"invert",value:function(){return this.inner}},{key:"toString",value:function(){return"-"+this.inner}}]),e}(),nullMap=exports.nullMap=new PosMap,Remapping=exports.Remapping=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],r=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],n=arguments.length<=2||void 0===arguments[2]?Object.create(null):arguments[2];_classCallCheck(this,e),this.head=t,this.tail=r,this.mirror=n}return _createClass(e,[{key:"addToFront",value:function(e,t){this.head.push(e);var r=-this.head.length;return null!=t&&(this.mirror[r]=t),r}},{key:"addToBack",value:function(e,t){this.tail.push(e);var r=this.tail.length-1;return null!=t&&(this.mirror[t]=r),r}},{key:"get",value:function(e){return e<0?this.head[-e-1]:this.tail[e]}},{key:"map",value:function e(t,r){for(var n=!1,o=-this.head.length;o<this.tail.length;o++){var e=this.get(o),a=e.map(t,r);if(a.recover){var s=this.mirror[o];if(null!=s){o=s,t=this.get(s).recover(a.recover);continue}}a.deleted&&(n=!0),t=a.pos}return new MapResult(t,n)}}]),e}();
},{"../model":51}],60:[function(require,module,exports){
"use strict";var _model=require("../model"),_transform=require("./transform"),_step=require("./step"),_tree=require("./tree");_step.Step.define("addMark",{apply:function(e,r){return new _step.StepResult((0,_tree.copyStructure)(e,r.from,r.to,function(e,t,n){return e.type.canContainMark(r.param)?(0,_tree.copyInline)(e,t,n,function(e){return e.mark(r.param.addToSet(e.marks))}):e}))},invert:function(e,r,t){return new _step.Step("removeMark",e.from,t.map(e.to).pos,null,e.param)},paramToJSON:function(e){return e.toJSON()},paramFromJSON:function(e,r){return e.markFromJSON(r)}}),_transform.Transform.prototype.addMark=function(e,r,t){var n=this,o=[],a=[],s=null,p=null;return this.doc.inlineNodesBetween(e,r,function(e,r,n,i,u){var l=e.marks;if(t.isInSet(l)||!u.type.canContainMark(t.type))p=s=null;else{var m=t.type.isInSet(l);m?s&&s.param.eq(m)?s.to=new _model.Pos(r,i):(s=new _step.Step("removeMark",new _model.Pos(r,n),new _model.Pos(r,i),null,m),o.push(s)):s&&(s=null),p?p.to=new _model.Pos(r,i):(p=new _step.Step("addMark",new _model.Pos(r,n),new _model.Pos(r,i),null,t),a.push(p))}}),o.forEach(function(e){return n.step(e)}),a.forEach(function(e){return n.step(e)}),this},_step.Step.define("removeMark",{apply:function(e,r){return new _step.StepResult((0,_tree.copyStructure)(e,r.from,r.to,function(e,t,n){return(0,_tree.copyInline)(e,t,n,function(e){return e.mark(r.param.removeFromSet(e.marks))})}))},invert:function(e,r,t){return new _step.Step("addMark",e.from,t.map(e.to).pos,null,e.param)},paramToJSON:function(e){return e.toJSON()},paramFromJSON:function(e,r){return e.markFromJSON(r)}}),_transform.Transform.prototype.removeMark=function(e,r){var t=this,n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],o=[],a=0;return this.doc.inlineNodesBetween(e,r,function(e,r,t,s){var p=e.marks;a++;var i=null;if(n instanceof _model.MarkType){var u=n.isInSet(p);u&&(i=[u])}else n?n.isInSet(p)&&(i=[n]):i=p;if(i&&i.length){r=r.slice();for(var l=0;l<i.length;l++){for(var m=i[l],u=void 0,f=0;f<o.length;f++){var c=o[f];c.step==a-1&&m.eq(o[f].style)&&(u=c)}u?(u.to=new _model.Pos(r,s),u.step=a):o.push({style:m,from:new _model.Pos(r,t),to:new _model.Pos(r,s),step:a})}}}),o.forEach(function(e){return t.step("removeMark",e.from,e.to,null,e.style)}),this},_transform.Transform.prototype.clearMarkup=function(e,r,t){var n=this,o=[];this.doc.inlineNodesBetween(e,r,function(e,r,a,s){var p=e.marks,i=e.type;if(t?!t.canContainType(i):!i.isText){r=r.slice();var u=new _model.Pos(r,a);return void o.push(new _step.Step("replace",u,new _model.Pos(r,s),u))}for(var l=0;l<p.length;l++){var m=p[l];t&&t.canContainMark(m.type)||(r=r.slice(),n.step("removeMark",new _model.Pos(r,a),new _model.Pos(r,s),null,m))}});for(var a=o.length-1;a>=0;a--)this.step(o[a]);return this};
},{"../model":51,"./step":63,"./transform":64,"./tree":65}],61:[function(require,module,exports){
"use strict";function findMovedChunks(e,t,n,o){for(var r=[],p=t.path.slice(0,o),a=o;;a++){var h=a==t.depth?0:1,s=a==t.depth?t.offset:t.path[a],i=e.size-s,l=n.size-i,c=t.shorten(a,h),f=new _model.Pos(p,l+h);if(c.cmp(f)&&r.push(new _map.MovedRange(c,i-h,f)),!h)return r;e=e.child(s),n=n.child(l),p=p.concat(l)}}function replace(e,t,n,o,r){var p=arguments.length<=5||void 0===arguments[5]?0:arguments[5];if(p==o.length){var a=e.sliceBetween(null,t,p),h=e.sliceBetween(n,null,p),s=void 0;return a.type.canContainFragment(r.content)?(s=r.content.size?a.append(r.content,t.depth-p,r.openLeft).append(h.content,r.openRight,n.depth-p):a.append(h.content,t.depth-p,n.depth-p),s.size||s.type.canBeEmpty||(s=s.copy(s.type.defaultContent())),{doc:s,moved:findMovedChunks(e,n,s,p)}):null}var i=o[p],s=replace(e.child(i),t,n,o,r,p+1);return s?{doc:e.replace(i,s.doc),moved:s.moved}:null}function shiftFromStack(e,t){for(var n=e[t]=e[t].slice(1),o=t-1;o>=0;o--)n=e[o]=e[o].replace(0,n)}function buildInserted(e,t,n,o){for(var r=t.sliceBetween(n,o),p=[],a=r,h=0;h<=n.path.length;h++,a=a.firstChild)p.push(a);var s=(0,_tree.samePathDepth)(n,o),i=e.length-1,l=p.length-1,c=null,f=n.depth,m=o.depth,d=p[l];for(d.isTextblock&&d.size&&e[i].isTextblock&&(c=e[i--].copy(d.content),--l,shiftFromStack(p,l));;l--){for(var a=p[l],u=a.type,v=null,g=l<=s,h=i;h>=0;h--){var _=e[h];if(g?_.type.canContainContent(a.type):_.type==u){v=h;break}}if(null!=v){if(c)for(;i>=v;){var y=e[i],R=_model.Fragment.from(c);c=y.copy(i==v?R.append(a.content):R),i--}else c=e[v].copy(a.content),i=v-1;if(g)break}else--f;null==v&&0!=a.size||(g&&null==v&&--m,shiftFromStack(p,l-1))}var k={content:c?c.content:_model.emptyFragment,openLeft:f-l,openRight:m-l};return{repl:k,depth:i+1}}function moveText(e,t,n,o){for(var r=(0,_tree.samePathDepth)(n,o),p=o.shorten(null,1);p.path.length>r&&1==t.path(p.path).size;)p=p.shorten(null,1);e.split(p,p.path.length-r);for(var a=o,h=new _model.Pos(a.path,t.path(a.path).size),s=t.path(a.path.slice(0,r)),i=s.pathNodes(n.path.slice(r)),l=s.pathNodes(a.path.slice(r));i.length&&l.length&&i[0].sameMarkup(l[0]);)i.shift(),l.shift();(l.length||i.length)&&e.step("ancestor",a,h,null,{depth:l.length,types:i.map(function(e){return e.type}),attrs:i.map(function(e){return e.attrs})});for(var c=r;c<n.path.length;c++)e.join(n.shorten(c,1))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.replace=replace;var _model=require("../model"),_transform=require("./transform"),_step=require("./step"),_map=require("./map"),_tree=require("./tree"),nullRepl={content:_model.emptyFragment,openLeft:0,openRight:0};_step.Step.define("replace",{apply:function(e,t){var n=t.pos,o=n.path;if(t.from.depth<o.length||t.to.depth<o.length)return null;for(var r=0;r<o.length;r++)if(t.from.path[r]!=o[r]||t.to.path[r]!=o[r])return null;var p=replace(e,t.from,t.to,n.path,t.param||nullRepl);if(!p)return null;var a=p.doc,h=p.moved,s=h.length?h[h.length-1].dest:t.to,i=new _map.ReplacedRange(t.from,t.to,t.from,s,n,n);return new _step.StepResult(a,new _map.PosMap(h,[i]))},invert:function(e,t,n){var o=e.pos.depth;return new _step.Step("replace",e.from,n.map(e.to).pos,e.from.shorten(o),{content:t.path(e.pos.path).content.sliceBetween(e.from,e.to,o),openLeft:e.from.depth-o,openRight:e.to.depth-o})},paramToJSON:function(e){return e&&{content:e.content.size&&e.content.toJSON(),openLeft:e.openLeft,openRight:e.openRight}},paramFromJSON:function(e,t){return t&&{content:_model.Fragment.fromJSON(e,t.content),openLeft:t.openLeft,openRight:t.openRight}}}),_transform.Transform.prototype.delete=function(e,t){return e.cmp(t)&&this.replace(e,t),this},_transform.Transform.prototype.replace=function(e,t,n,o,r){var p=void 0,a=void 0,h=this.doc,s=(0,_tree.samePathDepth)(e,t);if(n){var i=buildInserted(h.pathNodes(e.path),n,o,r);for(p=i.repl,a=i.depth;a>s;)p.content.size&&(p={content:_model.Fragment.from(h.path(e.path.slice(0,a)).copy(p.content)),openLeft:p.openLeft+1,openRight:p.openRight+1}),a--}else p=nullRepl,a=s;var l=e.shorten(a),c=h,f=t;if(p.content.size||(0,_tree.replaceHasEffect)(h,e,t)){var m=this.step("replace",e,t,l,p);c=m.doc,f=m.map.map(t).pos}if(!h.path(t.path).isTextblock)return this;if(!(p.content.size?n.path(r.path).isTextblock:h.path(e.path).isTextblock))return this;var d=h.path(l.path).pathNodes(t.path.slice(a)).slice(1),u=void 0;if(p.content.size){var v=p.content;u=[];for(var g=0;g<p.openRight;g++){var _=v.child(v.size-1);u.push(_),v=_.content}}else u=h.path(l.path).pathNodes(e.path.slice(a)).slice(1);if(u.length&&(d.length!=u.length||!d.every(function(e,t){return e.sameMarkup(u[t])}))){for(var y=f.shorten(l.depth),R=y.path,k=y.offset,z=void 0,T=c.path(R),g=0;;g++){if(g==u.length){z=new _model.Pos(R,k);break}R.push(k-1),T=T.child(k-1),k=T.size}moveText(this,c,z,f)}return this},_transform.Transform.prototype.replaceWith=function(e,t,n){return n instanceof _model.Fragment||(n=_model.Fragment.from(n)),_model.Pos.samePath(e.path,t.path)?this.step("replace",e,t,e,{content:n,openLeft:0,openRight:0}):this.delete(e,t).step("replace",e,e,e,{content:n,openLeft:0,openRight:0}),this},_transform.Transform.prototype.insert=function(e,t){return this.replaceWith(e,e,t)},_transform.Transform.prototype.insertText=function(e,t){return this.insert(e,this.doc.type.schema.text(t,this.doc.marksAt(e)))},_transform.Transform.prototype.insertInline=function(e,t){return this.insert(e,t.mark(this.doc.marksAt(e)))};
},{"../model":51,"./map":59,"./step":63,"./transform":64,"./tree":65}],62:[function(require,module,exports){
"use strict";var _model=require("../model"),_transform=require("./transform"),_step=require("./step"),_map=require("./map");_step.Step.define("split",{apply:function(e,t){var r=t.pos;if(0==r.depth)return null;var n=r.shorten(),p=n.path,s=n.offset,o=e.path(p),a=o.child(s),l=a.size,i=t.param||a,f=i.type,u=i.attrs,m=r.offset;if(0==m&&!a.type.canBeEmpty||a.type.locked||m==a.size&&!f.canBeEmpty)return null;var c=o.splice(s,s+1,_model.Fragment.from([a.slice(0,m),f.create(u,a.content.slice(m))])),d=e.replaceDeep(p,c),h=new _model.Pos(p.concat(s+1),0),_=new _map.PosMap([new _map.MovedRange(r,l-r.offset,h),new _map.MovedRange(new _model.Pos(p,s+1),c.size-2-s,new _model.Pos(p,s+2))],[new _map.ReplacedRange(r,r,r,h,r,r.shorten(null,1))]);return new _step.StepResult(d,_)},invert:function(e,t,r){return new _step.Step("join",e.pos,r.map(e.pos).pos)},paramToJSON:function(e){return e&&{type:e.type.name,attrs:e.attrs}},paramFromJSON:function(e,t){return t&&{type:e.nodeType(t.type),attrs:t.attrs}}}),_transform.Transform.prototype.split=function(e){var t=arguments.length<=1||void 0===arguments[1]?1:arguments[1],r=arguments[2],n=arguments[3];if(0==t)return this;for(var p=0;;p++){if(this.step("split",null,null,e,r&&{type:r,attrs:n}),p==t-1)return this;r=null,e=e.shorten(null,1)}},_transform.Transform.prototype.splitIfNeeded=function(e){for(var t=arguments.length<=1||void 0===arguments[1]?1:arguments[1],r=0;r<t;r++){var n=e.shorten(e.depth-r);n.offset&&n.offset<this.doc.path(n.path).size&&this.step("split",null,null,n)}return this};
},{"../model":51,"./map":59,"./step":63,"./transform":64}],63:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.StepResult=exports.Step=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,r,s){return r&&e(t.prototype,r),s&&e(t,s),t}}(),_model=require("../model"),_error=require("../util/error"),_map=require("./map"),Step=exports.Step=function(){function e(t,r,s,o){var a=arguments.length<=4||void 0===arguments[4]?null:arguments[4];if(_classCallCheck(this,e),!(t in steps))throw new _error.NamespaceError("Unknown step type: "+t);this.type=t,this.from=r,this.to=s,this.pos=o,this.param=a}return _createClass(e,[{key:"apply",value:function(e){return steps[this.type].apply(e,this)}},{key:"invert",value:function(e,t){return steps[this.type].invert(this,e,t)}},{key:"map",value:function(t){var r=!0,s=null,o=null,a=null;if(this.from){var i=t.map(this.from,1);s=i.pos,i.deleted||(r=!1)}if(this.to)if(0==this.to.cmp(this.from))o=s;else{var i=t.map(this.to,-1);o=i.pos.max(s),i.deleted||(r=!1)}if(this.pos)if(s&&0==this.pos.cmp(this.from))a=s;else if(o&&0==this.pos.cmp(this.to))a=o;else{var i=t.map(this.pos,1);a=i.pos,i.deleted||(r=!1)}return r?null:new e(this.type,s,o,a,this.param)}},{key:"toJSON",value:function(){var e=steps[this.type];return{type:this.type,from:this.from,to:this.to,pos:this.pos,param:e.paramToJSON?e.paramToJSON(this.param):this.param}}}],[{key:"fromJSON",value:function(t,r){var s=steps[r.type];return new e(r.type,r.from&&_model.Pos.fromJSON(r.from),r.to&&_model.Pos.fromJSON(r.to),r.pos&&_model.Pos.fromJSON(r.pos),s.paramFromJSON?s.paramFromJSON(t,r.param):r.param)}},{key:"define",value:function(e,t){steps[e]=t}}]),e}(),StepResult=exports.StepResult=function e(t){var r=arguments.length<=1||void 0===arguments[1]?_map.nullMap:arguments[1];_classCallCheck(this,e),this.doc=t,this.map=r},steps=Object.create(null);
},{"../model":51,"../util/error":68,"./map":59}],64:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Transform=void 0;var _createClass=function(){function e(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,s,r){return s&&e(t.prototype,s),r&&e(t,r),t}}(),_step2=require("./step"),_map=require("./map"),Transform=function(){function e(t){_classCallCheck(this,e),this.steps=[],this.docs=[t],this.maps=[]}return _createClass(e,[{key:"step",value:function(e,t,s,r,n){"string"==typeof e&&(e=new _step2.Step(e,t,s,r,n));var a=e.apply(this.doc);return a&&(this.steps.push(e),this.maps.push(a.map),this.docs.push(a.doc)),a}},{key:"map",value:function(e,t){for(var s=!1,r=0;r<this.maps.length;r++){var n=this.maps[r].map(e,t);e=n.pos,n.deleted&&(s=!0)}return new _map.MapResult(e,s)}},{key:"doc",get:function(){return this.docs[this.docs.length-1]}},{key:"before",get:function(){return this.docs[0]}}]),e}();exports.Transform=Transform;
},{"./map":59,"./step":63}],65:[function(require,module,exports){
"use strict";function copyStructure(t,e,r,a){var n=arguments.length<=4||void 0===arguments[4]?0:arguments[4];if(t.isTextblock)return a(t,e?e.offset:0,r?r.offset:t.size);if(!t.size)return t;for(var o,f=e?e.path[n]:0,p=r?r.path[n]+1:t.size,h=t.content.toArray(0,f),i=t.iter(f,p);o=i.next().value;){var s=i.offset-o.width==f?e:null,c=i.offset==p?r:null;h.push(copyStructure(o,s,c,a,n+1))}return t.copy(_model.Fragment.fromArray(h.concat(t.content.toArray(p))))}function copyInline(t,e,r,a){return t.splice(e,r,t.content.slice(e,r).map(a))}function isFlatRange(t,e){if(t.path.length!=e.path.length)return!1;for(var r=0;r<t.path.length;r++)if(t.path[r]!=e.path[r])return!1;return t.offset<=e.offset}function canBeJoined(t,e,r){if(!r||0==e||e==t.size)return!1;var a=t.child(e-1),n=t.child(e);return a.sameMarkup(n)}function replaceHasEffect(t,e,r){for(var a=0,n=t;;a++){var o=a==e.depth,f=a==r.depth;if(o||f||e.path[a]!=r.path[a]){var p=void 0,h=void 0;if(o)p=e.offset;else{p=e.path[a]+1;for(var i=a+1,s=n.child(p-1);i<=e.path.length;i++)if(i==e.path.length){if(e.offset<s.size)return!0}else{if(e.path[i]+1<s.size)return!0;s=s.child(e.path[i])}}if(f)h=r.offset;else{h=r.path[a];for(var i=a+1;i<=r.path.length;i++)if((i==r.path.length?r.offset:r.path[i])>0)return!0}return p!=h||canBeJoined(n,p,Math.min(e.depth,r.depth)-a)}n=n.child(e.path[a])}}function samePathDepth(t,e){for(var r=0;;r++)if(r==t.path.length||r==e.path.length||t.path[r]!=e.path[r])return r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.copyStructure=copyStructure,exports.copyInline=copyInline,exports.isFlatRange=isFlatRange,exports.replaceHasEffect=replaceHasEffect,exports.samePathDepth=samePathDepth;var _model=require("../model");
},{"../model":51}],66:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function openPrompt(e,t,r){var o=(0,_dom.elt)("button",{class:"ProseMirror-prompt-close"}),n=(0,_dom.elt)("div",{class:"ProseMirror-prompt"},t,o),a=e.wrapper.getBoundingClientRect();if(e.wrapper.appendChild(n),r&&r.pos)n.style.left=r.pos.left-a.left+"px",n.style.pos=r.pos.top-a.top+"px";else{var i=n.getBoundingClientRect(),l=Math.max(0,a.left)+Math.min(window.innerWidth,a.right)-i.width,p=Math.max(0,a.top)+Math.min(window.innerHeight,a.bottom)-i.height;n.style.left=l/2-a.left+"px",n.style.top=p/2-a.top+"px"}var s=function t(){e.off("interaction",t),n.parentNode&&(n.parentNode.removeChild(n),r&&r.onClose&&r.onClose())};return o.addEventListener("click",s),e.on("interaction",s),{close:s}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ParamPrompt=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}();exports.openPrompt=openPrompt;var _error=require("../util/error"),_dom=require("../dom"),ParamPrompt=exports.ParamPrompt=function(){function e(t,r){var o=this;_classCallCheck(this,e),this.pm=t,this.command=r,this.doClose=null,this.fields=r.params.map(function(e){if(!(e.type in o.paramTypes))throw new _error.AssertionError("Unsupported parameter type: "+e.type);return o.paramTypes[e.type].render.call(o.pm,e,o.defaultValue(e))}),this.form=(0,_dom.elt)("form",null,this.fields.map(function(e){return(0,_dom.elt)("div",null,e)}))}return _createClass(e,[{key:"close",value:function(){this.doClose&&(this.doClose(),this.doClose=null)}},{key:"open",value:function(){var e=this;this.close();var t=this.prompt(),r=this.pm.hasFocus();this.doClose=function(){t.close(),r&&setTimeout(function(){return e.pm.focus()},50)};var o=function(){var t=e.values();t&&(e.close(),e.command.exec(e.pm,t))};this.form.addEventListener("submit",function(e){e.preventDefault(),o()}),this.form.addEventListener("keydown",function(e){27==e.keyCode?(e.preventDefault(),t.close()):13!=e.keyCode||e.ctrlKey||e.metaKey||e.shiftKey||(e.preventDefault(),o())});var n=this.form.querySelector("input, textarea");n&&n.focus()}},{key:"values",value:function(){for(var e=[],t=0;t<this.command.params.length;t++){var r=this.command.params[t],o=this.fields[t],n=this.paramTypes[r.type],a=void 0,i=void 0;if(n.validate&&(i=n.validate(o)),i||(a=n.read.call(this.pm,o),r.validate?i=r.validate(a):a||null!=r.default||(i="No default value available")),i)return n.reportInvalid?n.reportInvalid.call(this.pm,o,i):this.reportInvalid(o,i),null;e.push(a)}return e}},{key:"defaultValue",value:function(e){if(e.prefill){var t=e.prefill.call(this.command.self,this.pm);if(null!=t)return t}return e.default}},{key:"prompt",value:function(){var e=this;return openPrompt(this.pm,this.form,{onClose:function(){return e.close()}})}},{key:"reportInvalid",value:function(e,t){var r=e.parentNode,o="left: "+(e.offsetLeft+e.offsetWidth+2)+"px; top: "+(e.offsetTop-5)+"px",n=r.appendChild((0,_dom.elt)("div",{class:"ProseMirror-invalid",style:o},t));setTimeout(function(){return r.removeChild(n)},1500)}}]),e}();ParamPrompt.prototype.paramTypes=Object.create(null),ParamPrompt.prototype.paramTypes.text={render:function(e,t){return(0,_dom.elt)("input",{type:"text",placeholder:e.label,value:t,autocomplete:"off"})},read:function(e){return e.value}},ParamPrompt.prototype.paramTypes.select={render:function(e,t){var r=e.options.call?e.options(this):e.options;return(0,_dom.elt)("select",null,r.map(function(e){return(0,_dom.elt)("option",{value:e.value,selected:e.value==t?"true":null},e.label)}))},read:function(e){return e.value}},(0,_dom.insertCSS)('\n.ProseMirror-prompt {\n  background: white;\n  padding: 2px 6px 2px 15px;\n  border: 1px solid silver;\n  position: absolute;\n  border-radius: 3px;\n  z-index: 11;\n}\n\n.ProseMirror-prompt input[type="text"],\n.ProseMirror-prompt textarea {\n  background: #eee;\n  border: none;\n  outline: none;\n}\n\n.ProseMirror-prompt input[type="text"] {\n  padding: 0 4px;\n}\n\n.ProseMirror-prompt-close {\n  position: absolute;\n  left: 2px; top: 1px;\n  color: #666;\n  border: none; background: transparent; padding: 0;\n}\n\n.ProseMirror-prompt-close:after {\n  content: "";\n  font-size: 12px;\n}\n\n.ProseMirror-invalid {\n  background: #ffc;\n  border: 1px solid #cc7;\n  border-radius: 4px;\n  padding: 5px 10px;\n  position: absolute;\n  min-width: 10em;\n}\n');
},{"../dom":18,"../util/error":68}],67:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function scheduleDOMUpdate(t,e){CentralScheduler.get(t).set(e)}function unscheduleDOMUpdate(t,e){CentralScheduler.get(t).unset(e)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();exports.scheduleDOMUpdate=scheduleDOMUpdate,exports.unscheduleDOMUpdate=unscheduleDOMUpdate;var UPDATE_TIMEOUT=50,MIN_FLUSH_DELAY=100,CentralScheduler=function(){function t(e){_classCallCheck(this,t),this.waiting=[],this.timeout=null,this.lastForce=0,this.pm=e,this.force=this.force.bind(this),e.on("flush",this.onFlush.bind(this))}return _createClass(t,[{key:"set",value:function(t){0==this.waiting.length&&(this.timeout=setTimeout(this.force,UPDATE_TIMEOUT)),this.waiting.indexOf(t)==-1&&this.waiting.push(t)}},{key:"unset",value:function(t){var e=this.waiting.indexOf(t);e>-1&&this.waiting.splice(e,1)}},{key:"force",value:function(){for(clearTimeout(this.timeout),this.lastForce=Date.now();this.waiting.length;)for(var t=0;t<this.waiting.length;t++){var e=this.waiting[t]();e?this.waiting[t]=e:this.waiting.splice(t--,1)}}},{key:"onFlush",value:function(){this.waiting.length&&Date.now()-this.lastForce>MIN_FLUSH_DELAY&&this.force()}}],[{key:"get",value:function(t){return t.mod.centralScheduler||(t.mod.centralScheduler=new this(t))}}]),t}(),UpdateScheduler=exports.UpdateScheduler=function(){function t(e,n,i){var s=this;_classCallCheck(this,t),this.pm=e,this.start=i,this.events=n.split(" "),this.onEvent=this.onEvent.bind(this),this.events.forEach(function(t){return e.on(t,s.onEvent)})}return _createClass(t,[{key:"detach",value:function(){var t=this;unscheduleDOMUpdate(this.pm,this.start),this.events.forEach(function(e){return t.pm.off(e,t.onEvent)})}},{key:"onEvent",value:function(){scheduleDOMUpdate(this.pm,this.start)}},{key:"force",value:function(){if(this.pm.operation)this.onEvent();else{unscheduleDOMUpdate(this.pm,this.start);for(var t=this.start;t;t=t());}}}]),t}();
},{}],68:[function(require,module,exports){
"use strict";function _classCallCheck(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?r:e}function _inherits(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)}function functionName(r){var e=/^function (\w+)/.exec(r.toString());return e&&e[1]}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function r(r,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(r,o.key,o)}}return function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e}}(),ProseMirrorError=exports.ProseMirrorError=function(r){function e(r){_classCallCheck(this,e);var t=_possibleConstructorReturn(this,Object.getPrototypeOf(e).call(this,r));return t.message!=r&&(t.message=r,Error.captureStackTrace?Error.captureStackTrace(t,t.name):t.stack=new Error(r).stack),t}return _inherits(e,r),_createClass(e,[{key:"name",get:function(){return this.constructor.name||functionName(this.constructor)||"ProseMirrorError"}}]),e}(Error),AssertionError=exports.AssertionError=function(r){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,r),e}(ProseMirrorError),NamespaceError=exports.NamespaceError=function(r){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,r),e}(ProseMirrorError);
},{}],69:[function(require,module,exports){
"use strict";function eventMixin(r){var e=r.prototype;for(var n in methods)methods.hasOwnProperty(n)&&(e[n]=methods[n])}Object.defineProperty(exports,"__esModule",{value:!0}),exports.eventMixin=eventMixin;var methods={on:function(r,e){var n=this._handlers||(this._handlers={}),t=n[r]||(n[r]=[]);t.push(e)},off:function(r,e){var n=this._handlers&&this._handlers[r];if(n)for(var t=0;t<n.length;++t)if(n[t]==e){n.splice(t,1);break}},signal:function(r){for(var e=this._handlers&&this._handlers[r],n=arguments.length,t=Array(n>1?n-1:0),a=1;a<n;a++)t[a-1]=arguments[a];if(e)for(var i=0;i<e.length;++i)e[i].apply(e,t)},signalHandleable:function(r){var e=this._handlers&&this._handlers[r];if(e){for(var n=arguments.length,t=Array(n>1?n-1:0),a=1;a<n;a++)t[a-1]=arguments[a];for(var i=0;i<e.length;++i){var s=e[i].apply(e,t);if(s!==!1)return s}}return!1},signalPipelined:function(r,e){var n=this._handlers&&this._handlers[r];if(n)for(var t=0;t<n.length;++t)e=n[t](e);return e},signalDOM:function(r,e){var n=this._handlers&&this._handlers[e||r.type];if(n)for(var t=0;t<n.length;++t)if(n[t](r)||r.defaultPrevented)return!0;return!1},hasHandler:function(r){var e=this._handlers&&this._handlers[r];return e&&e.length>0}};
},{}],70:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Map=exports.Map=window.Map||function(){function t(){_classCallCheck(this,t),this.content=[]}return _createClass(t,[{key:"set",value:function(t,e){var n=this.find(t);n>-1?this.content[n+1]=e:this.content.push(t,e)}},{key:"get",value:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]}},{key:"has",value:function(t){return this.find(t)>-1}},{key:"find",value:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e}},{key:"clear",value:function(){this.content.length=0}},{key:"size",get:function(){return this.content.length/2}}]),t}();
},{}],71:[function(require,module,exports){
"use strict";function copyObj(e,r){var t=r||Object.create(null);for(var o in e)t[o]=e[o];return t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.copyObj=copyObj;
},{}],72:[function(require,module,exports){
"use strict";function sortedInsert(e,t,r){for(var s=0;s<e.length&&!(r(e[s],t)>0);s++);e.splice(s,0,t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=sortedInsert;
},{}],73:[function(require,module,exports){
!function(t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else{if("function"==typeof define&&define.amd)return define([],t);(this||window).browserKeymap=t()}}(function(){"use strict";function t(t){if("keypress"==t.type)return"'"+String.fromCharCode(t.charCode)+"'";var e=o[t.keyCode],i=e;return null==i||t.altGraphKey?null:(t.altKey&&"Alt"!=e&&(i="Alt-"+i),t.ctrlKey&&"Ctrl"!=e&&(i="Ctrl-"+i),t.metaKey&&"Cmd"!=e&&(i="Cmd-"+i),t.shiftKey&&"Shift"!=e&&(i="Shift-"+i),i)}function e(t){return t=/[^-]*$/.exec(t)[0],"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function i(t){for(var e,i,n,o,s=t.split(/-(?!'?$)/),l=s[s.length-1],f=0;f<s.length-1;f++){var a=s[f];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))e=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)$/i.test(a))n=!0;else{if(!/^mod$/i.test(a))throw new Error("Unrecognized modifier name: "+a);r?o=!0:i=!0}}return e&&(l="Alt-"+l),i&&(l="Ctrl-"+l),o&&(l="Cmd-"+l),n&&(l="Shift-"+l),l}function n(t,e){if(this.options=e||{},this.bindings=Object.create(null),t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&this.addBinding(i,t[i])}for(var r="undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform(),o={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},s=0;s<10;s++)o[s+48]=o[s+96]=String(s);for(var s=65;s<=90;s++)o[s]=String.fromCharCode(s);for(var s=1;s<=12;s++)o[s+111]=o[s+63235]="F"+s;return n.prototype={normalize:function(t){return this.options.multi!==!1?t.split(/ +(?!\'$)/).map(i):[i(t)]},addBinding:function(t,e){for(var i=this.normalize(t),n=0;n<i.length;n++){var r=i.slice(0,n+1).join(" "),o=n==i.length-1?e:"...",s=this.bindings[r];if(s){if(s!=o)throw new Error("Inconsistent bindings for "+r)}else this.bindings[r]=o}},removeBinding:function(t){for(var e=this.normalize(t),i=e.length-1;i>=0;i--){var n=e.slice(0,i).join(" "),r=this.bindings[n];if("..."==r&&!this.unusedMulti(n))break;r&&delete this.bindings[n]}},unusedMulti:function(t){for(var e in this.bindings)if(e.length>t&&0==e.indexOf(t)&&" "==e.charAt(t.length))return!1;return!0},lookup:function(t,e){return this.options.call?this.options.call(t,e):this.bindings[t]},constructor:n},n.keyName=t,n.isModifierKey=e,n.normalizeKeyName=i,n});
},{}],74:[function(require,module,exports){
"use strict";module.exports=require("./lib/");
},{"./lib/":84}],75:[function(require,module,exports){
"use strict";module.exports=require("entities/maps/entities.json");
},{"entities/maps/entities.json":125}],76:[function(require,module,exports){
"use strict";module.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","head","header","hr","html","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","pre","section","source","title","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"];
},{}],77:[function(require,module,exports){
"use strict";var attr_name="[a-zA-Z_:][a-zA-Z0-9:._-]*",unquoted="[^\"'=<>`\\x00-\\x20]+",single_quoted="'[^']*'",double_quoted='"[^"]*"',attr_value="(?:"+unquoted+"|"+single_quoted+"|"+double_quoted+")",attribute="(?:\\s+"+attr_name+"(?:\\s*=\\s*"+attr_value+")?)",open_tag="<[A-Za-z][A-Za-z0-9\\-]*"+attribute+"*\\s*\\/?>",close_tag="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",comment="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",processing="<[?].*?[?]>",declaration="<![A-Z]+\\s+[^>]*>",cdata="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",HTML_TAG_RE=new RegExp("^(?:"+open_tag+"|"+close_tag+"|"+comment+"|"+processing+"|"+declaration+"|"+cdata+")"),HTML_OPEN_CLOSE_TAG_RE=new RegExp("^(?:"+open_tag+"|"+close_tag+")");module.exports.HTML_TAG_RE=HTML_TAG_RE,module.exports.HTML_OPEN_CLOSE_TAG_RE=HTML_OPEN_CLOSE_TAG_RE;
},{}],78:[function(require,module,exports){
"use strict";module.exports=["coap","doi","javascript","aaa","aaas","about","acap","cap","cid","crid","data","dav","dict","dns","file","ftp","geo","go","gopher","h323","http","https","iax","icap","im","imap","info","ipp","iris","iris.beep","iris.xpc","iris.xpcs","iris.lwz","ldap","mailto","mid","msrp","msrps","mtqp","mupdate","news","nfs","ni","nih","nntp","opaquelocktoken","pop","pres","rtsp","service","session","shttp","sieve","sip","sips","sms","snmp","soap.beep","soap.beeps","tag","tel","telnet","tftp","thismessage","tn3270","tip","tv","urn","vemmi","ws","wss","xcon","xcon-userid","xmlrpc.beep","xmlrpc.beeps","xmpp","z39.50r","z39.50s","adiumxtra","afp","afs","aim","apt","attachment","aw","beshare","bitcoin","bolo","callto","chrome","chrome-extension","com-eventbrite-attendee","content","cvs","dlna-playsingle","dlna-playcontainer","dtn","dvb","ed2k","facetime","feed","finger","fish","gg","git","gizmoproject","gtalk","hcp","icon","ipn","irc","irc6","ircs","itms","jar","jms","keyparc","lastfm","ldaps","magnet","maps","market","message","mms","ms-help","msnim","mumble","mvn","notes","oid","palm","paparazzi","platform","proxy","psyc","query","res","resource","rmi","rsync","rtmp","secondlife","sftp","sgn","skype","smb","soldat","spotify","ssh","steam","svn","teamspeak","things","udp","unreal","ut2004","ventrilo","view-source","webcal","wtai","wyciwyg","xfire","xri","ymsgr"];
},{}],79:[function(require,module,exports){
"use strict";function _class(e){return Object.prototype.toString.call(e)}function isString(e){return"[object String]"===_class(e)}function has(e,t){return _hasOwnProperty.call(e,t)}function assign(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach(function(r){e[r]=t[r]})}}),e}function arrayReplaceAt(e,t,r){return[].concat(e.slice(0,t),r,e.slice(t+1))}function isValidEntityCode(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(65535!==(65535&e)&&65534!==(65535&e)&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function fromCodePoint(e){if(e>65535){e-=65536;var t=55296+(e>>10),r=56320+(1023&e);return String.fromCharCode(t,r)}return String.fromCharCode(e)}function replaceEntityPattern(e,t){var r=0;return has(entities,t)?entities[t]:35===t.charCodeAt(0)&&DIGITAL_ENTITY_TEST_RE.test(t)&&(r="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10),isValidEntityCode(r))?fromCodePoint(r):e}function unescapeMd(e){return e.indexOf("\\")<0?e:e.replace(UNESCAPE_MD_RE,"$1")}function unescapeAll(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(UNESCAPE_ALL_RE,function(e,t,r){return t?t:replaceEntityPattern(e,r)})}function replaceUnsafeChar(e){return HTML_REPLACEMENTS[e]}function escapeHtml(e){return HTML_ESCAPE_TEST_RE.test(e)?e.replace(HTML_ESCAPE_REPLACE_RE,replaceUnsafeChar):e}function escapeRE(e){return e.replace(REGEXP_ESCAPE_RE,"\\$&")}function isWhiteSpace(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function isPunctChar(e){return UNICODE_PUNCT_RE.test(e)}function isMdAsciiPunct(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function normalizeReference(e){return e.trim().replace(/\s+/g," ").toUpperCase()}var _hasOwnProperty=Object.prototype.hasOwnProperty,UNESCAPE_MD_RE=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,ENTITY_RE=/&([a-z#][a-z0-9]{1,31});/gi,UNESCAPE_ALL_RE=new RegExp(UNESCAPE_MD_RE.source+"|"+ENTITY_RE.source,"gi"),DIGITAL_ENTITY_TEST_RE=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,entities=require("./entities"),HTML_ESCAPE_TEST_RE=/[&<>"]/,HTML_ESCAPE_REPLACE_RE=/[&<>"]/g,HTML_REPLACEMENTS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},REGEXP_ESCAPE_RE=/[.?*+^$[\]\\(){}|-]/g,UNICODE_PUNCT_RE=require("uc.micro/categories/P/regex");exports.lib={},exports.lib.mdurl=require("mdurl"),exports.lib.ucmicro=require("uc.micro"),exports.assign=assign,exports.isString=isString,exports.has=has,exports.unescapeMd=unescapeMd,exports.unescapeAll=unescapeAll,exports.isValidEntityCode=isValidEntityCode,exports.fromCodePoint=fromCodePoint,exports.escapeHtml=escapeHtml,exports.arrayReplaceAt=arrayReplaceAt,exports.isWhiteSpace=isWhiteSpace,exports.isMdAsciiPunct=isMdAsciiPunct,exports.isPunctChar=isPunctChar,exports.escapeRE=escapeRE,exports.normalizeReference=normalizeReference;
},{"./entities":75,"mdurl":131,"uc.micro":137,"uc.micro/categories/P/regex":135}],80:[function(require,module,exports){
"use strict";exports.parseLinkLabel=require("./parse_link_label"),exports.parseLinkDestination=require("./parse_link_destination"),exports.parseLinkTitle=require("./parse_link_title");
},{"./parse_link_destination":81,"./parse_link_label":82,"./parse_link_title":83}],81:[function(require,module,exports){
"use strict";var unescapeAll=require("../common/utils").unescapeAll;module.exports=function(e,r,s){var o,l,t=0,i=r,n={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(r)){for(r++;r<s;){if(o=e.charCodeAt(r),10===o)return n;if(62===o)return n.pos=r+1,n.str=unescapeAll(e.slice(i+1,r)),n.ok=!0,n;92===o&&r+1<s?r+=2:r++}return n}for(l=0;r<s&&(o=e.charCodeAt(r),32!==o)&&!(o<32||127===o);)if(92===o&&r+1<s)r+=2;else{if(40===o&&(l++,l>1))break;if(41===o&&(l--,l<0))break;r++}return i===r?n:(n.str=unescapeAll(e.slice(i,r)),n.lines=t,n.pos=r,n.ok=!0,n)};
},{"../common/utils":79}],82:[function(require,module,exports){
"use strict";module.exports=function(o,s,p){var e,r,i,n,t=-1,f=o.posMax,u=o.pos;for(o.pos=s+1,e=1;o.pos<f;){if(i=o.src.charCodeAt(o.pos),93===i&&(e--,0===e)){r=!0;break}if(n=o.pos,o.md.inline.skipToken(o),91===i)if(n===o.pos-1)e++;else if(p)return o.pos=u,-1}return r&&(t=o.pos),o.pos=u,t};
},{}],83:[function(require,module,exports){
"use strict";var unescapeAll=require("../common/utils").unescapeAll;module.exports=function(e,r,s){var t,o,n=0,u=r,l={ok:!1,pos:0,lines:0,str:""};if(r>=s)return l;if(o=e.charCodeAt(r),34!==o&&39!==o&&40!==o)return l;for(r++,40===o&&(o=41);r<s;){if(t=e.charCodeAt(r),t===o)return l.pos=r+1,l.lines=n,l.str=unescapeAll(e.slice(u+1,r)),l.ok=!0,l;10===t?n++:92===t&&r+1<s&&(r++,10===e.charCodeAt(r)&&n++),r++}return l};
},{"../common/utils":79}],84:[function(require,module,exports){
"use strict";function validateLink(r){var e=r.trim().toLowerCase();return!BAD_PROTO_RE.test(e)||!!GOOD_DATA_RE.test(e)}function normalizeLink(r){var e=mdurl.parse(r,!0);if(e.hostname&&(!e.protocol||RECODE_HOSTNAME_FOR.indexOf(e.protocol)>=0))try{e.hostname=punycode.toASCII(e.hostname)}catch(r){}return mdurl.encode(mdurl.format(e))}function normalizeLinkText(r){var e=mdurl.parse(r,!0);if(e.hostname&&(!e.protocol||RECODE_HOSTNAME_FOR.indexOf(e.protocol)>=0))try{e.hostname=punycode.toUnicode(e.hostname)}catch(r){}return mdurl.decode(mdurl.format(e))}function MarkdownIt(r,e){return this instanceof MarkdownIt?(e||utils.isString(r)||(e=r||{},r="default"),this.inline=new ParserInline,this.block=new ParserBlock,this.core=new ParserCore,this.renderer=new Renderer,this.linkify=new LinkifyIt,this.validateLink=validateLink,this.normalizeLink=normalizeLink,this.normalizeLinkText=normalizeLinkText,this.utils=utils,this.helpers=helpers,this.options={},this.configure(r),void(e&&this.set(e))):new MarkdownIt(r,e)}var utils=require("./common/utils"),helpers=require("./helpers"),Renderer=require("./renderer"),ParserCore=require("./parser_core"),ParserBlock=require("./parser_block"),ParserInline=require("./parser_inline"),LinkifyIt=require("linkify-it"),mdurl=require("mdurl"),punycode=require("punycode"),config={default:require("./presets/default"),zero:require("./presets/zero"),commonmark:require("./presets/commonmark")},BAD_PROTO_RE=/^(vbscript|javascript|file|data):/,GOOD_DATA_RE=/^data:image\/(gif|png|jpeg|webp);/,RECODE_HOSTNAME_FOR=["http:","https:","mailto:"];MarkdownIt.prototype.set=function(r){return utils.assign(this.options,r),this},MarkdownIt.prototype.configure=function(r){var e,t=this;if(utils.isString(r)&&(e=r,r=config[e],!r))throw new Error('Wrong `markdown-it` preset "'+e+'", check name');if(!r)throw new Error("Wrong `markdown-it` preset, can't be empty");return r.options&&t.set(r.options),r.components&&Object.keys(r.components).forEach(function(e){r.components[e].rules&&t[e].ruler.enableOnly(r.components[e].rules)}),this},MarkdownIt.prototype.enable=function(r,e){var t=[];Array.isArray(r)||(r=[r]),["core","block","inline"].forEach(function(e){t=t.concat(this[e].ruler.enable(r,!0))},this);var n=r.filter(function(r){return t.indexOf(r)<0});if(n.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+n);return this},MarkdownIt.prototype.disable=function(r,e){var t=[];Array.isArray(r)||(r=[r]),["core","block","inline"].forEach(function(e){t=t.concat(this[e].ruler.disable(r,!0))},this);var n=r.filter(function(r){return t.indexOf(r)<0});if(n.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+n);return this},MarkdownIt.prototype.use=function(r){var e=[this].concat(Array.prototype.slice.call(arguments,1));return r.apply(r,e),this},MarkdownIt.prototype.parse=function(r,e){var t=new this.core.State(r,this,e);return this.core.process(t),t.tokens},MarkdownIt.prototype.render=function(r,e){return e=e||{},this.renderer.render(this.parse(r,e),this.options,e)},MarkdownIt.prototype.parseInline=function(r,e){var t=new this.core.State(r,this,e);return t.inlineMode=!0,this.core.process(t),t.tokens},MarkdownIt.prototype.renderInline=function(r,e){return e=e||{},this.renderer.render(this.parseInline(r,e),this.options,e)},module.exports=MarkdownIt;
},{"./common/utils":79,"./helpers":80,"./parser_block":85,"./parser_core":86,"./parser_inline":87,"./presets/commonmark":88,"./presets/default":89,"./presets/zero":90,"./renderer":91,"linkify-it":126,"mdurl":131,"punycode":4}],85:[function(require,module,exports){
"use strict";function ParserBlock(){this.ruler=new Ruler;for(var e=0;e<_rules.length;e++)this.ruler.push(_rules[e][0],_rules[e][1],{alt:(_rules[e][2]||[]).slice()})}var Ruler=require("./ruler"),_rules=[["code",require("./rules_block/code")],["fence",require("./rules_block/fence"),["paragraph","reference","blockquote","list"]],["blockquote",require("./rules_block/blockquote"),["paragraph","reference","list"]],["hr",require("./rules_block/hr"),["paragraph","reference","blockquote","list"]],["list",require("./rules_block/list"),["paragraph","reference","blockquote"]],["reference",require("./rules_block/reference")],["heading",require("./rules_block/heading"),["paragraph","reference","blockquote"]],["lheading",require("./rules_block/lheading")],["html_block",require("./rules_block/html_block"),["paragraph","reference","blockquote"]],["table",require("./rules_block/table"),["paragraph","reference"]],["paragraph",require("./rules_block/paragraph")]];ParserBlock.prototype.tokenize=function(e,r,l){for(var t,i,o=this.ruler.getRules(""),a=o.length,u=r,s=!1,c=e.md.options.maxNesting;u<l&&(e.line=u=e.skipEmptyLines(u),!(u>=l))&&!(e.tShift[u]<e.blkIndent);){if(e.level>=c){e.line=l;break}for(i=0;i<a&&!(t=o[i](e,u,l,!1));i++);if(e.tight=!s,e.isEmpty(e.line-1)&&(s=!0),u=e.line,u<l&&e.isEmpty(u)){if(s=!0,u++,u<l&&"list"===e.parentType&&e.isEmpty(u))break;e.line=u}}},ParserBlock.prototype.parse=function(e,r,l,t){var i;return e?(i=new this.State(e,r,l,t),void this.tokenize(i,i.line,i.lineMax)):[]},ParserBlock.prototype.State=require("./rules_block/state_block"),module.exports=ParserBlock;
},{"./ruler":92,"./rules_block/blockquote":93,"./rules_block/code":94,"./rules_block/fence":95,"./rules_block/heading":96,"./rules_block/hr":97,"./rules_block/html_block":98,"./rules_block/lheading":99,"./rules_block/list":100,"./rules_block/paragraph":101,"./rules_block/reference":102,"./rules_block/state_block":103,"./rules_block/table":104}],86:[function(require,module,exports){
"use strict";function Core(){this.ruler=new Ruler;for(var e=0;e<_rules.length;e++)this.ruler.push(_rules[e][0],_rules[e][1])}var Ruler=require("./ruler"),_rules=[["normalize",require("./rules_core/normalize")],["block",require("./rules_core/block")],["inline",require("./rules_core/inline")],["linkify",require("./rules_core/linkify")],["replacements",require("./rules_core/replacements")],["smartquotes",require("./rules_core/smartquotes")]];Core.prototype.process=function(e){var r,u,l;for(l=this.ruler.getRules(""),r=0,u=l.length;r<u;r++)l[r](e)},Core.prototype.State=require("./rules_core/state_core"),module.exports=Core;
},{"./ruler":92,"./rules_core/block":105,"./rules_core/inline":106,"./rules_core/linkify":107,"./rules_core/normalize":108,"./rules_core/replacements":109,"./rules_core/smartquotes":110,"./rules_core/state_core":111}],87:[function(require,module,exports){
"use strict";function ParserInline(){this.ruler=new Ruler;for(var e=0;e<_rules.length;e++)this.ruler.push(_rules[e][0],_rules[e][1])}var Ruler=require("./ruler"),_rules=[["text",require("./rules_inline/text")],["newline",require("./rules_inline/newline")],["escape",require("./rules_inline/escape")],["backticks",require("./rules_inline/backticks")],["strikethrough",require("./rules_inline/strikethrough")],["emphasis",require("./rules_inline/emphasis")],["link",require("./rules_inline/link")],["image",require("./rules_inline/image")],["autolink",require("./rules_inline/autolink")],["html_inline",require("./rules_inline/html_inline")],["entity",require("./rules_inline/entity")]];ParserInline.prototype.skipToken=function(e){var i,r=e.pos,n=this.ruler.getRules(""),l=n.length,s=e.md.options.maxNesting,t=e.cache;if("undefined"!=typeof t[r])return void(e.pos=t[r]);if(e.level<s)for(i=0;i<l;i++)if(n[i](e,!0))return void(t[r]=e.pos);e.pos++,t[r]=e.pos},ParserInline.prototype.tokenize=function(e){for(var i,r,n=this.ruler.getRules(""),l=n.length,s=e.posMax,t=e.md.options.maxNesting;e.pos<s;){if(e.level<t)for(r=0;r<l&&!(i=n[r](e,!1));r++);if(i){if(e.pos>=s)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},ParserInline.prototype.parse=function(e,i,r,n){var l=new this.State(e,i,r,n);this.tokenize(l)},ParserInline.prototype.State=require("./rules_inline/state_inline"),module.exports=ParserInline;
},{"./ruler":92,"./rules_inline/autolink":112,"./rules_inline/backticks":113,"./rules_inline/emphasis":114,"./rules_inline/entity":115,"./rules_inline/escape":116,"./rules_inline/html_inline":117,"./rules_inline/image":118,"./rules_inline/link":119,"./rules_inline/newline":120,"./rules_inline/state_inline":121,"./rules_inline/strikethrough":122,"./rules_inline/text":123}],88:[function(require,module,exports){
"use strict";module.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"]}}};
},{}],89:[function(require,module,exports){
"use strict";module.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{},block:{},inline:{}}};
},{}],90:[function(require,module,exports){
"use strict";module.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"]}}};
},{}],91:[function(require,module,exports){
"use strict";function Renderer(){this.rules=assign({},default_rules)}var assign=require("./common/utils").assign,unescapeAll=require("./common/utils").unescapeAll,escapeHtml=require("./common/utils").escapeHtml,default_rules={};default_rules.code_inline=function(e,t){return"<code>"+escapeHtml(e[t].content)+"</code>"},default_rules.code_block=function(e,t){return"<pre><code>"+escapeHtml(e[t].content)+"</code></pre>\n"},default_rules.fence=function(e,t,n,r,l){var i,s=e[t],u=s.info?unescapeAll(s.info).trim():"",o="";return u&&(o=u.split(/\s+/g)[0],s.attrPush(["class",n.langPrefix+o])),i=n.highlight?n.highlight(s.content,o)||escapeHtml(s.content):escapeHtml(s.content),"<pre><code"+l.renderAttrs(s)+">"+i+"</code></pre>\n"},default_rules.image=function(e,t,n,r,l){var i=e[t];return i.attrs[i.attrIndex("alt")][1]=l.renderInlineAsText(i.children,n,r),l.renderToken(e,t,n)},default_rules.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},default_rules.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},default_rules.text=function(e,t){return escapeHtml(e[t].content)},default_rules.html_block=function(e,t){return e[t].content},default_rules.html_inline=function(e,t){return e[t].content},Renderer.prototype.renderAttrs=function(e){var t,n,r;if(!e.attrs)return"";for(r="",t=0,n=e.attrs.length;t<n;t++)r+=" "+escapeHtml(e.attrs[t][0])+'="'+escapeHtml(e.attrs[t][1])+'"';return r},Renderer.prototype.renderToken=function(e,t,n){var r,l="",i=!1,s=e[t];return s.hidden?"":(s.block&&s.nesting!==-1&&t&&e[t-1].hidden&&(l+="\n"),l+=(s.nesting===-1?"</":"<")+s.tag,l+=this.renderAttrs(s),0===s.nesting&&n.xhtmlOut&&(l+=" /"),s.block&&(i=!0,1===s.nesting&&t+1<e.length&&(r=e[t+1],"inline"===r.type||r.hidden?i=!1:r.nesting===-1&&r.tag===s.tag&&(i=!1))),l+=i?">\n":">")},Renderer.prototype.renderInline=function(e,t,n){for(var r,l="",i=this.rules,s=0,u=e.length;s<u;s++)r=e[s].type,l+="undefined"!=typeof i[r]?i[r](e,s,t,n,this):this.renderToken(e,s,t);return l},Renderer.prototype.renderInlineAsText=function(e,t,n){for(var r="",l=this.rules,i=0,s=e.length;i<s;i++)"text"===e[i].type?r+=l.text(e,i,t,n,this):"image"===e[i].type&&(r+=this.renderInlineAsText(e[i].children,t,n));return r},Renderer.prototype.render=function(e,t,n){var r,l,i,s="",u=this.rules;for(r=0,l=e.length;r<l;r++)i=e[r].type,s+="inline"===i?this.renderInline(e[r].children,t,n):"undefined"!=typeof u[i]?u[e[r].type](e,r,t,n,this):this.renderToken(e,r,t,n);return s},module.exports=Renderer;
},{"./common/utils":79}],92:[function(require,module,exports){
"use strict";function Ruler(){this.__rules__=[],this.__cache__=null}Ruler.prototype.__find__=function(_){for(var r=0;r<this.__rules__.length;r++)if(this.__rules__[r].name===_)return r;return-1},Ruler.prototype.__compile__=function(){var _=this,r=[""];_.__rules__.forEach(function(_){_.enabled&&_.alt.forEach(function(_){r.indexOf(_)<0&&r.push(_)})}),_.__cache__={},r.forEach(function(r){_.__cache__[r]=[],_.__rules__.forEach(function(e){e.enabled&&(r&&e.alt.indexOf(r)<0||_.__cache__[r].push(e.fn))})})},Ruler.prototype.at=function(_,r,e){var t=this.__find__(_),n=e||{};if(t===-1)throw new Error("Parser rule not found: "+_);this.__rules__[t].fn=r,this.__rules__[t].alt=n.alt||[],this.__cache__=null},Ruler.prototype.before=function(_,r,e,t){var n=this.__find__(_),l=t||{};if(n===-1)throw new Error("Parser rule not found: "+_);this.__rules__.splice(n,0,{name:r,enabled:!0,fn:e,alt:l.alt||[]}),this.__cache__=null},Ruler.prototype.after=function(_,r,e,t){var n=this.__find__(_),l=t||{};if(n===-1)throw new Error("Parser rule not found: "+_);this.__rules__.splice(n+1,0,{name:r,enabled:!0,fn:e,alt:l.alt||[]}),this.__cache__=null},Ruler.prototype.push=function(_,r,e){var t=e||{};this.__rules__.push({name:_,enabled:!0,fn:r,alt:t.alt||[]}),this.__cache__=null},Ruler.prototype.enable=function(_,r){Array.isArray(_)||(_=[_]);var e=[];return _.forEach(function(_){var t=this.__find__(_);if(t<0){if(r)return;throw new Error("Rules manager: invalid rule name "+_)}this.__rules__[t].enabled=!0,e.push(_)},this),this.__cache__=null,e},Ruler.prototype.enableOnly=function(_,r){Array.isArray(_)||(_=[_]),this.__rules__.forEach(function(_){_.enabled=!1}),this.enable(_,r)},Ruler.prototype.disable=function(_,r){Array.isArray(_)||(_=[_]);var e=[];return _.forEach(function(_){var t=this.__find__(_);if(t<0){if(r)return;throw new Error("Rules manager: invalid rule name "+_)}this.__rules__[t].enabled=!1,e.push(_)},this),this.__cache__=null,e},Ruler.prototype.getRules=function(_){return null===this.__cache__&&this.__compile__(),this.__cache__[_]||[]},module.exports=Ruler;
},{}],93:[function(require,module,exports){
"use strict";module.exports=function(t,e,r,s){var k,a,o,b,h,i,u,c,p,f,l,n,M=t.bMarks[e]+t.tShift[e],S=t.eMarks[e];if(62!==t.src.charCodeAt(M++))return!1;if(s)return!0;for(32===t.src.charCodeAt(M)&&M++,h=t.blkIndent,t.blkIndent=0,b=[t.bMarks[e]],t.bMarks[e]=M,M=M<S?t.skipSpaces(M):M,a=M>=S,o=[t.tShift[e]],t.tShift[e]=M-t.bMarks[e],c=t.md.block.ruler.getRules("blockquote"),k=e+1;k<r&&!(t.tShift[k]<h)&&(M=t.bMarks[k]+t.tShift[k],S=t.eMarks[k],!(M>=S));k++)if(62!==t.src.charCodeAt(M++)){if(a)break;for(n=!1,f=0,l=c.length;f<l;f++)if(c[f](t,k,r,!0)){n=!0;break}if(n)break;b.push(t.bMarks[k]),o.push(t.tShift[k]),t.tShift[k]=-1}else 32===t.src.charCodeAt(M)&&M++,b.push(t.bMarks[k]),t.bMarks[k]=M,M=M<S?t.skipSpaces(M):M,a=M>=S,o.push(t.tShift[k]),t.tShift[k]=M-t.bMarks[k];for(i=t.parentType,t.parentType="blockquote",p=t.push("blockquote_open","blockquote",1),p.markup=">",p.map=u=[e,0],t.md.block.tokenize(t,e,k),p=t.push("blockquote_close","blockquote",-1),p.markup=">",t.parentType=i,u[1]=t.line,f=0;f<o.length;f++)t.bMarks[f+e]=b[f],t.tShift[f+e]=o[f];return t.blkIndent=h,!0};
},{}],94:[function(require,module,exports){
"use strict";module.exports=function(e,t,n){var i,r,l;if(e.tShift[t]-e.blkIndent<4)return!1;for(r=i=t+1;i<n;)if(e.isEmpty(i))i++;else{if(!(e.tShift[i]-e.blkIndent>=4))break;i++,r=i}return e.line=i,l=e.push("code_block","code",0),l.content=e.getLines(t,r,4+e.blkIndent,!0),l.map=[t,e.line],!0};
},{}],95:[function(require,module,exports){
"use strict";module.exports=function(r,e,t,i){var s,n,f,c,a,k,u,h=!1,o=r.bMarks[e]+r.tShift[e],p=r.eMarks[e];if(o+3>p)return!1;if(s=r.src.charCodeAt(o),126!==s&&96!==s)return!1;if(a=o,o=r.skipChars(o,s),n=o-a,n<3)return!1;if(u=r.src.slice(a,o),f=r.src.slice(o,p),f.indexOf("`")>=0)return!1;if(i)return!0;for(c=e;(c++,!(c>=t))&&(o=a=r.bMarks[c]+r.tShift[c],p=r.eMarks[c],!(o<p&&r.tShift[c]<r.blkIndent));)if(r.src.charCodeAt(o)===s&&!(r.tShift[c]-r.blkIndent>=4||(o=r.skipChars(o,s),o-a<n||(o=r.skipSpaces(o),o<p)))){h=!0;break}return n=r.tShift[e],r.line=c+(h?1:0),k=r.push("fence","code",0),k.info=f,k.content=r.getLines(e+1,c,n,!0),k.markup=u,k.map=[e,r.line],!0};
},{}],96:[function(require,module,exports){
"use strict";module.exports=function(r,e,s,i){var c,a,n,t,h=r.bMarks[e]+r.tShift[e],o=r.eMarks[e];if(c=r.src.charCodeAt(h),35!==c||h>=o)return!1;for(a=1,c=r.src.charCodeAt(++h);35===c&&h<o&&a<=6;)a++,c=r.src.charCodeAt(++h);return!(a>6||h<o&&32!==c)&&(!!i||(o=r.skipCharsBack(o,32,h),n=r.skipCharsBack(o,35,h),n>h&&32===r.src.charCodeAt(n-1)&&(o=n),r.line=e+1,t=r.push("heading_open","h"+String(a),1),t.markup="########".slice(0,a),t.map=[e,r.line],t=r.push("inline","",0),t.content=r.src.slice(h,o).trim(),t.map=[e,r.line],t.children=[],t=r.push("heading_close","h"+String(a),-1),t.markup="########".slice(0,a),!0))};
},{}],97:[function(require,module,exports){
"use strict";module.exports=function(r,e,t,a){var i,n,o,s,u=r.bMarks[e]+r.tShift[e],h=r.eMarks[e];if(i=r.src.charCodeAt(u++),42!==i&&45!==i&&95!==i)return!1;for(n=1;u<h;){if(o=r.src.charCodeAt(u++),o!==i&&32!==o)return!1;o===i&&n++}return!(n<3)&&(!!a||(r.line=e+1,s=r.push("hr","hr",0),s.map=[e,r.line],s.markup=Array(n+1).join(String.fromCharCode(i)),!0))};
},{}],98:[function(require,module,exports){
"use strict";var block_names=require("../common/html_blocks"),HTML_OPEN_CLOSE_TAG_RE=require("../common/html_re").HTML_OPEN_CLOSE_TAG_RE,HTML_SEQUENCES=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+block_names.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(HTML_OPEN_CLOSE_TAG_RE.source+"\\s*$"),/^$/,!1]];module.exports=function(e,t,r,E){var s,n,i,_,S=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(S))return!1;for(_=e.src.slice(S,l),s=0;s<HTML_SEQUENCES.length&&!HTML_SEQUENCES[s][0].test(_);s++);if(s===HTML_SEQUENCES.length)return!1;if(E)return HTML_SEQUENCES[s][2];if(n=t+1,!HTML_SEQUENCES[s][1].test(_))for(;n<r&&!(e.tShift[n]<e.blkIndent);n++)if(S=e.bMarks[n]+e.tShift[n],l=e.eMarks[n],_=e.src.slice(S,l),HTML_SEQUENCES[s][1].test(_)){0!==_.length&&n++;break}return e.line=n,i=e.push("html_block","",0),i.map=[t,n],i.content=e.getLines(t,n,e.blkIndent,!0),!0};
},{"../common/html_blocks":76,"../common/html_re":77}],99:[function(require,module,exports){
"use strict";module.exports=function(r,e,t){var i,n,s,a,h,p=e+1;return!(p>=t)&&(!(r.tShift[p]<r.blkIndent)&&(!(r.tShift[p]-r.blkIndent>3)&&(n=r.bMarks[p]+r.tShift[p],s=r.eMarks[p],!(n>=s)&&(i=r.src.charCodeAt(n),(45===i||61===i)&&(n=r.skipChars(n,i),n=r.skipSpaces(n),!(n<s)&&(n=r.bMarks[e]+r.tShift[e],r.line=p+1,h=61===i?1:2,a=r.push("heading_open","h"+String(h),1),a.markup=String.fromCharCode(i),a.map=[e,r.line],a=r.push("inline","",0),a.content=r.src.slice(n,r.eMarks[e]).trim(),a.map=[e,r.line-1],a.children=[],a=r.push("heading_close","h"+String(h),-1),a.markup=String.fromCharCode(i),!0))))))};
},{}],100:[function(require,module,exports){
"use strict";function skipBulletListMarker(r,e){var t,i,s;return i=r.bMarks[e]+r.tShift[e],s=r.eMarks[e],t=r.src.charCodeAt(i++),42!==t&&45!==t&&43!==t?-1:i<s&&32!==r.src.charCodeAt(i)?-1:i}function skipOrderedListMarker(r,e){var t,i=r.bMarks[e]+r.tShift[e],s=i,a=r.eMarks[e];if(s+1>=a)return-1;if(t=r.src.charCodeAt(s++),t<48||t>57)return-1;for(;;){if(s>=a)return-1;t=r.src.charCodeAt(s++);{if(!(t>=48&&t<=57)){if(41===t||46===t)break;return-1}if(s-i>=10)return-1}}return s<a&&32!==r.src.charCodeAt(s)?-1:s}function markTightParagraphs(r,e){var t,i,s=r.level+2;for(t=e+2,i=r.tokens.length-2;t<i;t++)r.tokens[t].level===s&&"paragraph_open"===r.tokens[t].type&&(r.tokens[t+2].hidden=!0,r.tokens[t].hidden=!0,t+=2)}module.exports=function(r,e,t,i){var s,a,n,l,k,o,h,p,u,f,d,c,b,m,g,C,M,_,S,A,v,y,L,T=!0;if((p=skipOrderedListMarker(r,e))>=0)b=!0;else{if(!((p=skipBulletListMarker(r,e))>=0))return!1;b=!1}if(c=r.src.charCodeAt(p-1),i)return!0;for(g=r.tokens.length,b?(h=r.bMarks[e]+r.tShift[e],d=Number(r.src.substr(h,p-h-1)),A=r.push("ordered_list_open","ol",1),1!==d&&(A.attrs=[["start",d]])):A=r.push("bullet_list_open","ul",1),A.map=M=[e,0],A.markup=String.fromCharCode(c),s=e,C=!1,S=r.md.block.ruler.getRules("list");!(!(s<t)||(m=r.skipSpaces(p),u=r.eMarks[s],f=m>=u?1:m-p,f>4&&(f=1),a=p-r.bMarks[s]+f,A=r.push("list_item_open","li",1),A.markup=String.fromCharCode(c),A.map=_=[e,0],l=r.blkIndent,k=r.tight,n=r.tShift[e],o=r.parentType,r.tShift[e]=m-r.bMarks[e],r.blkIndent=a,r.tight=!0,r.parentType="list",r.md.block.tokenize(r,e,t,!0),r.tight&&!C||(T=!1),C=r.line-e>1&&r.isEmpty(r.line-1),r.blkIndent=l,r.tShift[e]=n,r.tight=k,r.parentType=o,A=r.push("list_item_close","li",-1),A.markup=String.fromCharCode(c),s=e=r.line,_[1]=s,m=r.bMarks[e],s>=t)||r.isEmpty(s)||r.tShift[s]<r.blkIndent);){for(L=!1,v=0,y=S.length;v<y;v++)if(S[v](r,s,t,!0)){L=!0;break}if(L)break;if(b){if(p=skipOrderedListMarker(r,s),p<0)break}else if(p=skipBulletListMarker(r,s),p<0)break;if(c!==r.src.charCodeAt(p-1))break}return A=b?r.push("ordered_list_close","ol",-1):r.push("bullet_list_close","ul",-1),A.markup=String.fromCharCode(c),M[1]=s,r.line=s,T&&markTightParagraphs(r,g),!0};
},{}],101:[function(require,module,exports){
"use strict";module.exports=function(e,n){for(var r,t,i,p,a,l=n+1,h=e.md.block.ruler.getRules("paragraph"),s=e.lineMax;l<s&&!e.isEmpty(l);l++)if(!(e.tShift[l]-e.blkIndent>3||e.tShift[l]<0)){for(t=!1,i=0,p=h.length;i<p;i++)if(h[i](e,l,s,!0)){t=!0;break}if(t)break}return r=e.getLines(n,l,e.blkIndent,!1).trim(),e.line=l,a=e.push("paragraph_open","p",1),a.map=[n,e.line],a=e.push("inline","",0),a.content=r,a.map=[n,e.line],a.children=[],a=e.push("paragraph_close","p",-1),!0};
},{}],102:[function(require,module,exports){
"use strict";var parseLinkDestination=require("../helpers/parse_link_destination"),parseLinkTitle=require("../helpers/parse_link_title"),normalizeReference=require("../common/utils").normalizeReference;module.exports=function(e,r,i,t){var n,f,o,a,s,c,l,d,h,k,u,p,A,C,m,b=0,v=e.bMarks[r]+e.tShift[r],L=e.eMarks[r],g=r+1;if(91!==e.src.charCodeAt(v))return!1;for(;++v<L;)if(93===e.src.charCodeAt(v)&&92!==e.src.charCodeAt(v-1)){if(v+1===L)return!1;if(58!==e.src.charCodeAt(v+1))return!1;break}for(a=e.lineMax,C=e.md.block.ruler.getRules("reference");g<a&&!e.isEmpty(g);g++)if(!(e.tShift[g]-e.blkIndent>3||e.tShift[g]<0)){for(A=!1,c=0,l=C.length;c<l;c++)if(C[c](e,g,a,!0)){A=!0;break}if(A)break}for(p=e.getLines(r,g,e.blkIndent,!1).trim(),L=p.length,v=1;v<L;v++){if(n=p.charCodeAt(v),91===n)return!1;if(93===n){h=v;break}10===n?b++:92===n&&(v++,v<L&&10===p.charCodeAt(v)&&b++)}if(h<0||58!==p.charCodeAt(h+1))return!1;for(v=h+2;v<L;v++)if(n=p.charCodeAt(v),10===n)b++;else if(32!==n)break;if(k=parseLinkDestination(p,v,L),!k.ok)return!1;if(s=e.md.normalizeLink(k.str),!e.md.validateLink(s))return!1;for(v=k.pos,b+=k.lines,f=v,o=b,u=v;v<L;v++)if(n=p.charCodeAt(v),10===n)b++;else if(32!==n)break;for(k=parseLinkTitle(p,v,L),v<L&&u!==v&&k.ok?(m=k.str,v=k.pos,b+=k.lines):(m="",v=f,b=o);v<L&&32===p.charCodeAt(v);)v++;if(v<L&&10!==p.charCodeAt(v)&&m)for(m="",v=f,b=o;v<L&&32===p.charCodeAt(v);)v++;return!(v<L&&10!==p.charCodeAt(v))&&(!!(d=normalizeReference(p.slice(1,h)))&&(!!t||("undefined"==typeof e.env.references&&(e.env.references={}),"undefined"==typeof e.env.references[d]&&(e.env.references[d]={title:m,href:s}),e.line=r+b+1,!0)))};
},{"../common/utils":79,"../helpers/parse_link_destination":81,"../helpers/parse_link_title":83}],103:[function(require,module,exports){
"use strict";function StateBlock(t,s,i,e){var r,h,n,o,a,k,c;for(this.src=t,this.md=s,this.env=i,this.tokens=e,this.bMarks=[],this.eMarks=[],this.tShift=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.parentType="root",this.ddIndent=-1,this.level=0,this.result="",h=this.src,k=0,c=!1,n=o=k=0,a=h.length;o<a;o++){if(r=h.charCodeAt(o),!c){if(32===r){k++;continue}c=!0}10!==r&&o!==a-1||(10!==r&&o++,this.bMarks.push(n),this.eMarks.push(o),this.tShift.push(k),c=!1,k=0,n=o+1)}this.bMarks.push(h.length),this.eMarks.push(h.length),this.tShift.push(0),this.lineMax=this.bMarks.length-1}var Token=require("../token");StateBlock.prototype.push=function(t,s,i){var e=new Token(t,s,i);return e.block=!0,i<0&&this.level--,e.level=this.level,i>0&&this.level++,this.tokens.push(e),e},StateBlock.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]},StateBlock.prototype.skipEmptyLines=function(t){for(var s=this.lineMax;t<s&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t},StateBlock.prototype.skipSpaces=function(t){for(var s=this.src.length;t<s&&32===this.src.charCodeAt(t);t++);return t},StateBlock.prototype.skipChars=function(t,s){for(var i=this.src.length;t<i&&this.src.charCodeAt(t)===s;t++);return t},StateBlock.prototype.skipCharsBack=function(t,s,i){if(t<=i)return t;for(;t>i;)if(s!==this.src.charCodeAt(--t))return t+1;return t},StateBlock.prototype.getLines=function(t,s,i,e){var r,h,n,o,a,k=t;if(t>=s)return"";if(k+1===s)return h=this.bMarks[k]+Math.min(this.tShift[k],i),n=this.eMarks[s-1]+(e?1:0),this.src.slice(h,n);for(o=new Array(s-t),r=0;k<s;k++,r++)a=this.tShift[k],a>i&&(a=i),a<0&&(a=0),h=this.bMarks[k]+a,n=k+1<s||e?this.eMarks[k]+1:this.eMarks[k],o[r]=this.src.slice(h,n);return o.join("")},StateBlock.prototype.Token=Token,module.exports=StateBlock;
},{"../token":124}],104:[function(require,module,exports){
"use strict";function getLine(t,e){var r=t.bMarks[e]+t.blkIndent,n=t.eMarks[e];return t.src.substr(r,n-r)}function escapedSplit(t){var e,r=[],n=0,s=t.length,h=0,i=0,p=!1,u=0;for(e=t.charCodeAt(n);n<s;)96===e&&h%2===0?(p=!p,u=n):124!==e||h%2!==0||p?92===e?h++:h=0:(r.push(t.substring(i,n)),i=n+1),n++,n===s&&p&&(p=!1,n=u+1),e=t.charCodeAt(n);return r.push(t.substring(i)),r}module.exports=function(t,e,r,n){var s,h,i,p,u,l,o,a,c,d,f;if(e+2>r)return!1;if(u=e+1,t.tShift[u]<t.blkIndent)return!1;if(i=t.bMarks[u]+t.tShift[u],i>=t.eMarks[u])return!1;if(s=t.src.charCodeAt(i),124!==s&&45!==s&&58!==s)return!1;if(h=getLine(t,e+1),!/^[-:| ]+$/.test(h))return!1;if(l=h.split("|"),l.length<2)return!1;for(a=[],p=0;p<l.length;p++){if(c=l[p].trim(),!c){if(0===p||p===l.length-1)continue;return!1}if(!/^:?-+:?$/.test(c))return!1;58===c.charCodeAt(c.length-1)?a.push(58===c.charCodeAt(0)?"center":"right"):58===c.charCodeAt(0)?a.push("left"):a.push("")}if(h=getLine(t,e).trim(),h.indexOf("|")===-1)return!1;if(l=escapedSplit(h.replace(/^\||\|$/g,"")),a.length!==l.length)return!1;if(n)return!0;for(o=t.push("table_open","table",1),o.map=d=[e,0],o=t.push("thead_open","thead",1),o.map=[e,e+1],o=t.push("tr_open","tr",1),o.map=[e,e+1],p=0;p<l.length;p++)o=t.push("th_open","th",1),o.map=[e,e+1],a[p]&&(o.attrs=[["style","text-align:"+a[p]]]),o=t.push("inline","",0),o.content=l[p].trim(),o.map=[e,e+1],o.children=[],o=t.push("th_close","th",-1);for(o=t.push("tr_close","tr",-1),o=t.push("thead_close","thead",-1),o=t.push("tbody_open","tbody",1),o.map=f=[e+2,0],u=e+2;u<r&&!(t.tShift[u]<t.blkIndent)&&(h=getLine(t,u).trim(),h.indexOf("|")!==-1);u++){for(l=escapedSplit(h.replace(/^\||\|$/g,"")),l.length=a.length,o=t.push("tr_open","tr",1),p=0;p<l.length;p++)o=t.push("td_open","td",1),a[p]&&(o.attrs=[["style","text-align:"+a[p]]]),o=t.push("inline","",0),o.content=l[p]?l[p].trim():"",o.children=[],o=t.push("td_close","td",-1);o=t.push("tr_close","tr",-1)}return o=t.push("tbody_close","tbody",-1),o=t.push("table_close","table",-1),d[1]=f[1]=u,t.line=u,!0};
},{}],105:[function(require,module,exports){
"use strict";module.exports=function(e){var n;e.inlineMode?(n=new e.Token("inline","",0),n.content=e.src,n.map=[0,1],n.children=[],e.tokens.push(n)):e.md.block.parse(e.src,e.md,e.env,e.tokens)};
},{}],106:[function(require,module,exports){
"use strict";module.exports=function(e){var n,t,i,o=e.tokens;for(t=0,i=o.length;t<i;t++)n=o[t],"inline"===n.type&&e.md.inline.parse(n.content,e.md,e.env,n.children)};
},{}],107:[function(require,module,exports){
"use strict";function isLinkOpen(e){return/^<a[>\s]/i.test(e)}function isLinkClose(e){return/^<\/a\s*>/i.test(e)}var arrayReplaceAt=require("../common/utils").arrayReplaceAt;module.exports=function(e){var n,t,i,l,o,a,r,s,c,k,m,p,f,u,h,d,y,v=e.tokens;if(e.md.options.linkify)for(t=0,i=v.length;t<i;t++)if("inline"===v[t].type&&e.md.linkify.pretest(v[t].content))for(l=v[t].children,f=0,n=l.length-1;n>=0;n--)if(a=l[n],"link_close"!==a.type){if("html_inline"===a.type&&(isLinkOpen(a.content)&&f>0&&f--,isLinkClose(a.content)&&f++),!(f>0)&&"text"===a.type&&e.md.linkify.test(a.content)){for(c=a.content,y=e.md.linkify.match(c),r=[],p=a.level,m=0,s=0;s<y.length;s++)u=y[s].url,h=e.md.normalizeLink(u),e.md.validateLink(h)&&(d=y[s].text,d=y[s].schema?"mailto:"!==y[s].schema||/^mailto:/i.test(d)?e.md.normalizeLinkText(d):e.md.normalizeLinkText("mailto:"+d).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+d).replace(/^http:\/\//,""),k=y[s].index,k>m&&(o=new e.Token("text","",0),o.content=c.slice(m,k),o.level=p,r.push(o)),o=new e.Token("link_open","a",1),o.attrs=[["href",h]],o.level=p++,o.markup="linkify",o.info="auto",r.push(o),o=new e.Token("text","",0),o.content=d,o.level=p,r.push(o),o=new e.Token("link_close","a",-1),o.level=--p,o.markup="linkify",o.info="auto",r.push(o),m=y[s].lastIndex);m<c.length&&(o=new e.Token("text","",0),o.content=c.slice(m),o.level=p,r.push(o)),v[t].children=l=arrayReplaceAt(l,n,r)}}else for(n--;l[n].level!==a.level&&"link_open"!==l[n].type;)n--};
},{"../common/utils":79}],108:[function(require,module,exports){
"use strict";var TABS_SCAN_RE=/[\n\t]/g,NEWLINES_RE=/\r[\n\u0085]|[\u2424\u2028\u0085]/g,NULL_RE=/\u0000/g;module.exports=function(r){var e,c,u;e=r.src.replace(NEWLINES_RE,"\n"),e=e.replace(NULL_RE,""),e.indexOf("\t")>=0&&(c=0,u=0,e=e.replace(TABS_SCAN_RE,function(r,E){var n;return 10===e.charCodeAt(E)?(c=E+1,u=0,r):(n="    ".slice((E-c-u)%4),u=E-c+1,n)})),r.src=e};
},{}],109:[function(require,module,exports){
"use strict";function replaceFn(e,t){return SCOPED_ABBR[t.toLowerCase()]}function replace_scoped(e){var t,n;for(t=e.length-1;t>=0;t--)n=e[t],"text"===n.type&&(n.content=n.content.replace(SCOPED_ABBR_RE,replaceFn))}function replace_rare(e){var t,n;for(t=e.length-1;t>=0;t--)n=e[t],"text"===n.type&&RARE_RE.test(n.content)&&(n.content=n.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1$2").replace(/(^|\s)--(\s|$)/gm,"$1$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1$2"))}var RARE_RE=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,SCOPED_ABBR_TEST_RE=/\((c|tm|r|p)\)/i,SCOPED_ABBR_RE=/\((c|tm|r|p)\)/gi,SCOPED_ABBR={c:"",r:"",p:"",tm:""};module.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(SCOPED_ABBR_TEST_RE.test(e.tokens[t].content)&&replace_scoped(e.tokens[t].children),RARE_RE.test(e.tokens[t].content)&&replace_rare(e.tokens[t].children))};
},{}],110:[function(require,module,exports){
"use strict";function replaceAt(e,t,n){return e.substr(0,t)+n+e.substr(t+1)}function process_inlines(e,t){var n,i,o,s,c,r,l,u,h,p,d,a,g,f,E,m,A,P,T,x,O;for(T=[],n=0;n<e.length;n++){for(i=e[n],l=e[n].level,A=T.length-1;A>=0&&!(T[A].level<=l);A--);if(T.length=A+1,"text"===i.type){o=i.content,c=0,r=o.length;e:for(;c<r&&(QUOTE_RE.lastIndex=c,s=QUOTE_RE.exec(o));)if(E=m=!0,c=s.index+1,P="'"===s[0],h=s.index-1>=0?o.charCodeAt(s.index-1):32,p=c<r?o.charCodeAt(c):32,d=isMdAsciiPunct(h)||isPunctChar(String.fromCharCode(h)),a=isMdAsciiPunct(p)||isPunctChar(String.fromCharCode(p)),g=isWhiteSpace(h),f=isWhiteSpace(p),f?E=!1:a&&(g||d||(E=!1)),g?m=!1:d&&(f||a||(m=!1)),34===p&&'"'===s[0]&&h>=48&&h<=57&&(m=E=!1),E&&m&&(E=!1,m=a),E||m){if(m)for(A=T.length-1;A>=0&&(u=T[A],!(T[A].level<l));A--)if(u.single===P&&T[A].level===l){u=T[A],P?(x=t.md.options.quotes[2],O=t.md.options.quotes[3]):(x=t.md.options.quotes[0],O=t.md.options.quotes[1]),i.content=replaceAt(i.content,s.index,O),e[u.token].content=replaceAt(e[u.token].content,u.pos,x),c+=O.length-1,u.token===n&&(c+=x.length-1),o=i.content,r=o.length,T.length=A;continue e}E?T.push({token:n,pos:s.index,single:P,level:l}):m&&P&&(i.content=replaceAt(i.content,s.index,APOSTROPHE))}else P&&(i.content=replaceAt(i.content,s.index,APOSTROPHE))}}}var isWhiteSpace=require("../common/utils").isWhiteSpace,isPunctChar=require("../common/utils").isPunctChar,isMdAsciiPunct=require("../common/utils").isMdAsciiPunct,QUOTE_TEST_RE=/['"]/,QUOTE_RE=/['"]/g,APOSTROPHE="";module.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&QUOTE_TEST_RE.test(e.tokens[t].content)&&process_inlines(e.tokens[t].children,e)};
},{"../common/utils":79}],111:[function(require,module,exports){
"use strict";function StateCore(e,t,o){this.src=e,this.env=o,this.tokens=[],this.inlineMode=!1,this.md=t}var Token=require("../token");StateCore.prototype.Token=Token,module.exports=StateCore;
},{"../token":124}],112:[function(require,module,exports){
"use strict";var url_schemas=require("../common/url_schemas"),EMAIL_RE=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,AUTOLINK_RE=/^<([a-zA-Z.\-]{1,25}):([^<>\x00-\x20]*)>/;module.exports=function(e,a){var t,n,s,i,o,r,l=e.pos;return 60===e.src.charCodeAt(l)&&(t=e.src.slice(l),!(t.indexOf(">")<0)&&(AUTOLINK_RE.test(t)?(n=t.match(AUTOLINK_RE),!(url_schemas.indexOf(n[1].toLowerCase())<0)&&(i=n[0].slice(1,-1),o=e.md.normalizeLink(i),!!e.md.validateLink(o)&&(a||(r=e.push("link_open","a",1),r.attrs=[["href",o]],r=e.push("text","",0),r.content=e.md.normalizeLinkText(i),r=e.push("link_close","a",-1)),e.pos+=n[0].length,!0))):!!EMAIL_RE.test(t)&&(s=t.match(EMAIL_RE),i=s[0].slice(1,-1),o=e.md.normalizeLink("mailto:"+i),!!e.md.validateLink(o)&&(a||(r=e.push("link_open","a",1),r.attrs=[["href",o]],r.markup="autolink",r.info="auto",r=e.push("text","",0),r.content=e.md.normalizeLinkText(i),r=e.push("link_close","a",-1),r.markup="autolink",r.info="auto"),e.pos+=s[0].length,!0))))};
},{"../common/url_schemas":78}],113:[function(require,module,exports){
"use strict";module.exports=function(r,e){var c,o,s,n,t,i,p=r.pos,d=r.src.charCodeAt(p);if(96!==d)return!1;for(c=p,p++,o=r.posMax;p<o&&96===r.src.charCodeAt(p);)p++;for(s=r.src.slice(c,p),n=t=p;(n=r.src.indexOf("`",t))!==-1;){for(t=n+1;t<o&&96===r.src.charCodeAt(t);)t++;if(t-n===s.length)return e||(i=r.push("code_inline","code",0),i.markup=s,i.content=r.src.slice(p,n).replace(/[ \n]+/g," ").trim()),r.pos=t,!0}return e||(r.pending+=s),r.pos+=s.length,!0};
},{}],114:[function(require,module,exports){
"use strict";function scanDelims(r,o){var s,e,i,n,c,t,a,p,u,m=o,h=!0,C=!0,d=r.posMax,f=r.src.charCodeAt(o);for(s=o>0?r.src.charCodeAt(o-1):32;m<d&&r.src.charCodeAt(m)===f;)m++;return i=m-o,e=m<d?r.src.charCodeAt(m):32,a=isMdAsciiPunct(s)||isPunctChar(String.fromCharCode(s)),u=isMdAsciiPunct(e)||isPunctChar(String.fromCharCode(e)),t=isWhiteSpace(s),p=isWhiteSpace(e),p?h=!1:u&&(t||a||(h=!1)),t?C=!1:a&&(p||u||(C=!1)),95===f?(n=h&&(!C||a),c=C&&(!h||u)):(n=h,c=C),{can_open:n,can_close:c,delims:i}}var isWhiteSpace=require("../common/utils").isWhiteSpace,isPunctChar=require("../common/utils").isPunctChar,isMdAsciiPunct=require("../common/utils").isMdAsciiPunct;module.exports=function(r,o){var s,e,i,n,c,t,a,p,u=r.posMax,m=r.pos,h=r.src.charCodeAt(m);if(95!==h&&42!==h)return!1;if(o)return!1;if(a=scanDelims(r,m),s=a.delims,!a.can_open)return r.pos+=s,r.pending+=r.src.slice(m,r.pos),!0;for(r.pos=m+s,t=[s];r.pos<u;)if(r.src.charCodeAt(r.pos)!==h)r.md.inline.skipToken(r);else{if(a=scanDelims(r,r.pos),e=a.delims,a.can_close){for(n=t.pop(),c=e;n!==c;){if(c<n){t.push(n-c);break}if(c-=n,0===t.length)break;r.pos+=n,n=t.pop()}if(0===t.length){s=n,i=!0;break}r.pos+=e;continue}a.can_open&&t.push(e),r.pos+=e}if(!i)return r.pos=m,!1;for(r.posMax=r.pos,r.pos=m+s,e=s;e>1;e-=2)p=r.push("strong_open","strong",1),p.markup=String.fromCharCode(h)+String.fromCharCode(h);for(e%2&&(p=r.push("em_open","em",1),p.markup=String.fromCharCode(h)),r.md.inline.tokenize(r),e%2&&(p=r.push("em_close","em",-1),p.markup=String.fromCharCode(h)),e=s;e>1;e-=2)p=r.push("strong_close","strong",-1),p.markup=String.fromCharCode(h)+String.fromCharCode(h);return r.pos=r.posMax+s,r.posMax=u,!0};
},{"../common/utils":79}],115:[function(require,module,exports){
"use strict";var entities=require("../common/entities"),has=require("../common/utils").has,isValidEntityCode=require("../common/utils").isValidEntityCode,fromCodePoint=require("../common/utils").fromCodePoint,DIGITAL_RE=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,NAMED_RE=/^&([a-z][a-z0-9]{1,31});/i;module.exports=function(e,i){var t,o,r,s=e.pos,n=e.posMax;if(38!==e.src.charCodeAt(s))return!1;if(s+1<n)if(t=e.src.charCodeAt(s+1),35===t){if(r=e.src.slice(s).match(DIGITAL_RE))return i||(o="x"===r[1][0].toLowerCase()?parseInt(r[1].slice(1),16):parseInt(r[1],10),e.pending+=fromCodePoint(isValidEntityCode(o)?o:65533)),e.pos+=r[0].length,!0}else if(r=e.src.slice(s).match(NAMED_RE),r&&has(entities,r[1]))return i||(e.pending+=entities[r[1]]),e.pos+=r[0].length,!0;return i||(e.pending+="&"),e.pos++,!0};
},{"../common/entities":75,"../common/utils":79}],116:[function(require,module,exports){
"use strict";for(var ESCAPED=[],i=0;i<256;i++)ESCAPED.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(r){ESCAPED[r.charCodeAt(0)]=1}),module.exports=function(r,o){var s,e=r.pos,t=r.posMax;if(92!==r.src.charCodeAt(e))return!1;if(e++,e<t){if(s=r.src.charCodeAt(e),s<256&&0!==ESCAPED[s])return o||(r.pending+=r.src[e]),r.pos+=2,!0;if(10===s){for(o||r.push("hardbreak","br",0),e++;e<t&&32===r.src.charCodeAt(e);)e++;return r.pos=e,!0}}return o||(r.pending+="\\"),r.pos++,!0};
},{}],117:[function(require,module,exports){
"use strict";function isLetter(t){var e=32|t;return e>=97&&e<=122}var HTML_TAG_RE=require("../common/html_re").HTML_TAG_RE;module.exports=function(t,e){var r,s,c,n,o=t.pos;return!!t.md.options.html&&(c=t.posMax,!(60!==t.src.charCodeAt(o)||o+2>=c)&&(r=t.src.charCodeAt(o+1),!(33!==r&&63!==r&&47!==r&&!isLetter(r))&&(!!(s=t.src.slice(o).match(HTML_TAG_RE))&&(e||(n=t.push("html_inline","",0),n.content=t.src.slice(o,o+s[0].length)),t.pos+=s[0].length,!0))))};
},{"../common/html_re":77}],118:[function(require,module,exports){
"use strict";var parseLinkLabel=require("../helpers/parse_link_label"),parseLinkDestination=require("../helpers/parse_link_destination"),parseLinkTitle=require("../helpers/parse_link_title"),normalizeReference=require("../common/utils").normalizeReference;module.exports=function(e,r){var s,i,n,t,o,a,c,p,l,f,d,u,h="",k=e.pos,m=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(o=e.pos+2,t=parseLinkLabel(e,e.pos+1,!1),t<0)return!1;if(a=t+1,a<m&&40===e.src.charCodeAt(a)){for(a++;a<m&&(i=e.src.charCodeAt(a),32===i||10===i);a++);if(a>=m)return!1;for(u=a,p=parseLinkDestination(e.src,a,e.posMax),p.ok&&(h=e.md.normalizeLink(p.str),e.md.validateLink(h)?a=p.pos:h=""),u=a;a<m&&(i=e.src.charCodeAt(a),32===i||10===i);a++);if(p=parseLinkTitle(e.src,a,e.posMax),a<m&&u!==a&&p.ok)for(l=p.str,a=p.pos;a<m&&(i=e.src.charCodeAt(a),32===i||10===i);a++);else l="";if(a>=m||41!==e.src.charCodeAt(a))return e.pos=k,!1;a++}else{if("undefined"==typeof e.env.references)return!1;for(;a<m&&(i=e.src.charCodeAt(a),32===i||10===i);a++);if(a<m&&91===e.src.charCodeAt(a)?(u=a+1,a=parseLinkLabel(e,a),a>=0?n=e.src.slice(u,a++):a=t+1):a=t+1,n||(n=e.src.slice(o,t)),c=e.env.references[normalizeReference(n)],!c)return e.pos=k,!1;h=c.href,l=c.title}if(!r){e.pos=o,e.posMax=t;var L=new e.md.inline.State(e.src.slice(o,t),e.md,e.env,d=[]);L.md.inline.tokenize(L),f=e.push("image","img",0),f.attrs=s=[["src",h],["alt",""]],f.children=d,l&&s.push(["title",l])}return e.pos=a,e.posMax=m,!0};
},{"../common/utils":79,"../helpers/parse_link_destination":81,"../helpers/parse_link_label":82,"../helpers/parse_link_title":83}],119:[function(require,module,exports){
"use strict";var parseLinkLabel=require("../helpers/parse_link_label"),parseLinkDestination=require("../helpers/parse_link_destination"),parseLinkTitle=require("../helpers/parse_link_title"),normalizeReference=require("../common/utils").normalizeReference;module.exports=function(e,r){var s,i,n,o,a,t,p,c,l,f,u="",k=e.pos,d=e.posMax,h=e.pos;if(91!==e.src.charCodeAt(e.pos))return!1;if(a=e.pos+1,o=parseLinkLabel(e,e.pos,!0),o<0)return!1;if(t=o+1,t<d&&40===e.src.charCodeAt(t)){for(t++;t<d&&(i=e.src.charCodeAt(t),32===i||10===i);t++);if(t>=d)return!1;for(h=t,p=parseLinkDestination(e.src,t,e.posMax),p.ok&&(u=e.md.normalizeLink(p.str),e.md.validateLink(u)?t=p.pos:u=""),h=t;t<d&&(i=e.src.charCodeAt(t),32===i||10===i);t++);if(p=parseLinkTitle(e.src,t,e.posMax),t<d&&h!==t&&p.ok)for(l=p.str,t=p.pos;t<d&&(i=e.src.charCodeAt(t),32===i||10===i);t++);else l="";if(t>=d||41!==e.src.charCodeAt(t))return e.pos=k,!1;t++}else{if("undefined"==typeof e.env.references)return!1;for(;t<d&&(i=e.src.charCodeAt(t),32===i||10===i);t++);if(t<d&&91===e.src.charCodeAt(t)?(h=t+1,t=parseLinkLabel(e,t),t>=0?n=e.src.slice(h,t++):t=o+1):t=o+1,n||(n=e.src.slice(a,o)),c=e.env.references[normalizeReference(n)],!c)return e.pos=k,!1;u=c.href,l=c.title}return r||(e.pos=a,e.posMax=o,f=e.push("link_open","a",1),f.attrs=s=[["href",u]],l&&s.push(["title",l]),e.md.inline.tokenize(e),f=e.push("link_close","a",-1)),e.pos=t,e.posMax=d,!0};
},{"../common/utils":79,"../helpers/parse_link_destination":81,"../helpers/parse_link_label":82,"../helpers/parse_link_title":83}],120:[function(require,module,exports){
"use strict";module.exports=function(e,r){var n,p,s=e.pos;if(10!==e.src.charCodeAt(s))return!1;for(n=e.pending.length-1,p=e.posMax,r||(n>=0&&32===e.pending.charCodeAt(n)?n>=1&&32===e.pending.charCodeAt(n-1)?(e.pending=e.pending.replace(/ +$/,""),e.push("hardbreak","br",0)):(e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0)):e.push("softbreak","br",0)),s++;s<p&&32===e.src.charCodeAt(s);)s++;return e.pos=s,!0};
},{}],121:[function(require,module,exports){
"use strict";function StateInline(e,t,n,i){this.src=e,this.env=n,this.md=t,this.tokens=i,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={}}var Token=require("../token");StateInline.prototype.pushPending=function(){var e=new Token("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},StateInline.prototype.push=function(e,t,n){this.pending&&this.pushPending();var i=new Token(e,t,n);return n<0&&this.level--,i.level=this.level,n>0&&this.level++,this.pendingLevel=this.level,this.tokens.push(i),i},StateInline.prototype.Token=Token,module.exports=StateInline;
},{"../token":124}],122:[function(require,module,exports){
"use strict";function scanDelims(s,i){var e,o,r,c,n,t,a,p=i,u=!0,h=!0,d=s.posMax,l=s.src.charCodeAt(i);for(e=i>0?s.src.charCodeAt(i-1):32;p<d&&s.src.charCodeAt(p)===l;)p++;return p>=d&&(u=!1),r=p-i,o=p<d?s.src.charCodeAt(p):32,n=isMdAsciiPunct(e)||isPunctChar(String.fromCharCode(e)),a=isMdAsciiPunct(o)||isPunctChar(String.fromCharCode(o)),c=isWhiteSpace(e),t=isWhiteSpace(o),t?u=!1:a&&(c||n||(u=!1)),c?h=!1:n&&(t||a||(h=!1)),{can_open:u,can_close:h,delims:r}}var isWhiteSpace=require("../common/utils").isWhiteSpace,isPunctChar=require("../common/utils").isPunctChar,isMdAsciiPunct=require("../common/utils").isMdAsciiPunct;module.exports=function(s,i){var e,o,r,c,n,t,a,p=s.posMax,u=s.pos,h=s.src.charCodeAt(u);if(126!==h)return!1;if(i)return!1;if(t=scanDelims(s,u),e=t.delims,!t.can_open)return s.pos+=e,s.pending+=s.src.slice(u,s.pos),!0;if(n=Math.floor(e/2),n<=0)return!1;for(s.pos=u+e;s.pos<p;)if(s.src.charCodeAt(s.pos)!==h)s.md.inline.skipToken(s);else{if(t=scanDelims(s,s.pos),o=t.delims,r=Math.floor(o/2),t.can_close){if(r>=n){s.pos+=o-2,c=!0;break}n-=r,s.pos+=o;continue}t.can_open&&(n+=r),s.pos+=o}return c?(s.posMax=s.pos,s.pos=u+2,a=s.push("s_open","s",1),a.markup="~~",s.md.inline.tokenize(s),a=s.push("s_close","s",-1),a.markup="~~",s.pos=s.posMax+2,s.posMax=p,!0):(s.pos=u,!1)};
},{"../common/utils":79}],123:[function(require,module,exports){
"use strict";function isTerminatorChar(s){switch(s){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}module.exports=function(s,e){for(var a=s.pos;a<s.posMax&&!isTerminatorChar(s.src.charCodeAt(a));)a++;return a!==s.pos&&(e||(s.pending+=s.src.slice(s.pos,a)),s.pos=a,!0)};
},{}],124:[function(require,module,exports){
"use strict";function Token(t,s,i){this.type=t,this.tag=s,this.attrs=null,this.map=null,this.nesting=i,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Token.prototype.attrIndex=function(t){var s,i,n;if(!this.attrs)return-1;for(s=this.attrs,i=0,n=s.length;i<n;i++)if(s[i][0]===t)return i;return-1},Token.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]},module.exports=Token;
},{}],125:[function(require,module,exports){
module.exports={"Aacute":"","aacute":"","Abreve":"","abreve":"","ac":"","acd":"","acE":"","Acirc":"","acirc":"","acute":"","Acy":"","acy":"","AElig":"","aelig":"","af":"","Afr":"","afr":"","Agrave":"","agrave":"","alefsym":"","aleph":"","Alpha":"","alpha":"","Amacr":"","amacr":"","amalg":"","amp":"&","AMP":"&","andand":"","And":"","and":"","andd":"","andslope":"","andv":"","ang":"","ange":"","angle":"","angmsdaa":"","angmsdab":"","angmsdac":"","angmsdad":"","angmsdae":"","angmsdaf":"","angmsdag":"","angmsdah":"","angmsd":"","angrt":"","angrtvb":"","angrtvbd":"","angsph":"","angst":"","angzarr":"","Aogon":"","aogon":"","Aopf":"","aopf":"","apacir":"","ap":"","apE":"","ape":"","apid":"","apos":"'","ApplyFunction":"","approx":"","approxeq":"","Aring":"","aring":"","Ascr":"","ascr":"","Assign":"","ast":"*","asymp":"","asympeq":"","Atilde":"","atilde":"","Auml":"","auml":"","awconint":"","awint":"","backcong":"","backepsilon":"","backprime":"","backsim":"","backsimeq":"","Backslash":"","Barv":"","barvee":"","barwed":"","Barwed":"","barwedge":"","bbrk":"","bbrktbrk":"","bcong":"","Bcy":"","bcy":"","bdquo":"","becaus":"","because":"","Because":"","bemptyv":"","bepsi":"","bernou":"","Bernoullis":"","Beta":"","beta":"","beth":"","between":"","Bfr":"","bfr":"","bigcap":"","bigcirc":"","bigcup":"","bigodot":"","bigoplus":"","bigotimes":"","bigsqcup":"","bigstar":"","bigtriangledown":"","bigtriangleup":"","biguplus":"","bigvee":"","bigwedge":"","bkarow":"","blacklozenge":"","blacksquare":"","blacktriangle":"","blacktriangledown":"","blacktriangleleft":"","blacktriangleright":"","blank":"","blk12":"","blk14":"","blk34":"","block":"","bne":"=","bnequiv":"","bNot":"","bnot":"","Bopf":"","bopf":"","bot":"","bottom":"","bowtie":"","boxbox":"","boxdl":"","boxdL":"","boxDl":"","boxDL":"","boxdr":"","boxdR":"","boxDr":"","boxDR":"","boxh":"","boxH":"","boxhd":"","boxHd":"","boxhD":"","boxHD":"","boxhu":"","boxHu":"","boxhU":"","boxHU":"","boxminus":"","boxplus":"","boxtimes":"","boxul":"","boxuL":"","boxUl":"","boxUL":"","boxur":"","boxuR":"","boxUr":"","boxUR":"","boxv":"","boxV":"","boxvh":"","boxvH":"","boxVh":"","boxVH":"","boxvl":"","boxvL":"","boxVl":"","boxVL":"","boxvr":"","boxvR":"","boxVr":"","boxVR":"","bprime":"","breve":"","Breve":"","brvbar":"","bscr":"","Bscr":"","bsemi":"","bsim":"","bsime":"","bsolb":"","bsol":"\\","bsolhsub":"","bull":"","bullet":"","bump":"","bumpE":"","bumpe":"","Bumpeq":"","bumpeq":"","Cacute":"","cacute":"","capand":"","capbrcup":"","capcap":"","cap":"","Cap":"","capcup":"","capdot":"","CapitalDifferentialD":"","caps":"","caret":"","caron":"","Cayleys":"","ccaps":"","Ccaron":"","ccaron":"","Ccedil":"","ccedil":"","Ccirc":"","ccirc":"","Cconint":"","ccups":"","ccupssm":"","Cdot":"","cdot":"","cedil":"","Cedilla":"","cemptyv":"","cent":"","centerdot":"","CenterDot":"","cfr":"","Cfr":"","CHcy":"","chcy":"","check":"","checkmark":"","Chi":"","chi":"","circ":"","circeq":"","circlearrowleft":"","circlearrowright":"","circledast":"","circledcirc":"","circleddash":"","CircleDot":"","circledR":"","circledS":"","CircleMinus":"","CirclePlus":"","CircleTimes":"","cir":"","cirE":"","cire":"","cirfnint":"","cirmid":"","cirscir":"","ClockwiseContourIntegral":"","CloseCurlyDoubleQuote":"","CloseCurlyQuote":"","clubs":"","clubsuit":"","colon":":","Colon":"","Colone":"","colone":"","coloneq":"","comma":",","commat":"@","comp":"","compfn":"","complement":"","complexes":"","cong":"","congdot":"","Congruent":"","conint":"","Conint":"","ContourIntegral":"","copf":"","Copf":"","coprod":"","Coproduct":"","copy":"","COPY":"","copysr":"","CounterClockwiseContourIntegral":"","crarr":"","cross":"","Cross":"","Cscr":"","cscr":"","csub":"","csube":"","csup":"","csupe":"","ctdot":"","cudarrl":"","cudarrr":"","cuepr":"","cuesc":"","cularr":"","cularrp":"","cupbrcap":"","cupcap":"","CupCap":"","cup":"","Cup":"","cupcup":"","cupdot":"","cupor":"","cups":"","curarr":"","curarrm":"","curlyeqprec":"","curlyeqsucc":"","curlyvee":"","curlywedge":"","curren":"","curvearrowleft":"","curvearrowright":"","cuvee":"","cuwed":"","cwconint":"","cwint":"","cylcty":"","dagger":"","Dagger":"","daleth":"","darr":"","Darr":"","dArr":"","dash":"","Dashv":"","dashv":"","dbkarow":"","dblac":"","Dcaron":"","dcaron":"","Dcy":"","dcy":"","ddagger":"","ddarr":"","DD":"","dd":"","DDotrahd":"","ddotseq":"","deg":"","Del":"","Delta":"","delta":"","demptyv":"","dfisht":"","Dfr":"","dfr":"","dHar":"","dharl":"","dharr":"","DiacriticalAcute":"","DiacriticalDot":"","DiacriticalDoubleAcute":"","DiacriticalGrave":"`","DiacriticalTilde":"","diam":"","diamond":"","Diamond":"","diamondsuit":"","diams":"","die":"","DifferentialD":"","digamma":"","disin":"","div":"","divide":"","divideontimes":"","divonx":"","DJcy":"","djcy":"","dlcorn":"","dlcrop":"","dollar":"$","Dopf":"","dopf":"","Dot":"","dot":"","DotDot":"","doteq":"","doteqdot":"","DotEqual":"","dotminus":"","dotplus":"","dotsquare":"","doublebarwedge":"","DoubleContourIntegral":"","DoubleDot":"","DoubleDownArrow":"","DoubleLeftArrow":"","DoubleLeftRightArrow":"","DoubleLeftTee":"","DoubleLongLeftArrow":"","DoubleLongLeftRightArrow":"","DoubleLongRightArrow":"","DoubleRightArrow":"","DoubleRightTee":"","DoubleUpArrow":"","DoubleUpDownArrow":"","DoubleVerticalBar":"","DownArrowBar":"","downarrow":"","DownArrow":"","Downarrow":"","DownArrowUpArrow":"","DownBreve":"","downdownarrows":"","downharpoonleft":"","downharpoonright":"","DownLeftRightVector":"","DownLeftTeeVector":"","DownLeftVectorBar":"","DownLeftVector":"","DownRightTeeVector":"","DownRightVectorBar":"","DownRightVector":"","DownTeeArrow":"","DownTee":"","drbkarow":"","drcorn":"","drcrop":"","Dscr":"","dscr":"","DScy":"","dscy":"","dsol":"","Dstrok":"","dstrok":"","dtdot":"","dtri":"","dtrif":"","duarr":"","duhar":"","dwangle":"","DZcy":"","dzcy":"","dzigrarr":"","Eacute":"","eacute":"","easter":"","Ecaron":"","ecaron":"","Ecirc":"","ecirc":"","ecir":"","ecolon":"","Ecy":"","ecy":"","eDDot":"","Edot":"","edot":"","eDot":"","ee":"","efDot":"","Efr":"","efr":"","eg":"","Egrave":"","egrave":"","egs":"","egsdot":"","el":"","Element":"","elinters":"","ell":"","els":"","elsdot":"","Emacr":"","emacr":"","empty":"","emptyset":"","EmptySmallSquare":"","emptyv":"","EmptyVerySmallSquare":"","emsp13":"","emsp14":"","emsp":"","ENG":"","eng":"","ensp":"","Eogon":"","eogon":"","Eopf":"","eopf":"","epar":"","eparsl":"","eplus":"","epsi":"","Epsilon":"","epsilon":"","epsiv":"","eqcirc":"","eqcolon":"","eqsim":"","eqslantgtr":"","eqslantless":"","Equal":"","equals":"=","EqualTilde":"","equest":"","Equilibrium":"","equiv":"","equivDD":"","eqvparsl":"","erarr":"","erDot":"","escr":"","Escr":"","esdot":"","Esim":"","esim":"","Eta":"","eta":"","ETH":"","eth":"","Euml":"","euml":"","euro":"","excl":"!","exist":"","Exists":"","expectation":"","exponentiale":"","ExponentialE":"","fallingdotseq":"","Fcy":"","fcy":"","female":"","ffilig":"","fflig":"","ffllig":"","Ffr":"","ffr":"","filig":"","FilledSmallSquare":"","FilledVerySmallSquare":"","fjlig":"fj","flat":"","fllig":"","fltns":"","fnof":"","Fopf":"","fopf":"","forall":"","ForAll":"","fork":"","forkv":"","Fouriertrf":"","fpartint":"","frac12":"","frac13":"","frac14":"","frac15":"","frac16":"","frac18":"","frac23":"","frac25":"","frac34":"","frac35":"","frac38":"","frac45":"","frac56":"","frac58":"","frac78":"","frasl":"","frown":"","fscr":"","Fscr":"","gacute":"","Gamma":"","gamma":"","Gammad":"","gammad":"","gap":"","Gbreve":"","gbreve":"","Gcedil":"","Gcirc":"","gcirc":"","Gcy":"","gcy":"","Gdot":"","gdot":"","ge":"","gE":"","gEl":"","gel":"","geq":"","geqq":"","geqslant":"","gescc":"","ges":"","gesdot":"","gesdoto":"","gesdotol":"","gesl":"","gesles":"","Gfr":"","gfr":"","gg":"","Gg":"","ggg":"","gimel":"","GJcy":"","gjcy":"","gla":"","gl":"","glE":"","glj":"","gnap":"","gnapprox":"","gne":"","gnE":"","gneq":"","gneqq":"","gnsim":"","Gopf":"","gopf":"","grave":"`","GreaterEqual":"","GreaterEqualLess":"","GreaterFullEqual":"","GreaterGreater":"","GreaterLess":"","GreaterSlantEqual":"","GreaterTilde":"","Gscr":"","gscr":"","gsim":"","gsime":"","gsiml":"","gtcc":"","gtcir":"","gt":">","GT":">","Gt":"","gtdot":"","gtlPar":"","gtquest":"","gtrapprox":"","gtrarr":"","gtrdot":"","gtreqless":"","gtreqqless":"","gtrless":"","gtrsim":"","gvertneqq":"","gvnE":"","Hacek":"","hairsp":"","half":"","hamilt":"","HARDcy":"","hardcy":"","harrcir":"","harr":"","hArr":"","harrw":"","Hat":"^","hbar":"","Hcirc":"","hcirc":"","hearts":"","heartsuit":"","hellip":"","hercon":"","hfr":"","Hfr":"","HilbertSpace":"","hksearow":"","hkswarow":"","hoarr":"","homtht":"","hookleftarrow":"","hookrightarrow":"","hopf":"","Hopf":"","horbar":"","HorizontalLine":"","hscr":"","Hscr":"","hslash":"","Hstrok":"","hstrok":"","HumpDownHump":"","HumpEqual":"","hybull":"","hyphen":"","Iacute":"","iacute":"","ic":"","Icirc":"","icirc":"","Icy":"","icy":"","Idot":"","IEcy":"","iecy":"","iexcl":"","iff":"","ifr":"","Ifr":"","Igrave":"","igrave":"","ii":"","iiiint":"","iiint":"","iinfin":"","iiota":"","IJlig":"","ijlig":"","Imacr":"","imacr":"","image":"","ImaginaryI":"","imagline":"","imagpart":"","imath":"","Im":"","imof":"","imped":"","Implies":"","incare":"","in":"","infin":"","infintie":"","inodot":"","intcal":"","int":"","Int":"","integers":"","Integral":"","intercal":"","Intersection":"","intlarhk":"","intprod":"","InvisibleComma":"","InvisibleTimes":"","IOcy":"","iocy":"","Iogon":"","iogon":"","Iopf":"","iopf":"","Iota":"","iota":"","iprod":"","iquest":"","iscr":"","Iscr":"","isin":"","isindot":"","isinE":"","isins":"","isinsv":"","isinv":"","it":"","Itilde":"","itilde":"","Iukcy":"","iukcy":"","Iuml":"","iuml":"","Jcirc":"","jcirc":"","Jcy":"","jcy":"","Jfr":"","jfr":"","jmath":"","Jopf":"","jopf":"","Jscr":"","jscr":"","Jsercy":"","jsercy":"","Jukcy":"","jukcy":"","Kappa":"","kappa":"","kappav":"","Kcedil":"","kcedil":"","Kcy":"","kcy":"","Kfr":"","kfr":"","kgreen":"","KHcy":"","khcy":"","KJcy":"","kjcy":"","Kopf":"","kopf":"","Kscr":"","kscr":"","lAarr":"","Lacute":"","lacute":"","laemptyv":"","lagran":"","Lambda":"","lambda":"","lang":"","Lang":"","langd":"","langle":"","lap":"","Laplacetrf":"","laquo":"","larrb":"","larrbfs":"","larr":"","Larr":"","lArr":"","larrfs":"","larrhk":"","larrlp":"","larrpl":"","larrsim":"","larrtl":"","latail":"","lAtail":"","lat":"","late":"","lates":"","lbarr":"","lBarr":"","lbbrk":"","lbrace":"{","lbrack":"[","lbrke":"","lbrksld":"","lbrkslu":"","Lcaron":"","lcaron":"","Lcedil":"","lcedil":"","lceil":"","lcub":"{","Lcy":"","lcy":"","ldca":"","ldquo":"","ldquor":"","ldrdhar":"","ldrushar":"","ldsh":"","le":"","lE":"","LeftAngleBracket":"","LeftArrowBar":"","leftarrow":"","LeftArrow":"","Leftarrow":"","LeftArrowRightArrow":"","leftarrowtail":"","LeftCeiling":"","LeftDoubleBracket":"","LeftDownTeeVector":"","LeftDownVectorBar":"","LeftDownVector":"","LeftFloor":"","leftharpoondown":"","leftharpoonup":"","leftleftarrows":"","leftrightarrow":"","LeftRightArrow":"","Leftrightarrow":"","leftrightarrows":"","leftrightharpoons":"","leftrightsquigarrow":"","LeftRightVector":"","LeftTeeArrow":"","LeftTee":"","LeftTeeVector":"","leftthreetimes":"","LeftTriangleBar":"","LeftTriangle":"","LeftTriangleEqual":"","LeftUpDownVector":"","LeftUpTeeVector":"","LeftUpVectorBar":"","LeftUpVector":"","LeftVectorBar":"","LeftVector":"","lEg":"","leg":"","leq":"","leqq":"","leqslant":"","lescc":"","les":"","lesdot":"","lesdoto":"","lesdotor":"","lesg":"","lesges":"","lessapprox":"","lessdot":"","lesseqgtr":"","lesseqqgtr":"","LessEqualGreater":"","LessFullEqual":"","LessGreater":"","lessgtr":"","LessLess":"","lesssim":"","LessSlantEqual":"","LessTilde":"","lfisht":"","lfloor":"","Lfr":"","lfr":"","lg":"","lgE":"","lHar":"","lhard":"","lharu":"","lharul":"","lhblk":"","LJcy":"","ljcy":"","llarr":"","ll":"","Ll":"","llcorner":"","Lleftarrow":"","llhard":"","lltri":"","Lmidot":"","lmidot":"","lmoustache":"","lmoust":"","lnap":"","lnapprox":"","lne":"","lnE":"","lneq":"","lneqq":"","lnsim":"","loang":"","loarr":"","lobrk":"","longleftarrow":"","LongLeftArrow":"","Longleftarrow":"","longleftrightarrow":"","LongLeftRightArrow":"","Longleftrightarrow":"","longmapsto":"","longrightarrow":"","LongRightArrow":"","Longrightarrow":"","looparrowleft":"","looparrowright":"","lopar":"","Lopf":"","lopf":"","loplus":"","lotimes":"","lowast":"","lowbar":"_","LowerLeftArrow":"","LowerRightArrow":"","loz":"","lozenge":"","lozf":"","lpar":"(","lparlt":"","lrarr":"","lrcorner":"","lrhar":"","lrhard":"","lrm":"","lrtri":"","lsaquo":"","lscr":"","Lscr":"","lsh":"","Lsh":"","lsim":"","lsime":"","lsimg":"","lsqb":"[","lsquo":"","lsquor":"","Lstrok":"","lstrok":"","ltcc":"","ltcir":"","lt":"<","LT":"<","Lt":"","ltdot":"","lthree":"","ltimes":"","ltlarr":"","ltquest":"","ltri":"","ltrie":"","ltrif":"","ltrPar":"","lurdshar":"","luruhar":"","lvertneqq":"","lvnE":"","macr":"","male":"","malt":"","maltese":"","Map":"","map":"","mapsto":"","mapstodown":"","mapstoleft":"","mapstoup":"","marker":"","mcomma":"","Mcy":"","mcy":"","mdash":"","mDDot":"","measuredangle":"","MediumSpace":"","Mellintrf":"","Mfr":"","mfr":"","mho":"","micro":"","midast":"*","midcir":"","mid":"","middot":"","minusb":"","minus":"","minusd":"","minusdu":"","MinusPlus":"","mlcp":"","mldr":"","mnplus":"","models":"","Mopf":"","mopf":"","mp":"","mscr":"","Mscr":"","mstpos":"","Mu":"","mu":"","multimap":"","mumap":"","nabla":"","Nacute":"","nacute":"","nang":"","nap":"","napE":"","napid":"","napos":"","napprox":"","natural":"","naturals":"","natur":"","nbsp":"","nbump":"","nbumpe":"","ncap":"","Ncaron":"","ncaron":"","Ncedil":"","ncedil":"","ncong":"","ncongdot":"","ncup":"","Ncy":"","ncy":"","ndash":"","nearhk":"","nearr":"","neArr":"","nearrow":"","ne":"","nedot":"","NegativeMediumSpace":"","NegativeThickSpace":"","NegativeThinSpace":"","NegativeVeryThinSpace":"","nequiv":"","nesear":"","nesim":"","NestedGreaterGreater":"","NestedLessLess":"","NewLine":"\n","nexist":"","nexists":"","Nfr":"","nfr":"","ngE":"","nge":"","ngeq":"","ngeqq":"","ngeqslant":"","nges":"","nGg":"","ngsim":"","nGt":"","ngt":"","ngtr":"","nGtv":"","nharr":"","nhArr":"","nhpar":"","ni":"","nis":"","nisd":"","niv":"","NJcy":"","njcy":"","nlarr":"","nlArr":"","nldr":"","nlE":"","nle":"","nleftarrow":"","nLeftarrow":"","nleftrightarrow":"","nLeftrightarrow":"","nleq":"","nleqq":"","nleqslant":"","nles":"","nless":"","nLl":"","nlsim":"","nLt":"","nlt":"","nltri":"","nltrie":"","nLtv":"","nmid":"","NoBreak":"","NonBreakingSpace":"","nopf":"","Nopf":"","Not":"","not":"","NotCongruent":"","NotCupCap":"","NotDoubleVerticalBar":"","NotElement":"","NotEqual":"","NotEqualTilde":"","NotExists":"","NotGreater":"","NotGreaterEqual":"","NotGreaterFullEqual":"","NotGreaterGreater":"","NotGreaterLess":"","NotGreaterSlantEqual":"","NotGreaterTilde":"","NotHumpDownHump":"","NotHumpEqual":"","notin":"","notindot":"","notinE":"","notinva":"","notinvb":"","notinvc":"","NotLeftTriangleBar":"","NotLeftTriangle":"","NotLeftTriangleEqual":"","NotLess":"","NotLessEqual":"","NotLessGreater":"","NotLessLess":"","NotLessSlantEqual":"","NotLessTilde":"","NotNestedGreaterGreater":"","NotNestedLessLess":"","notni":"","notniva":"","notnivb":"","notnivc":"","NotPrecedes":"","NotPrecedesEqual":"","NotPrecedesSlantEqual":"","NotReverseElement":"","NotRightTriangleBar":"","NotRightTriangle":"","NotRightTriangleEqual":"","NotSquareSubset":"","NotSquareSubsetEqual":"","NotSquareSuperset":"","NotSquareSupersetEqual":"","NotSubset":"","NotSubsetEqual":"","NotSucceeds":"","NotSucceedsEqual":"","NotSucceedsSlantEqual":"","NotSucceedsTilde":"","NotSuperset":"","NotSupersetEqual":"","NotTilde":"","NotTildeEqual":"","NotTildeFullEqual":"","NotTildeTilde":"","NotVerticalBar":"","nparallel":"","npar":"","nparsl":"","npart":"","npolint":"","npr":"","nprcue":"","nprec":"","npreceq":"","npre":"","nrarrc":"","nrarr":"","nrArr":"","nrarrw":"","nrightarrow":"","nRightarrow":"","nrtri":"","nrtrie":"","nsc":"","nsccue":"","nsce":"","Nscr":"","nscr":"","nshortmid":"","nshortparallel":"","nsim":"","nsime":"","nsimeq":"","nsmid":"","nspar":"","nsqsube":"","nsqsupe":"","nsub":"","nsubE":"","nsube":"","nsubset":"","nsubseteq":"","nsubseteqq":"","nsucc":"","nsucceq":"","nsup":"","nsupE":"","nsupe":"","nsupset":"","nsupseteq":"","nsupseteqq":"","ntgl":"","Ntilde":"","ntilde":"","ntlg":"","ntriangleleft":"","ntrianglelefteq":"","ntriangleright":"","ntrianglerighteq":"","Nu":"","nu":"","num":"#","numero":"","numsp":"","nvap":"","nvdash":"","nvDash":"","nVdash":"","nVDash":"","nvge":"","nvgt":">","nvHarr":"","nvinfin":"","nvlArr":"","nvle":"","nvlt":"<","nvltrie":"","nvrArr":"","nvrtrie":"","nvsim":"","nwarhk":"","nwarr":"","nwArr":"","nwarrow":"","nwnear":"","Oacute":"","oacute":"","oast":"","Ocirc":"","ocirc":"","ocir":"","Ocy":"","ocy":"","odash":"","Odblac":"","odblac":"","odiv":"","odot":"","odsold":"","OElig":"","oelig":"","ofcir":"","Ofr":"","ofr":"","ogon":"","Ograve":"","ograve":"","ogt":"","ohbar":"","ohm":"","oint":"","olarr":"","olcir":"","olcross":"","oline":"","olt":"","Omacr":"","omacr":"","Omega":"","omega":"","Omicron":"","omicron":"","omid":"","ominus":"","Oopf":"","oopf":"","opar":"","OpenCurlyDoubleQuote":"","OpenCurlyQuote":"","operp":"","oplus":"","orarr":"","Or":"","or":"","ord":"","order":"","orderof":"","ordf":"","ordm":"","origof":"","oror":"","orslope":"","orv":"","oS":"","Oscr":"","oscr":"","Oslash":"","oslash":"","osol":"","Otilde":"","otilde":"","otimesas":"","Otimes":"","otimes":"","Ouml":"","ouml":"","ovbar":"","OverBar":"","OverBrace":"","OverBracket":"","OverParenthesis":"","para":"","parallel":"","par":"","parsim":"","parsl":"","part":"","PartialD":"","Pcy":"","pcy":"","percnt":"%","period":".","permil":"","perp":"","pertenk":"","Pfr":"","pfr":"","Phi":"","phi":"","phiv":"","phmmat":"","phone":"","Pi":"","pi":"","pitchfork":"","piv":"","planck":"","planckh":"","plankv":"","plusacir":"","plusb":"","pluscir":"","plus":"+","plusdo":"","plusdu":"","pluse":"","PlusMinus":"","plusmn":"","plussim":"","plustwo":"","pm":"","Poincareplane":"","pointint":"","popf":"","Popf":"","pound":"","prap":"","Pr":"","pr":"","prcue":"","precapprox":"","prec":"","preccurlyeq":"","Precedes":"","PrecedesEqual":"","PrecedesSlantEqual":"","PrecedesTilde":"","preceq":"","precnapprox":"","precneqq":"","precnsim":"","pre":"","prE":"","precsim":"","prime":"","Prime":"","primes":"","prnap":"","prnE":"","prnsim":"","prod":"","Product":"","profalar":"","profline":"","profsurf":"","prop":"","Proportional":"","Proportion":"","propto":"","prsim":"","prurel":"","Pscr":"","pscr":"","Psi":"","psi":"","puncsp":"","Qfr":"","qfr":"","qint":"","qopf":"","Qopf":"","qprime":"","Qscr":"","qscr":"","quaternions":"","quatint":"","quest":"?","questeq":"","quot":"\"","QUOT":"\"","rAarr":"","race":"","Racute":"","racute":"","radic":"","raemptyv":"","rang":"","Rang":"","rangd":"","range":"","rangle":"","raquo":"","rarrap":"","rarrb":"","rarrbfs":"","rarrc":"","rarr":"","Rarr":"","rArr":"","rarrfs":"","rarrhk":"","rarrlp":"","rarrpl":"","rarrsim":"","Rarrtl":"","rarrtl":"","rarrw":"","ratail":"","rAtail":"","ratio":"","rationals":"","rbarr":"","rBarr":"","RBarr":"","rbbrk":"","rbrace":"}","rbrack":"]","rbrke":"","rbrksld":"","rbrkslu":"","Rcaron":"","rcaron":"","Rcedil":"","rcedil":"","rceil":"","rcub":"}","Rcy":"","rcy":"","rdca":"","rdldhar":"","rdquo":"","rdquor":"","rdsh":"","real":"","realine":"","realpart":"","reals":"","Re":"","rect":"","reg":"","REG":"","ReverseElement":"","ReverseEquilibrium":"","ReverseUpEquilibrium":"","rfisht":"","rfloor":"","rfr":"","Rfr":"","rHar":"","rhard":"","rharu":"","rharul":"","Rho":"","rho":"","rhov":"","RightAngleBracket":"","RightArrowBar":"","rightarrow":"","RightArrow":"","Rightarrow":"","RightArrowLeftArrow":"","rightarrowtail":"","RightCeiling":"","RightDoubleBracket":"","RightDownTeeVector":"","RightDownVectorBar":"","RightDownVector":"","RightFloor":"","rightharpoondown":"","rightharpoonup":"","rightleftarrows":"","rightleftharpoons":"","rightrightarrows":"","rightsquigarrow":"","RightTeeArrow":"","RightTee":"","RightTeeVector":"","rightthreetimes":"","RightTriangleBar":"","RightTriangle":"","RightTriangleEqual":"","RightUpDownVector":"","RightUpTeeVector":"","RightUpVectorBar":"","RightUpVector":"","RightVectorBar":"","RightVector":"","ring":"","risingdotseq":"","rlarr":"","rlhar":"","rlm":"","rmoustache":"","rmoust":"","rnmid":"","roang":"","roarr":"","robrk":"","ropar":"","ropf":"","Ropf":"","roplus":"","rotimes":"","RoundImplies":"","rpar":")","rpargt":"","rppolint":"","rrarr":"","Rrightarrow":"","rsaquo":"","rscr":"","Rscr":"","rsh":"","Rsh":"","rsqb":"]","rsquo":"","rsquor":"","rthree":"","rtimes":"","rtri":"","rtrie":"","rtrif":"","rtriltri":"","RuleDelayed":"","ruluhar":"","rx":"","Sacute":"","sacute":"","sbquo":"","scap":"","Scaron":"","scaron":"","Sc":"","sc":"","sccue":"","sce":"","scE":"","Scedil":"","scedil":"","Scirc":"","scirc":"","scnap":"","scnE":"","scnsim":"","scpolint":"","scsim":"","Scy":"","scy":"","sdotb":"","sdot":"","sdote":"","searhk":"","searr":"","seArr":"","searrow":"","sect":"","semi":";","seswar":"","setminus":"","setmn":"","sext":"","Sfr":"","sfr":"","sfrown":"","sharp":"","SHCHcy":"","shchcy":"","SHcy":"","shcy":"","ShortDownArrow":"","ShortLeftArrow":"","shortmid":"","shortparallel":"","ShortRightArrow":"","ShortUpArrow":"","shy":"","Sigma":"","sigma":"","sigmaf":"","sigmav":"","sim":"","simdot":"","sime":"","simeq":"","simg":"","simgE":"","siml":"","simlE":"","simne":"","simplus":"","simrarr":"","slarr":"","SmallCircle":"","smallsetminus":"","smashp":"","smeparsl":"","smid":"","smile":"","smt":"","smte":"","smtes":"","SOFTcy":"","softcy":"","solbar":"","solb":"","sol":"/","Sopf":"","sopf":"","spades":"","spadesuit":"","spar":"","sqcap":"","sqcaps":"","sqcup":"","sqcups":"","Sqrt":"","sqsub":"","sqsube":"","sqsubset":"","sqsubseteq":"","sqsup":"","sqsupe":"","sqsupset":"","sqsupseteq":"","square":"","Square":"","SquareIntersection":"","SquareSubset":"","SquareSubsetEqual":"","SquareSuperset":"","SquareSupersetEqual":"","SquareUnion":"","squarf":"","squ":"","squf":"","srarr":"","Sscr":"","sscr":"","ssetmn":"","ssmile":"","sstarf":"","Star":"","star":"","starf":"","straightepsilon":"","straightphi":"","strns":"","sub":"","Sub":"","subdot":"","subE":"","sube":"","subedot":"","submult":"","subnE":"","subne":"","subplus":"","subrarr":"","subset":"","Subset":"","subseteq":"","subseteqq":"","SubsetEqual":"","subsetneq":"","subsetneqq":"","subsim":"","subsub":"","subsup":"","succapprox":"","succ":"","succcurlyeq":"","Succeeds":"","SucceedsEqual":"","SucceedsSlantEqual":"","SucceedsTilde":"","succeq":"","succnapprox":"","succneqq":"","succnsim":"","succsim":"","SuchThat":"","sum":"","Sum":"","sung":"","sup1":"","sup2":"","sup3":"","sup":"","Sup":"","supdot":"","supdsub":"","supE":"","supe":"","supedot":"","Superset":"","SupersetEqual":"","suphsol":"","suphsub":"","suplarr":"","supmult":"","supnE":"","supne":"","supplus":"","supset":"","Supset":"","supseteq":"","supseteqq":"","supsetneq":"","supsetneqq":"","supsim":"","supsub":"","supsup":"","swarhk":"","swarr":"","swArr":"","swarrow":"","swnwar":"","szlig":"","Tab":"\t","target":"","Tau":"","tau":"","tbrk":"","Tcaron":"","tcaron":"","Tcedil":"","tcedil":"","Tcy":"","tcy":"","tdot":"","telrec":"","Tfr":"","tfr":"","there4":"","therefore":"","Therefore":"","Theta":"","theta":"","thetasym":"","thetav":"","thickapprox":"","thicksim":"","ThickSpace":"","ThinSpace":"","thinsp":"","thkap":"","thksim":"","THORN":"","thorn":"","tilde":"","Tilde":"","TildeEqual":"","TildeFullEqual":"","TildeTilde":"","timesbar":"","timesb":"","times":"","timesd":"","tint":"","toea":"","topbot":"","topcir":"","top":"","Topf":"","topf":"","topfork":"","tosa":"","tprime":"","trade":"","TRADE":"","triangle":"","triangledown":"","triangleleft":"","trianglelefteq":"","triangleq":"","triangleright":"","trianglerighteq":"","tridot":"","trie":"","triminus":"","TripleDot":"","triplus":"","trisb":"","tritime":"","trpezium":"","Tscr":"","tscr":"","TScy":"","tscy":"","TSHcy":"","tshcy":"","Tstrok":"","tstrok":"","twixt":"","twoheadleftarrow":"","twoheadrightarrow":"","Uacute":"","uacute":"","uarr":"","Uarr":"","uArr":"","Uarrocir":"","Ubrcy":"","ubrcy":"","Ubreve":"","ubreve":"","Ucirc":"","ucirc":"","Ucy":"","ucy":"","udarr":"","Udblac":"","udblac":"","udhar":"","ufisht":"","Ufr":"","ufr":"","Ugrave":"","ugrave":"","uHar":"","uharl":"","uharr":"","uhblk":"","ulcorn":"","ulcorner":"","ulcrop":"","ultri":"","Umacr":"","umacr":"","uml":"","UnderBar":"_","UnderBrace":"","UnderBracket":"","UnderParenthesis":"","Union":"","UnionPlus":"","Uogon":"","uogon":"","Uopf":"","uopf":"","UpArrowBar":"","uparrow":"","UpArrow":"","Uparrow":"","UpArrowDownArrow":"","updownarrow":"","UpDownArrow":"","Updownarrow":"","UpEquilibrium":"","upharpoonleft":"","upharpoonright":"","uplus":"","UpperLeftArrow":"","UpperRightArrow":"","upsi":"","Upsi":"","upsih":"","Upsilon":"","upsilon":"","UpTeeArrow":"","UpTee":"","upuparrows":"","urcorn":"","urcorner":"","urcrop":"","Uring":"","uring":"","urtri":"","Uscr":"","uscr":"","utdot":"","Utilde":"","utilde":"","utri":"","utrif":"","uuarr":"","Uuml":"","uuml":"","uwangle":"","vangrt":"","varepsilon":"","varkappa":"","varnothing":"","varphi":"","varpi":"","varpropto":"","varr":"","vArr":"","varrho":"","varsigma":"","varsubsetneq":"","varsubsetneqq":"","varsupsetneq":"","varsupsetneqq":"","vartheta":"","vartriangleleft":"","vartriangleright":"","vBar":"","Vbar":"","vBarv":"","Vcy":"","vcy":"","vdash":"","vDash":"","Vdash":"","VDash":"","Vdashl":"","veebar":"","vee":"","Vee":"","veeeq":"","vellip":"","verbar":"|","Verbar":"","vert":"|","Vert":"","VerticalBar":"","VerticalLine":"|","VerticalSeparator":"","VerticalTilde":"","VeryThinSpace":"","Vfr":"","vfr":"","vltri":"","vnsub":"","vnsup":"","Vopf":"","vopf":"","vprop":"","vrtri":"","Vscr":"","vscr":"","vsubnE":"","vsubne":"","vsupnE":"","vsupne":"","Vvdash":"","vzigzag":"","Wcirc":"","wcirc":"","wedbar":"","wedge":"","Wedge":"","wedgeq":"","weierp":"","Wfr":"","wfr":"","Wopf":"","wopf":"","wp":"","wr":"","wreath":"","Wscr":"","wscr":"","xcap":"","xcirc":"","xcup":"","xdtri":"","Xfr":"","xfr":"","xharr":"","xhArr":"","Xi":"","xi":"","xlarr":"","xlArr":"","xmap":"","xnis":"","xodot":"","Xopf":"","xopf":"","xoplus":"","xotime":"","xrarr":"","xrArr":"","Xscr":"","xscr":"","xsqcup":"","xuplus":"","xutri":"","xvee":"","xwedge":"","Yacute":"","yacute":"","YAcy":"","yacy":"","Ycirc":"","ycirc":"","Ycy":"","ycy":"","yen":"","Yfr":"","yfr":"","YIcy":"","yicy":"","Yopf":"","yopf":"","Yscr":"","yscr":"","YUcy":"","yucy":"","yuml":"","Yuml":"","Zacute":"","zacute":"","Zcaron":"","zcaron":"","Zcy":"","zcy":"","Zdot":"","zdot":"","zeetrf":"","ZeroWidthSpace":"","Zeta":"","zeta":"","zfr":"","Zfr":"","ZHcy":"","zhcy":"","zigrarr":"","zopf":"","Zopf":"","Zscr":"","zscr":"","zwj":"","zwnj":""}
},{}],126:[function(require,module,exports){
"use strict";function assign(t){var e=Array.prototype.slice.call(arguments,1);return e.forEach(function(e){e&&Object.keys(e).forEach(function(_){t[_]=e[_]})}),t}function _class(t){return Object.prototype.toString.call(t)}function isString(t){return"[object String]"===_class(t)}function isObject(t){return"[object Object]"===_class(t)}function isRegExp(t){return"[object RegExp]"===_class(t)}function isFunction(t){return"[object Function]"===_class(t)}function escapeRE(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function isOptionsObj(t){return Object.keys(t||{}).reduce(function(t,e){return t||defaultOptions.hasOwnProperty(e)},!1)}function resetScanCache(t){t.__index__=-1,t.__text_cache__=""}function createValidator(t){return function(e,_){var i=e.slice(_);return t.test(i)?i.match(t)[0].length:0}}function createNormalizer(){return function(t,e){e.normalize(t)}}function compile(t){function e(t){return t.replace("%TLDS%",i.src_tlds)}function _(t,e){throw new Error('(LinkifyIt) Invalid schema "'+t+'": '+e)}var i=t.re=assign({},require("./lib/re")),s=t.__tlds__.slice();t.__tlds_replaced__||s.push(tlds_2ch_src_re),s.push(i.src_xn),i.src_tlds=s.join("|"),i.email_fuzzy=RegExp(e(i.tpl_email_fuzzy),"i"),i.link_fuzzy=RegExp(e(i.tpl_link_fuzzy),"i"),i.link_no_ip_fuzzy=RegExp(e(i.tpl_link_no_ip_fuzzy),"i"),i.host_fuzzy_test=RegExp(e(i.tpl_host_fuzzy_test),"i");var n=[];t.__compiled__={},Object.keys(t.__schemas__).forEach(function(e){var i=t.__schemas__[e];if(null!==i){var s={validate:null,link:null};return t.__compiled__[e]=s,isObject(i)?(isRegExp(i.validate)?s.validate=createValidator(i.validate):isFunction(i.validate)?s.validate=i.validate:_(e,i),void(isFunction(i.normalize)?s.normalize=i.normalize:i.normalize?_(e,i):s.normalize=createNormalizer())):isString(i)?void n.push(e):void _(e,i)}}),n.forEach(function(e){t.__compiled__[t.__schemas__[e]]&&(t.__compiled__[e].validate=t.__compiled__[t.__schemas__[e]].validate,t.__compiled__[e].normalize=t.__compiled__[t.__schemas__[e]].normalize)}),t.__compiled__[""]={validate:null,normalize:createNormalizer()};var r=Object.keys(t.__compiled__).filter(function(e){return e.length>0&&t.__compiled__[e]}).map(escapeRE).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+i.src_ZPCc+"))("+r+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+i.src_ZPCc+"))("+r+")","ig"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),resetScanCache(t)}function Match(t,e){var _=t.__index__,i=t.__last_index__,s=t.__text_cache__.slice(_,i);this.schema=t.__schema__.toLowerCase(),this.index=_+e,this.lastIndex=i+e,this.raw=s,this.text=s,this.url=s}function createMatch(t,e){var _=new Match(t,e);return t.__compiled__[_.schema].normalize(_,t),_}function LinkifyIt(t,e){return this instanceof LinkifyIt?(e||isOptionsObj(t)&&(e=t,t={}),this.__opts__=assign({},defaultOptions,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=assign({},defaultSchemas,t),this.__compiled__={},this.__tlds__=tlds_default,this.__tlds_replaced__=!1,this.re={},void compile(this)):new LinkifyIt(t,e)}var defaultOptions={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},defaultSchemas={"http:":{validate:function(t,e,_){var i=t.slice(e);return _.re.http||(_.re.http=new RegExp("^\\/\\/"+_.re.src_auth+_.re.src_host_port_strict+_.re.src_path,"i")),_.re.http.test(i)?i.match(_.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,_){var i=t.slice(e);return _.re.no_http||(_.re.no_http=new RegExp("^"+_.re.src_auth+"(?:localhost|(?:(?:"+_.re.src_domain+")\\.)+"+_.re.src_domain_root+")"+_.re.src_port+_.re.src_host_terminator+_.re.src_path,"i")),_.re.no_http.test(i)?e>=3&&":"===t[e-3]?0:e>=3&&"/"===t[e-3]?0:i.match(_.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,_){var i=t.slice(e);return _.re.mailto||(_.re.mailto=new RegExp("^"+_.re.src_email_name+"@"+_.re.src_host_strict,"i")),_.re.mailto.test(i)?i.match(_.re.mailto)[0].length:0}}},tlds_2ch_src_re="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",tlds_default="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");LinkifyIt.prototype.add=function(t,e){return this.__schemas__[t]=e,compile(this),this},LinkifyIt.prototype.set=function(t){return this.__opts__=assign(this.__opts__,t),this},LinkifyIt.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;var e,_,i,s,n,r,a,c,o;if(this.re.schema_test.test(t))for(a=this.re.schema_search,a.lastIndex=0;null!==(e=a.exec(t));)if(s=this.testSchemaAt(t,e[2],a.lastIndex)){this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+s;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=t.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&null!==(_=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(n=_.index+_[1].length,(this.__index__<0||n<this.__index__)&&(this.__schema__="",this.__index__=n,this.__last_index__=_.index+_[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(o=t.indexOf("@"),o>=0&&null!==(i=t.match(this.re.email_fuzzy))&&(n=i.index+i[1].length,r=i.index+i[0].length,(this.__index__<0||n<this.__index__||n===this.__index__&&r>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=n,this.__last_index__=r))),this.__index__>=0},LinkifyIt.prototype.pretest=function(t){return this.re.pretest.test(t)},LinkifyIt.prototype.testSchemaAt=function(t,e,_){return this.__compiled__[e.toLowerCase()]?this.__compiled__[e.toLowerCase()].validate(t,_,this):0},LinkifyIt.prototype.match=function(t){var e=0,_=[];this.__index__>=0&&this.__text_cache__===t&&(_.push(createMatch(this,e)),e=this.__last_index__);for(var i=e?t.slice(e):t;this.test(i);)_.push(createMatch(this,e)),i=i.slice(this.__last_index__),e+=this.__last_index__;return _.length?_:null},LinkifyIt.prototype.tlds=function(t,e){return t=Array.isArray(t)?t:[t],e?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(t,e,_){return t!==_[e-1]}).reverse(),compile(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,compile(this),this)},LinkifyIt.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),"mailto:"!==t.schema||/^mailto:/i.test(t.url)||(t.url="mailto:"+t.url)},module.exports=LinkifyIt;
},{"./lib/re":127}],127:[function(require,module,exports){
"use strict";var src_Any=exports.src_Any=require("uc.micro/properties/Any/regex").source,src_Cc=exports.src_Cc=require("uc.micro/categories/Cc/regex").source,src_Z=exports.src_Z=require("uc.micro/categories/Z/regex").source,src_P=exports.src_P=require("uc.micro/categories/P/regex").source,src_ZPCc=exports.src_ZPCc=[src_Z,src_P,src_Cc].join("|"),src_ZCc=exports.src_ZCc=[src_Z,src_Cc].join("|"),src_pseudo_letter="(?:(?!>|<|"+src_ZPCc+")"+src_Any+")",src_ip4=exports.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)";exports.src_auth="(?:(?:(?!"+src_ZCc+"|[@/]).)+@)?";var src_port=exports.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",src_host_terminator=exports.src_host_terminator="(?=$|>|<|"+src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+src_ZPCc+"))",src_path=exports.src_path="(?:[/?#](?:(?!"+src_ZCc+"|[()[\\]{}.,\"'?!\\-<>]).|\\[(?:(?!"+src_ZCc+"|\\]).)*\\]|\\((?:(?!"+src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+src_ZCc+"|[']).)+\\'|\\'(?="+src_pseudo_letter+").|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+src_ZCc+"|[.]).|\\-(?!--(?:[^-]|$))(?:-*)|\\,(?!"+src_ZCc+").|\\!(?!"+src_ZCc+"|[!]).|\\?(?!"+src_ZCc+"|[?]).)+|\\/)?",src_email_name=exports.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',src_xn=exports.src_xn="xn--[a-z0-9\\-]{1,59}",src_domain_root=exports.src_domain_root="(?:"+src_xn+"|"+src_pseudo_letter+"{1,63})",src_domain=exports.src_domain="(?:"+src_xn+"|(?:"+src_pseudo_letter+")|(?:"+src_pseudo_letter+"(?:-(?!-)|"+src_pseudo_letter+"){0,61}"+src_pseudo_letter+"))",src_host=exports.src_host="(?:(?:(?:(?:"+src_domain+")\\.)*"+src_domain_root+"))",tpl_host_fuzzy=exports.tpl_host_fuzzy="(?:"+src_ip4+"|(?:(?:(?:"+src_domain+")\\.)+(?:%TLDS%)))",tpl_host_no_ip_fuzzy=exports.tpl_host_no_ip_fuzzy="(?:(?:(?:"+src_domain+")\\.)+(?:%TLDS%))";exports.src_host_strict=src_host+src_host_terminator;var tpl_host_fuzzy_strict=exports.tpl_host_fuzzy_strict=tpl_host_fuzzy+src_host_terminator;exports.src_host_port_strict=src_host+src_port+src_host_terminator;var tpl_host_port_fuzzy_strict=exports.tpl_host_port_fuzzy_strict=tpl_host_fuzzy+src_port+src_host_terminator,tpl_host_port_no_ip_fuzzy_strict=exports.tpl_host_port_no_ip_fuzzy_strict=tpl_host_no_ip_fuzzy+src_port+src_host_terminator;exports.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+src_ZPCc+"|>|$))",exports.tpl_email_fuzzy="(^|<|>|\\(|"+src_ZCc+")("+src_email_name+"@"+tpl_host_fuzzy_strict+")",exports.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+src_ZPCc+"))((?![$+<=>^`|])"+tpl_host_port_fuzzy_strict+src_path+")",exports.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+src_ZPCc+"))((?![$+<=>^`|])"+tpl_host_port_no_ip_fuzzy_strict+src_path+")";
},{"uc.micro/categories/Cc/regex":133,"uc.micro/categories/P/regex":135,"uc.micro/categories/Z/regex":136,"uc.micro/properties/Any/regex":138}],128:[function(require,module,exports){
"use strict";function getDecodeCache(e){var r,t,o=decodeCache[e];if(o)return o;for(o=decodeCache[e]=[],r=0;r<128;r++)t=String.fromCharCode(r),o.push(t);for(r=0;r<e.length;r++)t=e.charCodeAt(r),o[t]="%"+("0"+t.toString(16).toUpperCase()).slice(-2);return o}function decode(e,r){var t;return"string"!=typeof r&&(r=decode.defaultChars),t=getDecodeCache(r),e.replace(/(%[a-f0-9]{2})+/gi,function(e){var r,o,c,a,n,d,s,i="";for(r=0,o=e.length;r<o;r+=3)c=parseInt(e.slice(r+1,r+3),16),c<128?i+=t[c]:192===(224&c)&&r+3<o&&(a=parseInt(e.slice(r+4,r+6),16),128===(192&a))?(s=c<<6&1984|63&a,i+=s<128?"":String.fromCharCode(s),r+=3):224===(240&c)&&r+6<o&&(a=parseInt(e.slice(r+4,r+6),16),n=parseInt(e.slice(r+7,r+9),16),128===(192&a)&&128===(192&n))?(s=c<<12&61440|a<<6&4032|63&n,i+=s<2048||s>=55296&&s<=57343?"":String.fromCharCode(s),r+=6):240===(248&c)&&r+9<o&&(a=parseInt(e.slice(r+4,r+6),16),n=parseInt(e.slice(r+7,r+9),16),d=parseInt(e.slice(r+10,r+12),16),128===(192&a)&&128===(192&n)&&128===(192&d))?(s=c<<18&1835008|a<<12&258048|n<<6&4032|63&d,s<65536||s>1114111?i+="":(s-=65536,i+=String.fromCharCode(55296+(s>>10),56320+(1023&s))),r+=9):i+="";return i})}var decodeCache={};decode.defaultChars=";/?:@&=+$,#",decode.componentChars="",module.exports=decode;
},{}],129:[function(require,module,exports){
"use strict";function getEncodeCache(e){var o,n,t=encodeCache[e];if(t)return t;for(t=encodeCache[e]=[],o=0;o<128;o++)n=String.fromCharCode(o),/^[0-9a-z]$/i.test(n)?t.push(n):t.push("%"+("0"+o.toString(16).toUpperCase()).slice(-2));for(o=0;o<e.length;o++)t[e.charCodeAt(o)]=e[o];return t}function encode(e,o,n){var t,c,r,d,a,i="";for("string"!=typeof o&&(n=o,o=encode.defaultChars),"undefined"==typeof n&&(n=!0),a=getEncodeCache(o),t=0,c=e.length;t<c;t++)if(r=e.charCodeAt(t),n&&37===r&&t+2<c&&/^[0-9a-f]{2}$/i.test(e.slice(t+1,t+3)))i+=e.slice(t,t+3),t+=2;else if(r<128)i+=a[r];else if(r>=55296&&r<=57343){if(r>=55296&&r<=56319&&t+1<c&&(d=e.charCodeAt(t+1),d>=56320&&d<=57343)){i+=encodeURIComponent(e[t]+e[t+1]),t++;continue}i+="%EF%BF%BD"}else i+=encodeURIComponent(e[t]);return i}var encodeCache={};encode.defaultChars=";/?:@&=+$,-_.!~*'()#",encode.componentChars="-_.!~*'()",module.exports=encode;
},{}],130:[function(require,module,exports){
"use strict";module.exports=function(t){var a="";return a+=t.protocol||"",a+=t.slashes?"//":"",a+=t.auth?t.auth+"@":"",a+=t.hostname&&t.hostname.indexOf(":")!==-1?"["+t.hostname+"]":t.hostname||"",a+=t.port?":"+t.port:"",a+=t.pathname||"",a+=t.search||"",a+=t.hash||""};
},{}],131:[function(require,module,exports){
"use strict";module.exports.encode=require("./encode"),module.exports.decode=require("./decode"),module.exports.format=require("./format"),module.exports.parse=require("./parse");
},{"./decode":128,"./encode":129,"./format":130,"./parse":132}],132:[function(require,module,exports){
"use strict";function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}function urlParse(t,s){if(t&&t instanceof Url)return t;var h=new Url;return h.parse(t,s),h}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r","\n","\t"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};Url.prototype.parse=function(t,s){var h,a,e,n,r,o=t;if(o=o.trim(),!s&&1===t.split("#").length){var i=simplePathPattern.exec(o);if(i)return this.pathname=i[1],i[2]&&(this.search=i[2]),this}var l=protocolPattern.exec(o);if(l&&(l=l[0],e=l.toLowerCase(),this.protocol=l,o=o.substr(l.length)),(s||l||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(r="//"===o.substr(0,2),!r||l&&hostlessProtocol[l]||(o=o.substr(2),this.slashes=!0)),!hostlessProtocol[l]&&(r||l&&!slashedProtocol[l])){var c=-1;for(h=0;h<hostEndingChars.length;h++)n=o.indexOf(hostEndingChars[h]),n!==-1&&(c===-1||n<c)&&(c=n);var p,m;for(m=c===-1?o.lastIndexOf("@"):o.lastIndexOf("@",c),m!==-1&&(p=o.slice(0,m),o=o.slice(m+1),this.auth=p),c=-1,h=0;h<nonHostChars.length;h++)n=o.indexOf(nonHostChars[h]),n!==-1&&(c===-1||n<c)&&(c=n);c===-1&&(c=o.length),":"===o[c-1]&&c--;var u=o.slice(0,c);o=o.slice(c),this.parseHost(u),this.hostname=this.hostname||"";var f="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!f){var P=this.hostname.split(/\./);for(h=0,a=P.length;h<a;h++){var g=P[h];if(g&&!g.match(hostnamePartPattern)){for(var v="",d=0,x=g.length;d<x;d++)v+=g.charCodeAt(d)>127?"x":g[d];if(!v.match(hostnamePartPattern)){var b=P.slice(0,h),C=P.slice(h+1),O=g.match(hostnamePartStart);O&&(b.push(O[1]),C.unshift(O[2])),C.length&&(o=C.join(".")+o),this.hostname=b.join(".");break}}}}this.hostname.length>hostnameMaxLen&&(this.hostname=""),f&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var E=o.indexOf("#");E!==-1&&(this.hash=o.substr(E),o=o.slice(0,E));var H=o.indexOf("?");return H!==-1&&(this.search=o.substr(H),o=o.slice(0,H)),o&&(this.pathname=o),slashedProtocol[e]&&this.hostname&&!this.pathname&&(this.pathname=""),this},Url.prototype.parseHost=function(t){var s=portPattern.exec(t);s&&(s=s[0],":"!==s&&(this.port=s.substr(1)),t=t.substr(0,t.length-s.length)),t&&(this.hostname=t)},module.exports=urlParse;
},{}],133:[function(require,module,exports){
module.exports=/[\0-\x1F\x7F-\x9F]/;
},{}],134:[function(require,module,exports){
module.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804\uDCBD|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/;
},{}],135:[function(require,module,exports){
module.exports=/[!-#%-\*,-/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/;
},{}],136:[function(require,module,exports){
module.exports=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/;
},{}],137:[function(require,module,exports){
module.exports.Any=require("./properties/Any/regex"),module.exports.Cc=require("./categories/Cc/regex"),module.exports.Cf=require("./categories/Cf/regex"),module.exports.P=require("./categories/P/regex"),module.exports.Z=require("./categories/Z/regex");
},{"./categories/Cc/regex":133,"./categories/Cf/regex":134,"./categories/P/regex":135,"./categories/Z/regex":136,"./properties/Any/regex":138}],138:[function(require,module,exports){
module.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/;
},{}],139:[function(require,module,exports){
!function e(i,r,o){function n(t,a){if(!r[t]){if(!i[t]){var d="function"==typeof require&&require;if(!a&&d)return d(t,!0);if(s)return s(t,!0);var m=new Error("Cannot find module '"+t+"'");throw m.code="MODULE_NOT_FOUND",m}var f=r[t]={exports:{}};i[t][0].call(f.exports,function(e){var r=i[t][1][e];return n(r?r:e)},f,f.exports,e,i,r,o)}return r[t].exports}for(var s="function"==typeof require&&require,t=0;t<o.length;t++)n(o[t]);return n}({1:[function(e,i,r){!function(e,r){"undefined"!=typeof i&&i.exports?i.exports=r():"function"==typeof define&&define.amd?define(r):this[e]=r()}("bowser",function(){function e(e){function r(i){var r=e.match(i);return r&&r.length>1&&r[1]||""}function o(i){var r=e.match(i);return r&&r.length>1&&r[2]||""}var n,s=r(/(ipod|iphone|ipad)/i).toLowerCase(),t=/like android/i.test(e),a=!t&&/android/i.test(e),d=/CrOS/.test(e),m=r(/edge\/(\d+(\.\d+)?)/i),f=r(/version\/(\d+(\.\d+)?)/i),v=/tablet/i.test(e),c=!v&&/[^-]mobi/i.test(e);/opera|opr/i.test(e)?n={name:"Opera",opera:i,version:f||r(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(e)?n={name:"Yandex Browser",yandexbrowser:i,version:f||r(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/windows phone/i.test(e)?(n={name:"Windows Phone",windowsphone:i},m?(n.msedge=i,n.version=m):(n.msie=i,n.version=r(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?n={name:"Internet Explorer",msie:i,version:r(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:d?n={name:"Chrome",chromeBook:i,chrome:i,version:r(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(e)?n={name:"Microsoft Edge",msedge:i,version:m}:/chrome|crios|crmo/i.test(e)?n={name:"Chrome",chrome:i,version:r(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:s?(n={name:"iphone"==s?"iPhone":"ipad"==s?"iPad":"iPod"},f&&(n.version=f)):/sailfish/i.test(e)?n={name:"Sailfish",sailfish:i,version:r(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?n={name:"SeaMonkey",seamonkey:i,version:r(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel/i.test(e)?(n={name:"Firefox",firefox:i,version:r(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(n.firefoxos=i)):/silk/i.test(e)?n={name:"Amazon Silk",silk:i,version:r(/silk\/(\d+(\.\d+)?)/i)}:a?n={name:"Android",version:f}:/phantom/i.test(e)?n={name:"PhantomJS",phantom:i,version:r(/phantomjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?n={name:"BlackBerry",blackberry:i,version:f||r(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:/(web|hpw)os/i.test(e)?(n={name:"WebOS",webos:i,version:f||r(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(n.touchpad=i)):n=/bada/i.test(e)?{name:"Bada",bada:i,version:r(/dolfin\/(\d+(\.\d+)?)/i)}:/tizen/i.test(e)?{name:"Tizen",tizen:i,version:r(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||f}:/safari/i.test(e)?{name:"Safari",safari:i,version:f}:{name:r(/^(.*)\/(.*) /),version:o(/^(.*)\/(.*) /)},!n.msedge&&/(apple)?webkit/i.test(e)?(n.name=n.name||"Webkit",n.webkit=i,!n.version&&f&&(n.version=f)):!n.opera&&/gecko\//i.test(e)&&(n.name=n.name||"Gecko",n.gecko=i,n.version=n.version||r(/gecko\/(\d+(\.\d+)?)/i)),n.msedge||!a&&!n.silk?s&&(n[s]=i,n.ios=i):n.android=i;var p="";n.windowsphone?p=r(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):s?(p=r(/os (\d+([_\s]\d+)*) like mac os x/i),p=p.replace(/[_\s]/g,".")):a?p=r(/android[ \/-](\d+(\.\d+)*)/i):n.webos?p=r(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):n.blackberry?p=r(/rim\stablet\sos\s(\d+(\.\d+)*)/i):n.bada?p=r(/bada\/(\d+(\.\d+)*)/i):n.tizen&&(p=r(/tizen[\/\s](\d+(\.\d+)*)/i)),p&&(n.osversion=p);var b=p.split(".")[0];return v||"ipad"==s||a&&(3==b||4==b&&!c)||n.silk?n.tablet=i:(c||"iphone"==s||"ipod"==s||a||n.blackberry||n.webos||n.bada)&&(n.mobile=i),n.msedge||n.msie&&n.version>=10||n.yandexbrowser&&n.version>=15||n.chrome&&n.version>=20||n.firefox&&n.version>=20||n.safari&&n.version>=6||n.opera&&n.version>=10||n.ios&&n.osversion&&n.osversion.split(".")[0]>=6||n.blackberry&&n.version>=10.1?n.a=i:n.msie&&n.version<10||n.chrome&&n.version<20||n.firefox&&n.version<20||n.safari&&n.version<6||n.opera&&n.version<10||n.ios&&n.osversion&&n.osversion.split(".")[0]<6?n.c=i:n.x=i,n}var i=!0,r=e("undefined"!=typeof navigator?navigator.userAgent:"");return r.test=function(e){for(var i=0;i<e.length;++i){var o=e[i];if("string"==typeof o&&o in r)return!0}return!1},r._detect=e,r})},{}],2:[function(e,i,r){var o=e("bowser"),n=document.queryCommandSupported;document.queryCommandSupported=function(e){if("copy"===e||"cut"===e){if(o.chrome)return o.version>=43;if(o.firefox)return o.version>=41}return n.apply(this,arguments)}},{bowser:1}]},{},[2]);
},{}],140:[function(require,module,exports){
(function(){function n(n){function t(t,r,e,u,i,o){for(;i>=0&&i<o;i+=n){var a=u?u[i]:i;e=r(e,t[a],a,t)}return e}return function(r,e,u,i){e=b(e,i,4);var o=!k(r)&&m.keys(r),a=(o||r).length,c=n>0?0:a-1;return arguments.length<3&&(u=r[o?o[c]:c],c+=n),t(r,e,u,o,c,a)}}function t(n){return function(t,r,e){r=x(r,e);for(var u=O(t),i=n>0?0:u-1;i>=0&&i<u;i+=n)if(r(t[i],i,t))return i;return-1}}function r(n,t,r){return function(e,u,i){var o=0,a=O(e);if("number"==typeof i)n>0?o=i>=0?i:Math.max(i+a,o):a=i>=0?Math.min(i+1,a):i+a+1;else if(r&&i&&a)return i=r(e,u),e[i]===u?i:-1;if(u!==u)return i=t(l.call(e,o,a),m.isNaN),i>=0?i+o:-1;for(i=n>0?o:a-1;i>=0&&i<a;i+=n)if(e[i]===u)return i;return-1}}function e(n,t){var r=I.length,e=n.constructor,u=m.isFunction(e)&&e.prototype||a,i="constructor";for(m.has(n,i)&&!m.contains(t,i)&&t.push(i);r--;)i=I[r],i in n&&n[i]!==u[i]&&!m.contains(t,i)&&t.push(i)}var u=this,i=u._,o=Array.prototype,a=Object.prototype,c=Function.prototype,f=o.push,l=o.slice,s=a.toString,p=a.hasOwnProperty,h=Array.isArray,v=Object.keys,y=c.bind,d=Object.create,g=function(){},m=function(n){return n instanceof m?n:this instanceof m?void(this._wrapped=n):new m(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=m),exports._=m):u._=m,m.VERSION="1.8.3";var b=function(n,t,r){if(void 0===t)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}},x=function(n,t,r){return null==n?m.identity:m.isFunction(n)?b(n,t,r):m.isObject(n)?m.matcher(n):m.property(n)};m.iteratee=function(n,t){return x(n,t,1/0)};var _=function(n,t){return function(r){var e=arguments.length;if(e<2||null==r)return r;for(var u=1;u<e;u++)for(var i=arguments[u],o=n(i),a=o.length,c=0;c<a;c++){var f=o[c];t&&void 0!==r[f]||(r[f]=i[f])}return r}},j=function(n){if(!m.isObject(n))return{};if(d)return d(n);g.prototype=n;var t=new g;return g.prototype=null,t},w=function(n){return function(t){return null==t?void 0:t[n]}},A=Math.pow(2,53)-1,O=w("length"),k=function(n){var t=O(n);return"number"==typeof t&&t>=0&&t<=A};m.each=m.forEach=function(n,t,r){t=b(t,r);var e,u;if(k(n))for(e=0,u=n.length;e<u;e++)t(n[e],e,n);else{var i=m.keys(n);for(e=0,u=i.length;e<u;e++)t(n[i[e]],i[e],n)}return n},m.map=m.collect=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=Array(u),o=0;o<u;o++){var a=e?e[o]:o;i[o]=t(n[a],a,n)}return i},m.reduce=m.foldl=m.inject=n(1),m.reduceRight=m.foldr=n(-1),m.find=m.detect=function(n,t,r){var e;if(e=k(n)?m.findIndex(n,t,r):m.findKey(n,t,r),void 0!==e&&e!==-1)return n[e]},m.filter=m.select=function(n,t,r){var e=[];return t=x(t,r),m.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e},m.reject=function(n,t,r){return m.filter(n,m.negate(x(t)),r)},m.every=m.all=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(!t(n[o],o,n))return!1}return!0},m.some=m.any=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(t(n[o],o,n))return!0}return!1},m.contains=m.includes=m.include=function(n,t,r,e){return k(n)||(n=m.values(n)),("number"!=typeof r||e)&&(r=0),m.indexOf(n,t,r)>=0},m.invoke=function(n,t){var r=l.call(arguments,2),e=m.isFunction(t);return m.map(n,function(n){var u=e?t:n[t];return null==u?u:u.apply(n,r)})},m.pluck=function(n,t){return m.map(n,m.property(t))},m.where=function(n,t){return m.filter(n,m.matcher(t))},m.findWhere=function(n,t){return m.find(n,m.matcher(t))},m.max=function(n,t,r){var e,u,i=-(1/0),o=-(1/0);if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;a<c;a++)e=n[a],e>i&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(u>o||u===-(1/0)&&i===-(1/0))&&(i=n,o=u)});return i},m.min=function(n,t,r){var e,u,i=1/0,o=1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;a<c;a++)e=n[a],e<i&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(u<o||u===1/0&&i===1/0)&&(i=n,o=u)});return i},m.shuffle=function(n){for(var t,r=k(n)?n:m.values(n),e=r.length,u=Array(e),i=0;i<e;i++)t=m.random(0,i),t!==i&&(u[i]=u[t]),u[t]=r[i];return u},m.sample=function(n,t,r){return null==t||r?(k(n)||(n=m.values(n)),n[m.random(n.length-1)]):m.shuffle(n).slice(0,Math.max(0,t))},m.sortBy=function(n,t,r){return t=x(t,r),m.pluck(m.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(r<e||void 0===e)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=x(r,e),m.each(t,function(e,i){var o=r(e,i,t);n(u,e,o)}),u}};m.groupBy=F(function(n,t,r){m.has(n,r)?n[r].push(t):n[r]=[t]}),m.indexBy=F(function(n,t,r){n[r]=t}),m.countBy=F(function(n,t,r){m.has(n,r)?n[r]++:n[r]=1}),m.toArray=function(n){return n?m.isArray(n)?l.call(n):k(n)?m.map(n,m.identity):m.values(n):[]},m.size=function(n){return null==n?0:k(n)?n.length:m.keys(n).length},m.partition=function(n,t,r){t=x(t,r);var e=[],u=[];return m.each(n,function(n,r,i){(t(n,r,i)?e:u).push(n)}),[e,u]},m.first=m.head=m.take=function(n,t,r){if(null!=n)return null==t||r?n[0]:m.initial(n,n.length-t)},m.initial=function(n,t,r){return l.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},m.last=function(n,t,r){if(null!=n)return null==t||r?n[n.length-1]:m.rest(n,Math.max(0,n.length-t))},m.rest=m.tail=m.drop=function(n,t,r){return l.call(n,null==t||r?1:t)},m.compact=function(n){return m.filter(n,m.identity)};var S=function(n,t,r,e){for(var u=[],i=0,o=e||0,a=O(n);o<a;o++){var c=n[o];if(k(c)&&(m.isArray(c)||m.isArguments(c))){t||(c=S(c,t,r));var f=0,l=c.length;for(u.length+=l;f<l;)u[i++]=c[f++]}else r||(u[i++]=c)}return u};m.flatten=function(n,t){return S(n,t,!1)},m.without=function(n){return m.difference(n,l.call(arguments,1))},m.uniq=m.unique=function(n,t,r,e){m.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=x(r,e));for(var u=[],i=[],o=0,a=O(n);o<a;o++){var c=n[o],f=r?r(c,o,n):c;t?(o&&i===f||u.push(c),i=f):r?m.contains(i,f)||(i.push(f),u.push(c)):m.contains(u,c)||u.push(c)}return u},m.union=function(){return m.uniq(S(arguments,!0,!0))},m.intersection=function(n){for(var t=[],r=arguments.length,e=0,u=O(n);e<u;e++){var i=n[e];if(!m.contains(t,i)){for(var o=1;o<r&&m.contains(arguments[o],i);o++);o===r&&t.push(i)}}return t},m.difference=function(n){var t=S(arguments,!0,!0,1);return m.filter(n,function(n){return!m.contains(t,n)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(n){for(var t=n&&m.max(n,O).length||0,r=Array(t),e=0;e<t;e++)r[e]=m.pluck(n,e);return r},m.object=function(n,t){for(var r={},e=0,u=O(n);e<u;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},m.findIndex=t(1),m.findLastIndex=t(-1),m.sortedIndex=function(n,t,r,e){r=x(r,e,1);for(var u=r(t),i=0,o=O(n);i<o;){var a=Math.floor((i+o)/2);r(n[a])<u?i=a+1:o=a}return i},m.indexOf=r(1,m.findIndex,m.sortedIndex),m.lastIndexOf=r(-1,m.findLastIndex),m.range=function(n,t,r){null==t&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;i<e;i++,n+=r)u[i]=n;return u};var E=function(n,t,r,e,u){if(!(e instanceof t))return n.apply(r,u);var i=j(n.prototype),o=n.apply(i,u);return m.isObject(o)?o:i};m.bind=function(n,t){if(y&&n.bind===y)return y.apply(n,l.call(arguments,1));if(!m.isFunction(n))throw new TypeError("Bind must be called on a function");var r=l.call(arguments,2),e=function(){return E(n,e,t,this,r.concat(l.call(arguments)))};return e},m.partial=function(n){var t=l.call(arguments,1),r=function(){for(var e=0,u=t.length,i=Array(u),o=0;o<u;o++)i[o]=t[o]===m?arguments[e++]:t[o];for(;e<arguments.length;)i.push(arguments[e++]);return E(n,r,this,this,i)};return r},m.bindAll=function(n){var t,r,e=arguments.length;if(e<=1)throw new Error("bindAll must be passed function names");for(t=1;t<e;t++)r=arguments[t],n[r]=m.bind(n[r],n);return n},m.memoize=function(n,t){var r=function(e){var u=r.cache,i=""+(t?t.apply(this,arguments):e);return m.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},m.delay=function(n,t){var r=l.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(n,t,r){var e,u,i,o=null,a=0;r||(r={});var c=function(){a=r.leading===!1?0:m.now(),o=null,i=n.apply(e,u),o||(e=u=null)};return function(){var f=m.now();a||r.leading!==!1||(a=f);var l=t-(f-a);return e=this,u=arguments,l<=0||l>t?(o&&(clearTimeout(o),o=null),a=f,i=n.apply(e,u),o||(e=u=null)):o||r.trailing===!1||(o=setTimeout(c,l)),i}},m.debounce=function(n,t,r){var e,u,i,o,a,c=function(){var f=m.now()-o;f<t&&f>=0?e=setTimeout(c,t-f):(e=null,r||(a=n.apply(i,u),e||(i=u=null)))};return function(){i=this,u=arguments,o=m.now();var f=r&&!e;return e||(e=setTimeout(c,t)),f&&(a=n.apply(i,u),i=u=null),a}},m.wrap=function(n,t){return m.partial(t,n)},m.negate=function(n){return function(){return!n.apply(this,arguments)}},m.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},m.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}},m.before=function(n,t){var r;return function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=null),r}},m.once=m.partial(m.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];m.keys=function(n){if(!m.isObject(n))return[];if(v)return v(n);var t=[];for(var r in n)m.has(n,r)&&t.push(r);return M&&e(n,t),t},m.allKeys=function(n){if(!m.isObject(n))return[];var t=[];for(var r in n)t.push(r);return M&&e(n,t),t},m.values=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;u<r;u++)e[u]=n[t[u]];return e},m.mapObject=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=u.length,o={},a=0;a<i;a++)e=u[a],o[e]=t(n[e],e,n);return o},m.pairs=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;u<r;u++)e[u]=[t[u],n[t[u]]];return e},m.invert=function(n){for(var t={},r=m.keys(n),e=0,u=r.length;e<u;e++)t[n[r[e]]]=r[e];return t},m.functions=m.methods=function(n){var t=[];for(var r in n)m.isFunction(n[r])&&t.push(r);return t.sort()},m.extend=_(m.allKeys),m.extendOwn=m.assign=_(m.keys),m.findKey=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=0,o=u.length;i<o;i++)if(e=u[i],t(n[e],e,n))return e},m.pick=function(n,t,r){var e,u,i={},o=n;if(null==o)return i;m.isFunction(t)?(u=m.allKeys(o),e=b(t,r)):(u=S(arguments,!1,!1,1),e=function(n,t,r){return t in r},o=Object(o));for(var a=0,c=u.length;a<c;a++){var f=u[a],l=o[f];e(l,f,o)&&(i[f]=l)}return i},m.omit=function(n,t,r){if(m.isFunction(t))t=m.negate(t);else{var e=m.map(S(arguments,!1,!1,1),String);t=function(n,t){return!m.contains(e,t)}}return m.pick(n,t,r)},m.defaults=_(m.allKeys,!0),m.create=function(n,t){var r=j(n);return t&&m.extendOwn(r,t),r},m.clone=function(n){return m.isObject(n)?m.isArray(n)?n.slice():m.extend({},n):n},m.tap=function(n,t){return t(n),n},m.isMatch=function(n,t){var r=m.keys(t),e=r.length;if(null==n)return!e;for(var u=Object(n),i=0;i<e;i++){var o=r[i];if(t[o]!==u[o]||!(o in u))return!1}return!0};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof m&&(n=n._wrapped),t instanceof m&&(t=t._wrapped);var u=s.call(n);if(u!==s.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case"[object Date]":case"[object Boolean]":return+n===+t}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1}r=r||[],e=e||[];for(var c=r.length;c--;)if(r[c]===n)return e[c]===t;if(r.push(n),e.push(t),i){if(c=n.length,c!==t.length)return!1;for(;c--;)if(!N(n[c],t[c],r,e))return!1}else{var f,l=m.keys(n);if(c=l.length,m.keys(t).length!==c)return!1;for(;c--;)if(f=l[c],!m.has(t,f)||!N(n[f],t[f],r,e))return!1}return r.pop(),e.pop(),!0};m.isEqual=function(n,t){return N(n,t)},m.isEmpty=function(n){return null==n||(k(n)&&(m.isArray(n)||m.isString(n)||m.isArguments(n))?0===n.length:0===m.keys(n).length)},m.isElement=function(n){return!(!n||1!==n.nodeType)},m.isArray=h||function(n){return"[object Array]"===s.call(n)},m.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){m["is"+n]=function(t){return s.call(t)==="[object "+n+"]"}}),m.isArguments(arguments)||(m.isArguments=function(n){return m.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(m.isFunction=function(n){return"function"==typeof n||!1}),m.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},m.isNaN=function(n){return m.isNumber(n)&&n!==+n},m.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===s.call(n)},m.isNull=function(n){return null===n},m.isUndefined=function(n){return void 0===n},m.has=function(n,t){return null!=n&&p.call(n,t)},m.noConflict=function(){return u._=i,this},m.identity=function(n){return n},m.constant=function(n){return function(){return n}},m.noop=function(){},m.property=w,m.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},m.matcher=m.matches=function(n){return n=m.extendOwn({},n),function(t){return m.isMatch(t,n)}},m.times=function(n,t,r){var e=Array(Math.max(0,n));t=b(t,r,1);for(var u=0;u<n;u++)e[u]=t(u);return e},m.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},m.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},T=m.invert(B),R=function(n){var t=function(t){return n[t]},r="(?:"+m.keys(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}};m.escape=R(B),m.unescape=R(T),m.result=function(n,t,r){var e=null==n?void 0:n[t];return void 0===e&&(e=r),m.isFunction(e)?e.call(n):e};var q=0;m.uniqueId=function(n){var t=++q+"";return n?n+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\u2028|\u2029/g,L=function(n){return"\\"+z[n]};m.template=function(n,t,r){!t&&r&&(t=r),t=m.defaults({},t,m.templateSettings);var e=RegExp([(t.escape||K).source,(t.interpolate||K).source,(t.evaluate||K).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,o,a){return i+=n.slice(u,a).replace(D,L),u=a+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var o=new Function(t.variable||"obj","_",i)}catch(n){throw n.source=i,n}var a=function(n){return o.call(this,n,m)},c=t.variable||"obj";return a.source="function("+c+"){\n"+i+"}",a},m.chain=function(n){var t=m(n);return t._chain=!0,t};var P=function(n,t){return n._chain?m(t).chain():t};m.mixin=function(n){m.each(m.functions(n),function(t){var r=m[t]=n[t];m.prototype[t]=function(){var n=[this._wrapped];return f.apply(n,arguments),P(this,r.apply(m,n))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=o[n];m.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],P(this,r)}}),m.each(["concat","join","slice"],function(n){var t=o[n];m.prototype[n]=function(){return P(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}).call(this);
},{}],141:[function(require,module,exports){
!function(t,e){"use strict";"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.IPv6=e(t)}(this,function(t){"use strict";function e(t){var e=t.toLowerCase(),i=e.split(":"),n=i.length,r=8;""===i[0]&&""===i[1]&&""===i[2]?(i.shift(),i.shift()):""===i[0]&&""===i[1]?i.shift():""===i[n-1]&&""===i[n-2]&&i.pop(),n=i.length,i[n-1].indexOf(".")!==-1&&(r=7);var o;for(o=0;o<n&&""!==i[o];o++);if(o<r){for(i.splice(o,1,"0000");i.length<r;)i.splice(o,0,"0000");n=i.length}for(var f,s=0;s<r;s++){f=i[s].split("");for(var l=0;l<3&&("0"===f[0]&&f.length>1);l++)f.splice(0,1);i[s]=f.join("")}var c=-1,h=0,p=0,u=-1,v=!1;for(s=0;s<r;s++)v?"0"===i[s]?p+=1:(v=!1,p>h&&(c=u,h=p)):"0"===i[s]&&(v=!0,u=s,p=1);p>h&&(c=u,h=p),h>1&&i.splice(c,h,""),n=i.length;var a="";for(""===i[0]&&(a=":"),s=0;s<n&&(a+=i[s],s!==n-1);s++)a+=":";return""===i[n-1]&&(a+=":"),a}function i(){return t.IPv6===this&&(t.IPv6=n),this}var n=t&&t.IPv6;return{best:e,noConflict:i}});
},{}],142:[function(require,module,exports){
!function(o,e){"use strict";"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):o.SecondLevelDomains=e(o)}(this,function(o){"use strict";var e=o&&o.SecondLevelDomains,n={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch "},has:function(o){var e=o.lastIndexOf(".");if(e<=0||e>=o.length-1)return!1;var r=o.lastIndexOf(".",e-1);if(r<=0||r>=e-1)return!1;var g=n.list[o.slice(e+1)];return!!g&&g.indexOf(" "+o.slice(r+1,e)+" ")>=0},is:function(o){var e=o.lastIndexOf(".");if(e<=0||e>=o.length-1)return!1;var r=o.lastIndexOf(".",e-1);if(r>=0)return!1;var g=n.list[o.slice(e+1)];return!!g&&g.indexOf(" "+o.slice(0,e)+" ")>=0},get:function(o){var e=o.lastIndexOf(".");if(e<=0||e>=o.length-1)return null;var r=o.lastIndexOf(".",e-1);if(r<=0||r>=e-1)return null;var g=n.list[o.slice(e+1)];return g?g.indexOf(" "+o.slice(r+1,e)+" ")<0?null:o.slice(r+1):null},noConflict:function(){return o.SecondLevelDomains===this&&(o.SecondLevelDomains=e),this}};return n});
},{}],143:[function(require,module,exports){
!function(t,e){"use strict";"object"==typeof exports?module.exports=e(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],e):t.URI=e(t.punycode,t.IPv6,t.SecondLevelDomains,t)}(this,function(t,e,r,s){"use strict";function n(t,e){var r=arguments.length>=1,s=arguments.length>=2;if(!(this instanceof n))return r?s?new n(t,e):new n(t):new n;if(void 0===t){if(r)throw new TypeError("undefined is not a valid argument for URI");t="undefined"!=typeof location?location.href+"":""}return this.href(t),void 0!==e?this.absoluteTo(e):this}function i(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function a(t){return void 0===t?"Undefined":String(Object.prototype.toString.call(t)).slice(8,-1)}function o(t){return"Array"===a(t)}function h(t,e){var r,s,n={};if("RegExp"===a(e))n=null;else if(o(e))for(r=0,s=e.length;r<s;r++)n[e[r]]=!0;else n[e]=!0;for(r=0,s=t.length;r<s;r++){var i=n&&void 0!==n[t[r]]||!n&&e.test(t[r]);i&&(t.splice(r,1),s--,r--)}return t}function u(t,e){var r,s;if(o(e)){for(r=0,s=e.length;r<s;r++)if(!u(t,e[r]))return!1;return!0}var n=a(e);for(r=0,s=t.length;r<s;r++)if("RegExp"===n){if("string"==typeof t[r]&&t[r].match(e))return!0}else if(t[r]===e)return!0;return!1}function p(t,e){if(!o(t)||!o(e))return!1;if(t.length!==e.length)return!1;t.sort(),e.sort();for(var r=0,s=t.length;r<s;r++)if(t[r]!==e[r])return!1;return!0}function c(t){var e=/^\/+|\/+$/g;return t.replace(e,"")}function l(t){return escape(t)}function d(t){return encodeURIComponent(t).replace(/[!'()*]/g,l).replace(/\*/g,"%2A")}function f(t){return function(e,r){return void 0===e?this._parts[t]||"":(this._parts[t]=e||null,this.build(!r),this)}}function m(t,e){return function(r,s){return void 0===r?this._parts[t]||"":(null!==r&&(r+="",r.charAt(0)===e&&(r=r.substring(1))),this._parts[t]=r,this.build(!s),this)}}var g=s&&s.URI;n.version="1.17.1";var y=n.prototype,_=Object.prototype.hasOwnProperty;n._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:n.duplicateQueryParameters,escapeQuerySpace:n.escapeQuerySpace}},n.duplicateQueryParameters=!1,n.escapeQuerySpace=!0,n.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,n.idn_expression=/[^a-z0-9\.-]/i,n.punycode_expression=/(xn--)/i,n.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,n.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?]))/gi,n.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?]+$/},n.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},n.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,n.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},n.getDomAttribute=function(t){if(t&&t.nodeName){var e=t.nodeName.toLowerCase();if("input"!==e||"image"===t.type)return n.domAttributes[e]}},n.encode=d,n.decode=decodeURIComponent,n.iso8859=function(){n.encode=escape,n.decode=unescape},n.unicode=function(){n.encode=d,n.decode=decodeURIComponent},n.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},n.encodeQuery=function(t,e){var r=n.encode(t+"");return void 0===e&&(e=n.escapeQuerySpace),e?r.replace(/%20/g,"+"):r},n.decodeQuery=function(t,e){t+="",void 0===e&&(e=n.escapeQuerySpace);try{return n.decode(e?t.replace(/\+/g,"%20"):t)}catch(e){return t}};var v,b={encode:"encode",decode:"decode"},w=function(t,e){return function(r){try{return n[e](r+"").replace(n.characters[t][e].expression,function(r){return n.characters[t][e].map[r]})}catch(t){return r}}};for(v in b)n[v+"PathSegment"]=w("pathname",b[v]),n[v+"UrnPathSegment"]=w("urnpath",b[v]);var Q=function(t,e,r){return function(s){var i;i=r?function(t){return n[e](n[r](t))}:n[e];for(var a=(s+"").split(t),o=0,h=a.length;o<h;o++)a[o]=i(a[o]);return a.join(t)}};n.decodePath=Q("/","decodePathSegment"),n.decodeUrnPath=Q(":","decodeUrnPathSegment"),n.recodePath=Q("/","encodePathSegment","decode"),n.recodeUrnPath=Q(":","encodeUrnPathSegment","decode"),n.encodeReserved=w("reserved","encode"),n.parse=function(t,e){var r;return e||(e={}),r=t.indexOf("#"),r>-1&&(e.fragment=t.substring(r+1)||null,t=t.substring(0,r)),r=t.indexOf("?"),r>-1&&(e.query=t.substring(r+1)||null,t=t.substring(0,r)),"//"===t.substring(0,2)?(e.protocol=null,t=t.substring(2),t=n.parseAuthority(t,e)):(r=t.indexOf(":"),r>-1&&(e.protocol=t.substring(0,r)||null,e.protocol&&!e.protocol.match(n.protocol_expression)?e.protocol=void 0:"//"===t.substring(r+1,r+3)?(t=t.substring(r+3),t=n.parseAuthority(t,e)):(t=t.substring(r+1),e.urn=!0))),e.path=t,e},n.parseHost=function(t,e){t=t.replace(/\\/g,"/");var r,s,n=t.indexOf("/");if(n===-1&&(n=t.length),"["===t.charAt(0))r=t.indexOf("]"),e.hostname=t.substring(1,r)||null,e.port=t.substring(r+2,n)||null,"/"===e.port&&(e.port=null);else{var i=t.indexOf(":"),a=t.indexOf("/"),o=t.indexOf(":",i+1);o!==-1&&(a===-1||o<a)?(e.hostname=t.substring(0,n)||null,e.port=null):(s=t.substring(0,n).split(":"),e.hostname=s[0]||null,e.port=s[1]||null)}return e.hostname&&"/"!==t.substring(n).charAt(0)&&(n++,t="/"+t),t.substring(n)||"/"},n.parseAuthority=function(t,e){return t=n.parseUserinfo(t,e),n.parseHost(t,e)},n.parseUserinfo=function(t,e){var r,s=t.indexOf("/"),i=t.lastIndexOf("@",s>-1?s:t.length-1);return i>-1&&(s===-1||i<s)?(r=t.substring(0,i).split(":"),e.username=r[0]?n.decode(r[0]):null,r.shift(),e.password=r[0]?n.decode(r.join(":")):null,t=t.substring(i+1)):(e.username=null,e.password=null),t},n.parseQuery=function(t,e){if(!t)return{};if(t=t.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!t)return{};for(var r,s,i,a={},o=t.split("&"),h=o.length,u=0;u<h;u++)r=o[u].split("="),s=n.decodeQuery(r.shift(),e),i=r.length?n.decodeQuery(r.join("="),e):null,_.call(a,s)?("string"!=typeof a[s]&&null!==a[s]||(a[s]=[a[s]]),a[s].push(i)):a[s]=i;return a},n.build=function(t){var e="";return t.protocol&&(e+=t.protocol+":"),t.urn||!e&&!t.hostname||(e+="//"),e+=n.buildAuthority(t)||"","string"==typeof t.path&&("/"!==t.path.charAt(0)&&"string"==typeof t.hostname&&(e+="/"),e+=t.path),"string"==typeof t.query&&t.query&&(e+="?"+t.query),"string"==typeof t.fragment&&t.fragment&&(e+="#"+t.fragment),e},n.buildHost=function(t){var e="";return t.hostname?(e+=n.ip6_expression.test(t.hostname)?"["+t.hostname+"]":t.hostname,t.port&&(e+=":"+t.port),e):""},n.buildAuthority=function(t){return n.buildUserinfo(t)+n.buildHost(t)},n.buildUserinfo=function(t){var e="";return t.username&&(e+=n.encode(t.username),t.password&&(e+=":"+n.encode(t.password)),e+="@"),e},n.buildQuery=function(t,e,r){var s,i,a,h,u="";for(i in t)if(_.call(t,i)&&i)if(o(t[i]))for(s={},a=0,h=t[i].length;a<h;a++)void 0!==t[i][a]&&void 0===s[t[i][a]+""]&&(u+="&"+n.buildQueryParameter(i,t[i][a],r),e!==!0&&(s[t[i][a]+""]=!0));else void 0!==t[i]&&(u+="&"+n.buildQueryParameter(i,t[i],r));return u.substring(1)},n.buildQueryParameter=function(t,e,r){return n.encodeQuery(t,r)+(null!==e?"="+n.encodeQuery(e,r):"")},n.addQuery=function(t,e,r){if("object"==typeof e)for(var s in e)_.call(e,s)&&n.addQuery(t,s,e[s]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===t[e])return void(t[e]=r);"string"==typeof t[e]&&(t[e]=[t[e]]),o(r)||(r=[r]),t[e]=(t[e]||[]).concat(r)}},n.removeQuery=function(t,e,r){var s,i,u;if(o(e))for(s=0,i=e.length;s<i;s++)t[e[s]]=void 0;else if("RegExp"===a(e))for(u in t)e.test(u)&&(t[u]=void 0);else if("object"==typeof e)for(u in e)_.call(e,u)&&n.removeQuery(t,u,e[u]);else{if("string"!=typeof e)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==r?"RegExp"===a(r)?!o(t[e])&&r.test(t[e])?t[e]=void 0:t[e]=h(t[e],r):t[e]!==String(r)||o(r)&&1!==r.length?o(t[e])&&(t[e]=h(t[e],r)):t[e]=void 0:t[e]=void 0}},n.hasQuery=function(t,e,r,s){switch(a(e)){case"String":break;case"RegExp":for(var i in t)if(_.call(t,i)&&e.test(i)&&(void 0===r||n.hasQuery(t,i,r)))return!0;return!1;case"Object":for(var h in e)if(_.call(e,h)&&!n.hasQuery(t,h,e[h]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(a(r)){case"Undefined":return e in t;case"Boolean":var c=Boolean(o(t[e])?t[e].length:t[e]);return r===c;case"Function":return!!r(t[e],e,t);case"Array":if(!o(t[e]))return!1;var l=s?u:p;return l(t[e],r);case"RegExp":return o(t[e])?!!s&&u(t[e],r):Boolean(t[e]&&t[e].match(r));case"Number":r=String(r);case"String":return o(t[e])?!!s&&u(t[e],r):t[e]===r;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},n.commonPath=function(t,e){var r,s=Math.min(t.length,e.length);for(r=0;r<s;r++)if(t.charAt(r)!==e.charAt(r)){r--;break}return r<1?t.charAt(0)===e.charAt(0)&&"/"===t.charAt(0)?"/":"":("/"===t.charAt(r)&&"/"===e.charAt(r)||(r=t.substring(0,r).lastIndexOf("/")),t.substring(0,r+1))},n.withinString=function(t,e,r){r||(r={});var s=r.start||n.findUri.start,i=r.end||n.findUri.end,a=r.trim||n.findUri.trim,o=/[a-z0-9-]=["']?$/i;for(s.lastIndex=0;;){var h=s.exec(t);if(!h)break;var u=h.index;if(r.ignoreHtml){var p=t.slice(Math.max(u-3,0),u);if(p&&o.test(p))continue}var c=u+t.slice(u).search(i),l=t.slice(u,c).replace(a,"");if(!r.ignore||!r.ignore.test(l)){c=u+l.length;var d=e(l,u,c,t);t=t.slice(0,u)+d+t.slice(c),s.lastIndex=u+d.length}}return s.lastIndex=0,t},n.ensureValidHostname=function(e){if(e.match(n.invalid_hostname_characters)){if(!t)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(t.toASCII(e).match(n.invalid_hostname_characters))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]')}},n.noConflict=function(t){if(t){var e={URI:this.noConflict()};return s.URITemplate&&"function"==typeof s.URITemplate.noConflict&&(e.URITemplate=s.URITemplate.noConflict()),s.IPv6&&"function"==typeof s.IPv6.noConflict&&(e.IPv6=s.IPv6.noConflict()),s.SecondLevelDomains&&"function"==typeof s.SecondLevelDomains.noConflict&&(e.SecondLevelDomains=s.SecondLevelDomains.noConflict()),e}return s.URI===this&&(s.URI=g),this},y.build=function(t){return t===!0?this._deferred_build=!0:(void 0===t||this._deferred_build)&&(this._string=n.build(this._parts),this._deferred_build=!1),this},y.clone=function(){return new n(this)},y.valueOf=y.toString=function(){return this.build(!1)._string},y.protocol=f("protocol"),y.username=f("username"),y.password=f("password"),y.hostname=f("hostname"),y.port=f("port"),y.query=m("query","?"),y.fragment=m("fragment","#"),y.search=function(t,e){var r=this.query(t,e);return"string"==typeof r&&r.length?"?"+r:r},y.hash=function(t,e){var r=this.fragment(t,e);return"string"==typeof r&&r.length?"#"+r:r},y.pathname=function(t,e){if(void 0===t||t===!0){var r=this._parts.path||(this._parts.hostname?"/":"");return t?(this._parts.urn?n.decodeUrnPath:n.decodePath)(r):r}return this._parts.urn?this._parts.path=t?n.recodeUrnPath(t):"":this._parts.path=t?n.recodePath(t):"/",this.build(!e),this},y.path=y.pathname,y.href=function(t,e){var r;if(void 0===t)return this.toString();this._string="",this._parts=n._parts();var s=t instanceof n,i="object"==typeof t&&(t.hostname||t.path||t.pathname);if(t.nodeName){var a=n.getDomAttribute(t);t=t[a]||"",i=!1}if(!s&&i&&void 0!==t.pathname&&(t=t.toString()),"string"==typeof t||t instanceof String)this._parts=n.parse(String(t),this._parts);else{if(!s&&!i)throw new TypeError("invalid input");var o=s?t._parts:t;for(r in o)_.call(this._parts,r)&&(this._parts[r]=o[r])}return this.build(!e),this},y.is=function(t){var e=!1,s=!1,i=!1,a=!1,o=!1,h=!1,u=!1,p=!this._parts.urn;switch(this._parts.hostname&&(p=!1,s=n.ip4_expression.test(this._parts.hostname),i=n.ip6_expression.test(this._parts.hostname),e=s||i,a=!e,o=a&&r&&r.has(this._parts.hostname),h=a&&n.idn_expression.test(this._parts.hostname),u=a&&n.punycode_expression.test(this._parts.hostname)),t.toLowerCase()){case"relative":return p;case"absolute":return!p;case"domain":case"name":return a;case"sld":return o;case"ip":return e;case"ip4":case"ipv4":case"inet4":return s;case"ip6":case"ipv6":case"inet6":return i;case"idn":return h;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return u}return null};var A=y.protocol,P=y.port,x=y.hostname;y.protocol=function(t,e){if(void 0!==t&&t&&(t=t.replace(/:(\/\/)?$/,""),!t.match(n.protocol_expression)))throw new TypeError('Protocol "'+t+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return A.call(this,t,e)},y.scheme=y.protocol,y.port=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0!==t&&(0===t&&(t=null),t&&(t+="",":"===t.charAt(0)&&(t=t.substring(1)),t.match(/[^0-9]/))))throw new TypeError('Port "'+t+'" contains characters other than [0-9]');return P.call(this,t,e)},y.hostname=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0!==t){var r={},s=n.parseHost(t,r);if("/"!==s)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]');t=r.hostname}return x.call(this,t,e)},y.origin=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){var r=this.protocol(),s=this.authority();return s?(r?r+"://":"")+this.authority():""}var i=n(t);return this.protocol(i.protocol()).authority(i.authority()).build(!e),this},y.host=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t)return this._parts.hostname?n.buildHost(this._parts):"";var r=n.parseHost(t,this._parts);if("/"!==r)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]');return this.build(!e),this},y.authority=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t)return this._parts.hostname?n.buildAuthority(this._parts):"";var r=n.parseAuthority(t,this._parts);if("/"!==r)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]');return this.build(!e),this},y.userinfo=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){if(!this._parts.username)return"";var r=n.buildUserinfo(this._parts);return r.substring(0,r.length-1)}return"@"!==t[t.length-1]&&(t+="@"),n.parseUserinfo(t,this._parts),this.build(!e),this},y.resource=function(t,e){var r;return void 0===t?this.path()+this.search()+this.hash():(r=n.parse(t),this._parts.path=r.path,this._parts.query=r.query,this._parts.fragment=r.fragment,this.build(!e),this)},y.subdomain=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,r)||""}var s=this._parts.hostname.length-this.domain().length,a=this._parts.hostname.substring(0,s),o=new RegExp("^"+i(a));return t&&"."!==t.charAt(t.length-1)&&(t+="."),t&&n.ensureValidHostname(t),this._parts.hostname=this._parts.hostname.replace(o,t),this.build(!e),this},y.domain=function(t,e){if(this._parts.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.match(/\./g);if(r&&r.length<2)return this._parts.hostname;var s=this._parts.hostname.length-this.tld(e).length-1;return s=this._parts.hostname.lastIndexOf(".",s-1)+1,this._parts.hostname.substring(s)||""}if(!t)throw new TypeError("cannot set domain empty");if(n.ensureValidHostname(t),!this._parts.hostname||this.is("IP"))this._parts.hostname=t;else{var a=new RegExp(i(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(a,t)}return this.build(!e),this},y.tld=function(t,e){if(this._parts.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var s=this._parts.hostname.lastIndexOf("."),n=this._parts.hostname.substring(s+1);return e!==!0&&r&&r.list[n.toLowerCase()]?r.get(this._parts.hostname)||n:n}var a;if(!t)throw new TypeError("cannot set TLD empty");if(t.match(/[^a-zA-Z0-9-]/)){if(!r||!r.is(t))throw new TypeError('TLD "'+t+'" contains characters other than [A-Z0-9]');a=new RegExp(i(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(a,t)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");a=new RegExp(i(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(a,t)}return this.build(!e),this},y.directory=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||t===!0){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var r=this._parts.path.length-this.filename().length-1,s=this._parts.path.substring(0,r)||(this._parts.hostname?"/":"");return t?n.decodePath(s):s}var a=this._parts.path.length-this.filename().length,o=this._parts.path.substring(0,a),h=new RegExp("^"+i(o));return this.is("relative")||(t||(t="/"),"/"!==t.charAt(0)&&(t="/"+t)),t&&"/"!==t.charAt(t.length-1)&&(t+="/"),t=n.recodePath(t),this._parts.path=this._parts.path.replace(h,t),this.build(!e),this},y.filename=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||t===!0){if(!this._parts.path||"/"===this._parts.path)return"";var r=this._parts.path.lastIndexOf("/"),s=this._parts.path.substring(r+1);return t?n.decodePathSegment(s):s}var a=!1;"/"===t.charAt(0)&&(t=t.substring(1)),t.match(/\.?\//)&&(a=!0);var o=new RegExp(i(this.filename())+"$");return t=n.recodePath(t),this._parts.path=this._parts.path.replace(o,t),a?this.normalizePath(e):this.build(!e),this},y.suffix=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||t===!0){if(!this._parts.path||"/"===this._parts.path)return"";var r,s,a=this.filename(),o=a.lastIndexOf(".");return o===-1?"":(r=a.substring(o+1),s=/^[a-z0-9%]+$/i.test(r)?r:"",t?n.decodePathSegment(s):s)}"."===t.charAt(0)&&(t=t.substring(1));var h,u=this.suffix();if(u)h=t?new RegExp(i(u)+"$"):new RegExp(i("."+u)+"$");else{if(!t)return this;this._parts.path+="."+n.recodePath(t)}return h&&(t=n.recodePath(t),this._parts.path=this._parts.path.replace(h,t)),this.build(!e),this},y.segment=function(t,e,r){var s=this._parts.urn?":":"/",n=this.path(),i="/"===n.substring(0,1),a=n.split(s);if(void 0!==t&&"number"!=typeof t&&(r=e,e=t,t=void 0),void 0!==t&&"number"!=typeof t)throw new Error('Bad segment "'+t+'", must be 0-based integer');if(i&&a.shift(),t<0&&(t=Math.max(a.length+t,0)),void 0===e)return void 0===t?a:a[t];if(null===t||void 0===a[t])if(o(e)){a=[];for(var h=0,u=e.length;h<u;h++)(e[h].length||a.length&&a[a.length-1].length)&&(a.length&&!a[a.length-1].length&&a.pop(),a.push(c(e[h])))}else(e||"string"==typeof e)&&(e=c(e),""===a[a.length-1]?a[a.length-1]=e:a.push(e));else e?a[t]=c(e):a.splice(t,1);return i&&a.unshift(""),this.path(a.join(s),r)},y.segmentCoded=function(t,e,r){var s,i,a;if("number"!=typeof t&&(r=e,e=t,t=void 0),void 0===e){if(s=this.segment(t,e,r),o(s))for(i=0,a=s.length;i<a;i++)s[i]=n.decode(s[i]);else s=void 0!==s?n.decode(s):void 0;return s}if(o(e))for(i=0,a=e.length;i<a;i++)e[i]=n.encode(e[i]);else e="string"==typeof e||e instanceof String?n.encode(e):e;return this.segment(t,e,r)};var S=y.query;return y.query=function(t,e){if(t===!0)return n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof t){var r=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace),s=t.call(this,r);return this._parts.query=n.buildQuery(s||r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this}return void 0!==t&&"string"!=typeof t?(this._parts.query=n.buildQuery(t,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this):S.call(this,t,e)},y.setQuery=function(t,e,r){var s=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof t||t instanceof String)s[t]=void 0!==e?e:null;else{if("object"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var i in t)_.call(t,i)&&(s[i]=t[i])}return this._parts.query=n.buildQuery(s,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(r=e),this.build(!r),this},y.addQuery=function(t,e,r){var s=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return n.addQuery(s,t,void 0===e?null:e),this._parts.query=n.buildQuery(s,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(r=e),this.build(!r),this},y.removeQuery=function(t,e,r){var s=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return n.removeQuery(s,t,e),this._parts.query=n.buildQuery(s,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(r=e),this.build(!r),this},y.hasQuery=function(t,e,r){var s=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return n.hasQuery(s,t,e,r)},y.setSearch=y.setQuery,y.addSearch=y.addQuery,y.removeSearch=y.removeQuery,y.hasSearch=y.hasQuery,y.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},y.normalizeProtocol=function(t){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!t)),this},y.normalizeHostname=function(r){return this._parts.hostname&&(this.is("IDN")&&t?this._parts.hostname=t.toASCII(this._parts.hostname):this.is("IPv6")&&e&&(this._parts.hostname=e.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!r)),this},y.normalizePort=function(t){return"string"==typeof this._parts.protocol&&this._parts.port===n.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!t)),this},y.normalizePath=function(t){var e=this._parts.path;if(!e)return this;if(this._parts.urn)return this._parts.path=n.recodeUrnPath(this._parts.path),this.build(!t),this;if("/"===this._parts.path)return this;e=n.recodePath(e);var r,s,i,a="";for("/"!==e.charAt(0)&&(r=!0,e="/"+e),"/.."!==e.slice(-3)&&"/."!==e.slice(-2)||(e+="/"),e=e.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),r&&(a=e.substring(1).match(/^(\.\.\/)+/)||"",a&&(a=a[0]));;){if(s=e.search(/\/\.\.(\/|$)/),s===-1)break;0!==s?(i=e.substring(0,s).lastIndexOf("/"),i===-1&&(i=s),e=e.substring(0,i)+e.substring(s+3)):e=e.substring(3)}return r&&this.is("relative")&&(e=a+e.substring(1)),this._parts.path=e,this.build(!t),this},y.normalizePathname=y.normalizePath,y.normalizeQuery=function(t){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(n.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!t)),this},y.normalizeFragment=function(t){return this._parts.fragment||(this._parts.fragment=null,this.build(!t)),this},y.normalizeSearch=y.normalizeQuery,y.normalizeHash=y.normalizeFragment,y.iso8859=function(){var t=n.encode,e=n.decode;n.encode=escape,n.decode=decodeURIComponent;try{this.normalize()}finally{n.encode=t,n.decode=e}return this},y.unicode=function(){var t=n.encode,e=n.decode;n.encode=d,n.decode=unescape;try{this.normalize()}finally{n.encode=t,n.decode=e}return this},y.readable=function(){var e=this.clone();e.username("").password("").normalize();var r="";if(e._parts.protocol&&(r+=e._parts.protocol+"://"),e._parts.hostname&&(e.is("punycode")&&t?(r+=t.toUnicode(e._parts.hostname),e._parts.port&&(r+=":"+e._parts.port)):r+=e.host()),e._parts.hostname&&e._parts.path&&"/"!==e._parts.path.charAt(0)&&(r+="/"),r+=e.path(!0),e._parts.query){for(var s="",i=0,a=e._parts.query.split("&"),o=a.length;i<o;i++){var h=(a[i]||"").split("=");s+="&"+n.decodeQuery(h[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==h[1]&&(s+="="+n.decodeQuery(h[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}r+="?"+s.substring(1)}return r+=n.decodeQuery(e.hash(),!0)},y.absoluteTo=function(t){var e,r,s,i=this.clone(),a=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t instanceof n||(t=new n(t)),i._parts.protocol||(i._parts.protocol=t._parts.protocol),this._parts.hostname)return i;for(r=0;s=a[r];r++)i._parts[s]=t._parts[s];return i._parts.path?".."===i._parts.path.substring(-2)&&(i._parts.path+="/"):(i._parts.path=t._parts.path,i._parts.query||(i._parts.query=t._parts.query)),"/"!==i.path().charAt(0)&&(e=t.directory(),e=e?e:0===t.path().indexOf("/")?"/":"",i._parts.path=(e?e+"/":"")+i._parts.path,i.normalizePath()),i.build(),i},y.relativeTo=function(t){var e,r,s,i,a,o=this.clone().normalize();if(o._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t=new n(t).normalize(),e=o._parts,r=t._parts,i=o.path(),a=t.path(),"/"!==i.charAt(0))throw new Error("URI is already relative");if("/"!==a.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(e.protocol===r.protocol&&(e.protocol=null),e.username!==r.username||e.password!==r.password)return o.build();if(null!==e.protocol||null!==e.username||null!==e.password)return o.build();if(e.hostname!==r.hostname||e.port!==r.port)return o.build();if(e.hostname=null,e.port=null,i===a)return e.path="",o.build();if(s=n.commonPath(i,a),!s)return o.build();var h=r.path.substring(s.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return e.path=h+e.path.substring(s.length)||"./",o.build()},y.equals=function(t){var e,r,s,i=this.clone(),a=new n(t),h={},u={},c={};if(i.normalize(),a.normalize(),i.toString()===a.toString())return!0;if(e=i.query(),r=a.query(),i.query(""),a.query(""),i.toString()!==a.toString())return!1;if(e.length!==r.length)return!1;h=n.parseQuery(e,this._parts.escapeQuerySpace),u=n.parseQuery(r,this._parts.escapeQuerySpace);for(s in h)if(_.call(h,s)){if(o(h[s])){if(!p(h[s],u[s]))return!1}else if(h[s]!==u[s])return!1;c[s]=!0}for(s in u)if(_.call(u,s)&&!c[s])return!1;return!0},y.duplicateQueryParameters=function(t){return this._parts.duplicateQueryParameters=!!t,this},y.escapeQuerySpace=function(t){return this._parts.escapeQuerySpace=!!t,this},n});
},{"./IPv6":141,"./SecondLevelDomains":142,"./punycode":144}],144:[function(require,module,exports){
(function (global){
!function(e){function o(e){throw new RangeError(T[e])}function n(e,o){for(var n=e.length,r=[];n--;)r[n]=o(e[n]);return r}function r(e,o){var r=e.split("@"),t="";r.length>1&&(t=r[0]+"@",e=r[1]),e=e.replace(S,".");var u=e.split("."),i=n(u,o).join(".");return t+i}function t(e){for(var o,n,r=[],t=0,u=e.length;t<u;)o=e.charCodeAt(t++),o>=55296&&o<=56319&&t<u?(n=e.charCodeAt(t++),56320==(64512&n)?r.push(((1023&o)<<10)+(1023&n)+65536):(r.push(o),t--)):r.push(o);return r}function u(e){return n(e,function(e){var o="";return e>65535&&(e-=65536,o+=P(e>>>10&1023|55296),e=56320|1023&e),o+=P(e)}).join("")}function i(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:b}function f(e,o){return e+22+75*(e<26)-((0!=o)<<5)}function c(e,o,n){var r=0;for(e=n?M(e/j):e>>1,e+=M(e/o);e>L*C>>1;r+=b)e=M(e/L);return M(r+(L+1)*e/(e+m))}function l(e){var n,r,t,f,l,s,d,a,p,h,v=[],g=e.length,w=0,m=I,j=A;for(r=e.lastIndexOf(E),r<0&&(r=0),t=0;t<r;++t)e.charCodeAt(t)>=128&&o("not-basic"),v.push(e.charCodeAt(t));for(f=r>0?r+1:0;f<g;){for(l=w,s=1,d=b;f>=g&&o("invalid-input"),a=i(e.charCodeAt(f++)),(a>=b||a>M((x-w)/s))&&o("overflow"),w+=a*s,p=d<=j?y:d>=j+C?C:d-j,!(a<p);d+=b)h=b-p,s>M(x/h)&&o("overflow"),s*=h;n=v.length+1,j=c(w-l,n,0==l),M(w/n)>x-m&&o("overflow"),m+=M(w/n),w%=n,v.splice(w++,0,m)}return u(v)}function s(e){var n,r,u,i,l,s,d,a,p,h,v,g,w,m,j,F=[];for(e=t(e),g=e.length,n=I,r=0,l=A,s=0;s<g;++s)v=e[s],v<128&&F.push(P(v));for(u=i=F.length,i&&F.push(E);u<g;){for(d=x,s=0;s<g;++s)v=e[s],v>=n&&v<d&&(d=v);for(w=u+1,d-n>M((x-r)/w)&&o("overflow"),r+=(d-n)*w,n=d,s=0;s<g;++s)if(v=e[s],v<n&&++r>x&&o("overflow"),v==n){for(a=r,p=b;h=p<=l?y:p>=l+C?C:p-l,!(a<h);p+=b)j=a-h,m=b-h,F.push(P(f(h+j%m,0))),a=M(j/m);F.push(P(f(a,0))),l=c(r,w,u==i),r=0,++u}++r,++n}return F.join("")}function d(e){return r(e,function(e){return F.test(e)?l(e.slice(4).toLowerCase()):e})}function a(e){return r(e,function(e){return O.test(e)?"xn--"+s(e):e})}var p="object"==typeof exports&&exports&&!exports.nodeType&&exports,h="object"==typeof module&&module&&!module.nodeType&&module,v="object"==typeof global&&global;v.global!==v&&v.window!==v&&v.self!==v||(e=v);var g,w,x=2147483647,b=36,y=1,C=26,m=38,j=700,A=72,I=128,E="-",F=/^xn--/,O=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=b-y,M=Math.floor,P=String.fromCharCode;if(g={version:"1.3.2",ucs2:{decode:t,encode:u},decode:l,encode:s,toASCII:a,toUnicode:d},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return g});else if(p&&h)if(module.exports==p)h.exports=g;else for(w in g)g.hasOwnProperty(w)&&(p[w]=g[w]);else e.punycode=g}(this);
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],145:[function(require,module,exports){
"use strict";var $=require("jquery"),_=require("underscore"),Backbone=require("backbone"),MainView=require("./views/main/main-view"),Router=require("./router"),SidebarView=require("./views/sidebar/sidebar-view"),HeaderView=require("./views/header/header-view"),DrawerView=require("./views/drawer/drawer-view"),AnalyticsHandler=require("./views/analytics-handler-view");Backbone.$=$,module.exports={bindEvents:function(){$(".disable-link").on("click",function(e){e.preventDefault(),$(this).closest(".displayed").addClass("disabled")})},init:function(){var e=window.regs||{};Router.start(),this.bindEvents();new AnalyticsHandler,new HeaderView,new DrawerView({forceOpen:e.drawer&&e.drawer.forceOpen}),new MainView,new SidebarView;setTimeout(function(){$("html").addClass("selenium-start")},5e3)}};
},{"./router":167,"./views/analytics-handler-view":168,"./views/drawer/drawer-view":177,"./views/header/header-view":181,"./views/main/main-view":186,"./views/sidebar/sidebar-view":193,"backbone":3,"jquery":17,"underscore":140}],146:[function(require,module,exports){
"use strict";var $=require("jquery"),_=require("underscore"),Backbone=require("backbone");Backbone.LocalStorage=require("backbone.localstorage");var commentModel=require("../models/comment-model"),CommentCollection=Backbone.Collection.extend({model:commentModel.CommentModel,localStorage:new Backbone.LocalStorage("eregsnc"),filter:function(e){return _.filter(this.models,function(o){return o.get("docId")===e})},toJSON:function(e){var o=(e||{}).docId?this.filter(e.docId):this.models;return _.map(o,function(o){return o.toJSON(e)})},comparator:commentModel.commentComparator}),comments=new CommentCollection;comments.fetch(),module.exports=comments;
},{"../models/comment-model":156,"backbone":3,"backbone.localstorage":2,"jquery":17,"underscore":140}],147:[function(require,module,exports){
"use strict";var $=require("jquery"),_=require("underscore"),Backbone=require("backbone");Backbone.$=$;var BreakawayEvents=_.clone(Backbone.Events);module.exports=BreakawayEvents;
},{"backbone":3,"jquery":17,"underscore":140}],148:[function(require,module,exports){
"use strict";var $=require("jquery"),_=require("underscore"),Backbone=require("backbone");Backbone.$=$,module.exports=_.clone(Backbone.Events);
},{"backbone":3,"jquery":17,"underscore":140}],149:[function(require,module,exports){
"use strict";var $=require("jquery"),_=require("underscore"),Backbone=require("backbone");Backbone.$=$;var DrawerEvents=_.clone(Backbone.Events);module.exports=DrawerEvents;
},{"backbone":3,"jquery":17,"underscore":140}],150:[function(require,module,exports){
"use strict";var $=require("jquery"),_=require("underscore"),Backbone=require("backbone");Backbone.$=$;var GAEvents=_.clone(Backbone.Events);module.exports=GAEvents;
},{"backbone":3,"jquery":17,"underscore":140}],151:[function(require,module,exports){
"use strict";var $=require("jquery"),_=require("underscore"),Backbone=require("backbone");Backbone.$=$;var HeaderEvents=_.clone(Backbone.Events);module.exports=HeaderEvents;
},{"backbone":3,"jquery":17,"underscore":140}],152:[function(require,module,exports){
"use strict";var $=require("jquery"),_=require("underscore"),Backbone=require("backbone");Backbone.$=$;var MainEvents=_.clone(Backbone.Events);module.exports=MainEvents;
},{"backbone":3,"jquery":17,"underscore":140}],153:[function(require,module,exports){
"use strict";var $=require("jquery"),dispatch=$.event.dispatch||$.event.handle,special=$.event.special,uid1="D"+ +new Date,uid2="D"+(+new Date+1);special.scrollstart={setup:function(t){var e,i=$.extend({latency:special.scrollstop.latency},t),l=function(t){var l=this,a=arguments;e?clearTimeout(e):(t.type="scrollstart",dispatch.apply(l,a)),e=setTimeout(function(){e=null},i.latency)};$(this).bind("scroll",l).data(uid1,l)},teardown:function(){$(this).unbind("scroll",$(this).data(uid1))}},special.scrollstop={latency:250,setup:function(t){var e,i=$.extend({latency:special.scrollstop.latency},t),l=function(t){var l=this,a=arguments;e&&clearTimeout(e),e=setTimeout(function(){e=null,t.type="scrollstop",dispatch.apply(l,a)},i.latency)};$(this).bind("scroll",l).data(uid2,l)},teardown:function(){$(this).unbind("scroll",$(this).data(uid2))}};
},{"jquery":17}],154:[function(require,module,exports){
"use strict";var $=require("jquery"),_=require("underscore"),Backbone=require("backbone");Backbone.$=$;var SidebarEvents=_.clone(Backbone.Events);module.exports=SidebarEvents;
},{"backbone":3,"jquery":17,"underscore":140}],155:[function(require,module,exports){
"use strict";var $=require("jquery"),_=require("underscore"),markerlessRE=/p\d+/;Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){if(void 0===this||null===this)throw new TypeError('"this" is null or not defined');var n=this.length>>>0;for(e=+e||0,Math.abs(e)===1/0&&(e=0),e<0&&(e+=n,e<0&&(e=0));e<n;e++)if(this[e]===t)return e;return-1}),module.exports={findBaseSection:function(t){var e,n;return t.indexOf("-")===-1?t:(e=t.split("-"),e.length<=2?t:(n=e.indexOf("Interp"),n!==-1?"Interp"===e[1]?t:e.slice(0,n+1).join("-"):e[0]+"-"+e[1]))},findVersion:function(t){return $(t.toc).attr("data-toc-version")||$(t.regLandingPage).attr("data-base-version")||$(t.timelineList).find(".stop-button").attr("data-version")},findDiffVersion:function(t,e){var n;return e=e||this.findVersion(t),n=$(t.diffToc).attr("data-from-version"),n&&n!==e||$(t.timelineList).find(".version-link").attr("data-version")!==e&&(n=$(t.timelineList).find(".version-link").attr("data-version")),n},isSupplement:function(t){var e;if("undefined"!=typeof t){if(e=_.compact(t.split("-")),e.length<2)return!1;if("interp"===e[1].toLowerCase())return!0}return!1},isAppendix:function(t){var e;if("undefined"!=typeof t){if(e=_.compact(t.split("-")),e.length<2)return!1;if(isNaN(e[1].substr(0,1))&&"interp"!==e[1].toLowerCase())return!0}return!1},formatSubpartLabel:function(t){var e=t.split("-"),n="Subpart ";return isNaN(e[0])===!1&&"Subpart"===e[1]&&(n+=e[2]),n},toggleExpandable:function(t,e){t.toggleClass("open").next(".chunk").slideToggle(e)},parsePreambleId:function(t){var e,n=t.split("-"),r=n.shift(),i=n.shift(),a=["preamble",r];"preamble"===i?(a=a.concat(n.slice(1,2)),e=[r].concat(n.slice(1,2))):"cfr"===i&&(a=a.concat(["cfr_changes",n.slice(0,2).join("-")]),e=n.slice(0,2));var o={path:a,type:i,docId:r,section:e};return n.length>2&&(o.hash=n.join("-")),o},parsePreambleCitationId:function(t,e){var n=t.substring(t.indexOf("#")+1),r=n.split("-"),i=r.shift();return e="preamble-section"===e?"preamble":"cfr",[i,e,n].join("-")}};
},{"jquery":17,"underscore":140}],156:[function(require,module,exports){
"use strict";var $=require("jquery"),Backbone=require("backbone"),commentModel=Backbone.Model.extend({defaults:{docId:"",label:"",comment:"",commentHtml:"",files:[],indexes:[]}}),indexComparator=function(e,o){for(var r=Math.max(e.length,o.length),t=0;t<r;t++){if(void 0===e[t])return-1;if(void 0===o[t])return 1;if(e[t]<o[t])return-1;if(e[t]>o[t])return 1}return 0},commentComparator=function(e,o){return indexComparator(e.get("indexes"),o.get("indexes"))};module.exports={CommentModel:commentModel,commentComparator:commentComparator};
},{"backbone":3,"jquery":17}],157:[function(require,module,exports){
"use strict";var _=require("underscore"),Backbone=require("backbone"),MetaModel=require("./meta-model");Backbone.DefinitionModel=MetaModel.extend({});var definitionModel=new Backbone.DefinitionModel({supplementalPath:"definition"});module.exports=definitionModel;
},{"./meta-model":159,"backbone":3,"underscore":140}],158:[function(require,module,exports){
"use strict";var URI=require("urijs"),_=require("underscore"),Backbone=require("backbone"),MetaModel=require("./meta-model");Backbone.DiffModel=MetaModel.extend({});var diffModel=new Backbone.DiffModel({getAJAXUrl:function(e,r){return window.APP_PREFIX+"partial/diff/"+this.assembleDiffURL(r)},assembleDiffURL:function(e){return URI([e.id,e.baseVersion,e.newerVersion].join("/")).query({from_version:e.fromVersion}).toString()}});module.exports=diffModel;
},{"./meta-model":159,"backbone":3,"underscore":140,"urijs":143}],159:[function(require,module,exports){
"use strict";var $=require("jquery"),_=require("underscore"),Backbone=require("backbone"),Helpers=require("../helpers"),Resources=require("../resources");Backbone.$=$;var MetaModel=Backbone.Model.extend({constructor:function(e){var t;if("undefined"!=typeof e)for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this.content=this.content||{},this.structure=this.structure||[],Backbone.Model.apply(this,arguments)},set:function(e,t){var r,n=this.has(e);return"undefined"==typeof e||_.isEmpty(e)||(n?r=n:(this.content[e]=t,r=t,_.indexOf(this.structure,e)===-1&&this.structure.push(e))),r},has:function(e){return!!this.content[e]},get:function(e,t){return this.has(e)?$.when(this.content[e]):this.request(e,t)},request:function(e,t){return $.ajax({url:this.getAJAXUrl(e,t),success:function(t){this.set(e,t)}.bind(this)})},getAJAXUrl:function(e,t){var r=window.APP_PREFIX+"partial/";return"undefined"!=typeof this.supplementalPath&&(r+=this.supplementalPath+"/"),r+=e,e.indexOf("/")===-1&&(r+="/"+Helpers.findVersion(Resources.versionElements)),r}});module.exports=MetaModel;
},{"../helpers":155,"../resources":166,"backbone":3,"jquery":17,"underscore":140}],160:[function(require,module,exports){
"use strict";var URI=require("urijs"),_=require("underscore"),Backbone=require("backbone"),MetaModel=require("./meta-model"),helpers=require("../helpers");Backbone.PreambleModel=MetaModel.extend({getAJAXUrl:function(e){var r=helpers.parsePreambleId(e).path;return r[0]=window.APP_PREFIX+r[0],URI().path(r.join("/")).addQuery({partial:"true"}).toString()}}),module.exports=new Backbone.PreambleModel({});
},{"../helpers":155,"./meta-model":159,"backbone":3,"underscore":140,"urijs":143}],161:[function(require,module,exports){
"use strict";var $=require("jquery"),Backbone=require("backbone"),MetaModel=require("./meta-model");Backbone.RegModel=MetaModel.extend({}),module.exports=new Backbone.RegModel;
},{"./meta-model":159,"backbone":3,"jquery":17}],162:[function(require,module,exports){
"use strict";var URI=require("urijs"),_=require("underscore"),Backbone=require("backbone"),MetaModel=require("./meta-model");Backbone.SearchModel=MetaModel.extend({});var searchModel=new Backbone.SearchModel({supplementalPath:"search",getAJAXUrl:function(e,r){var a=window.APP_PREFIX+"partial/";return"undefined"!=typeof this.supplementalPath&&(a+=this.supplementalPath+"/"),a+this.assembleSearchURL(r)},assembleSearchURL:function(e){var r=e.docType||"cfr",a=[r,e.docId].join("/"),n={q:e.query};return e.regVersion&&(n.version=e.regVersion),"undefined"!=typeof e.page&&(n.page=e.page),URI(a).query(n).toString()}});module.exports=searchModel;
},{"./meta-model":159,"backbone":3,"underscore":140,"urijs":143}],163:[function(require,module,exports){
"use strict";var _=require("underscore"),Backbone=require("backbone"),MetaModel=require("./meta-model");Backbone.SidebarModel=MetaModel.extend({}),module.exports=new Backbone.SidebarModel({supplementalPath:"sidebar"});
},{"./meta-model":159,"backbone":3,"underscore":140}],164:[function(require,module,exports){
"use strict";var _=require("underscore"),Backbone=require("backbone"),MetaModel=require("./meta-model");Backbone.SxSModel=MetaModel.extend({});var sxsModel=new Backbone.SxSModel({supplementalPath:"sxs"});module.exports=sxsModel;
},{"./meta-model":159,"backbone":3,"underscore":140}],165:[function(require,module,exports){
"use strict";window.$=window.jQuery=require("jquery");var app=require("./app-init");Function.prototype.bind||(Function.prototype.bind=function(o){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,i=function(){},e=function(){return n.apply(this instanceof i&&o?this:o,t.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,e.prototype=new i,e}),window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),$(document).ready(function(){app.init()}),window.AccessibilityTest=function(){console=console||{error:function(){}},$("img").each(function(){"undefined"==typeof this.attributes.alt&&console.error("Image does not have alt text",this)}),$("p, h1, h2, h3, h4, h5, h6, div, span").each(function(){$(this).css("font-size").indexOf("em")===-1&&$(this).css("font-size").indexOf("px")>0&&console.error("Font size is set in px, not ems",this)})};
},{"./app-init":145,"jquery":17}],166:[function(require,module,exports){
"use strict";module.exports={versionElements:{toc:"nav#toc",regLandingPage:"section[data-base-version]",timelineList:"#timeline li.current",diffToc:"#table-of-contents"}};
},{}],167:[function(require,module,exports){
"use strict";var _=require("underscore"),Backbone=require("backbone"),MainView=require("./views/main/main-view"),MainEvents=require("./events/main-events"),BreakawayEvents=require("./events/breakaway-events");require("backbone-query-parameters");var RegsRouter;RegsRouter="undefined"==typeof window.history.pushState?function(){this.start=function(){},this.navigate=function(){},this.hasPushState=!1}:Backbone.Router.extend({routes:{"sxs/:section/:version":"loadSxS","search/:docType/:reg":"loadSearchResults","diff/:section/:baseVersion/:newerVersion":"loadDiffSection",":section/:version":"loadSection",":section":"loadSection","preamble/:docId/:section":"loadPreamble","preamble/:docId/cfr_changes/:section":"loadCfrChanges"},loadSection:function(e){this.openSection(e,"reg-section")},loadPreamble:function(e,n){var o=[e,"preamble",e,n];this.openSection(o.join("-"),"preamble-section")},loadCfrChanges:function(e,n){var o=[e,"cfr",n];this.openSection(o.join("-"),"preamble-section")},openSection:function(e,n){var o={id:e,scrollToId:Backbone.history.getHash(),noRoute:!0};MainEvents.trigger("section:open",e,o,n)},loadDiffSection:function(e,n,o,r){var t={};t.id=e,t.baseVersion=n,t.newerVersion=o,t.noRoute=!0,t.fromVersion=r.from_version,MainEvents.trigger("diff:open",e,t,"diff")},loadSxS:function(e,n,o){BreakawayEvents.trigger("sxs:open",{regParagraph:e,docNumber:n,fromVersion:o.from_version})},loadSearchResults:function(e,n,o){var r={query:o.q,regVersion:o.regVersion,docType:e};"undefined"!=typeof o.page&&(r.page=o.page),MainEvents.trigger("search-results:open",null,r,"search-results")},start:function(){var e=window.APP_PREFIX||"";Backbone.history.start({pushState:"pushState"in window.history,silent:!0,root:e})},hasPushState:!0});var router=new RegsRouter;module.exports=router;
},{"./events/breakaway-events":147,"./events/main-events":152,"./views/main/main-view":186,"backbone":3,"backbone-query-parameters":1,"underscore":140}],168:[function(require,module,exports){
"use strict";var $=require("jquery"),_=require("underscore"),Backbone=require("backbone"),GAEvents=require("../events/ga-events");Backbone.$=$;var AnalyticsHandler=Backbone.View.extend({initialize:function(){GAEvents.on("section:open",this.sendEvent,"open"),GAEvents.on("definition:open",this.sendEvent,"open"),GAEvents.on("definition:close",this.sendEvent,"close"),GAEvents.on("interp:expand",this.sendEvent,"expand"),GAEvents.on("interp:collapse",this.sendEvent,"collapse"),GAEvents.on("interp:followCitation",this.sendEvent,"click citation"),GAEvents.on("definition:followCitation",this.sendEvent,"click citation"),GAEvents.on("sxs:open",this.sendEvent,"open"),GAEvents.on("drawer:open",this.sendEvent,"open"),GAEvents.on("drawer:close",this.sendEvent,"close"),GAEvents.on("drawer:switchTab",this.sendEvent,"switch tab"),$("#timeline .stop-button").on("click",function(){this.sendEvent({type:"diff"}).bind("click stop comparing")}.bind(this))},sendEvent:function(e){var n,t=[];"undefined"!=typeof window.ga&&("undefined"!=typeof e.type&&(t.push(e.type),_.contains(["reg-section","definition","inline-interp","sxs","drawer"],e.type)&&"undefined"!=typeof e.id&&null!==e.id&&t.push(e.id)),"undefined"!=typeof e.sectionId&&t.push(e.sectionId),"undefined"!=typeof e.regVersion&&t.push("version:"+e.regVersion),"undefined"!=typeof e.baseVersion&&"undefined"!=typeof e.newerVersion&&(t.push("comparing:"+e.baseVersion),t.push(e.newerVersion)),"undefined"!=typeof e.query&&t.push("query:"+e.query),"undefined"!=typeof e.page&&t.push("results page:"+e.page),"undefined"!=typeof e.from&&t.push("from:"+e.from),"undefined"!=typeof e.by&&t.push("by:"+e.by),"undefined"!=typeof e.to&&t.push("to:"+e.to),"undefined"!=typeof e.docNumber&&t.push("doc:"+e.docNumber),n=t.join(" "),window.ga("send","event",n,this))}});module.exports=AnalyticsHandler;
},{"../events/ga-events":150,"backbone":3,"jquery":17,"underscore":140}],169:[function(require,module,exports){
"use strict";var $=require("jquery"),_=require("underscore"),Backbone=require("backbone"),SxS=require("./sxs-view"),Router=require("../../router"),BreakawayEvents=require("../../events/breakaway-events"),MainEvents=require("../../events/main-events"),SidebarEvents=require("../../events/sidebar-events");Backbone.$=$;var BreakawayView=Backbone.View.extend({childViews:{},initialize:function(){this.listenTo(BreakawayEvents,"sxs:open",this.openSxS)},openSxS:function(e){e.url=e.regParagraph+"/"+e.docNumber+"?from_version="+e.fromVersion,this.childViews.sxs=new SxS(e),Router.hasPushState&&Router.navigate("sxs/"+e.url),MainEvents.trigger("breakaway:open",_.bind(this.removeChild,this)),SidebarEvents.trigger("breakaway:open")},removeChild:function(){this.childViews.sxs.remove(),delete this.childViews.sxs}}),breakaway=new BreakawayView;module.exports=breakaway;
},{"../../events/breakaway-events":147,"../../events/main-events":152,"../../events/sidebar-events":154,"../../router":167,"./sxs-view":170,"backbone":3,"jquery":17,"underscore":140}],170:[function(require,module,exports){
"use strict";var $=require("jquery"),_=require("underscore"),Backbone=require("backbone"),SxS=require("./sxs-view"),Router=require("../../router"),SxSModel=require("../../models/sxs-model"),BreakawayEvents=require("../../events/breakaway-events"),MainEvents=require("../../events/main-events");Backbone.$=$;var SxSView=Backbone.View.extend({el:"#breakaway-view",events:{"click .sxs-back-button":"remove","click .footnote-jump-link":"footnoteHighlight","click .return-link":"removeHighlight"},initialize:function(e){this.options=e,this.$el.addClass("open-sxs"),this.changeState("inprogress"),SxSModel.get(this.options.url,{}).then(function(e){this.$el.html(e)}.bind(this)).fail(function(){this.$el.html('<div class="error"><span class="cf-icon cf-icon-error icon-warning"></span>Due to a network error, we were unable to retrieve the requested information.</div>')}.bind(this)).always(function(){this.changeState("completed")}.bind(this)),this.listenTo(BreakawayEvents,"sxs:close",this.remove),Router.hasPushState===!1&&(this.events={})},changeState:function(e){this.$el.removeClass(this.loadingState),this.loadingState=e,this.$el.addClass(e)},footnoteHighlight:function(e){var t=$(e.target).attr("href");this.removeHighlight(),$(".footnotes "+t).toggleClass("highlight")},removeHighlight:function(){$(".footnotes li").removeClass("highlight")},remove:function(e){return"undefined"!=typeof e&&(e.preventDefault(),window.history.back()),this.$el.removeClass("open-sxs"),this.$el.html(""),this.stopListening(),this.$el.off(),this}});module.exports=SxSView;
},{"../../events/breakaway-events":147,"../../events/main-events":152,"../../models/sxs-model":164,"../../router":167,"./sxs-view":170,"backbone":3,"jquery":17,"underscore":140}],171:[function(require,module,exports){
"use strict";var $=require("jquery"),_=require("underscore"),Backbone=require("backbone");Backbone.$=$;var CommentEvents=require("../../events/comment-events"),AttachmentView=Backbone.View.extend({events:{"click .attachment-remove":"handleRemove"},initialize:function(e){this.template=_.template(document.querySelector("#comment-attachment-template").innerHTML),this.options=e,this.options.xhr&&(this.options.xhr.upload.addEventListener("progress",this.handleProgress.bind(this)),this.options.xhr.upload.addEventListener("load",this.handleLoad.bind(this))),this.render(),this.$progress=this.$el.find(".attachment-progress")},render:function(){var e=$(this.template(this.options));this.options.$parent.append(e),this.setElement(e)},handleProgress:function(e){var t=e.loaded/e.total;this.$progress.text(Math.round(1e3*t)/10)},handleLoad:function(){this.$progress.empty()},handleRemove:function(){CommentEvents.trigger("attachment:remove",this.options.key),this.options.xhr&&this.options.xhr.abort()}});module.exports=AttachmentView;
},{"../../events/comment-events":148,"backbone":3,"jquery":17,"underscore":140}],172:[function(require,module,exports){
"use strict";var $=require("jquery"),URI=require("urijs"),_=require("underscore"),Backbone=require("backbone");Backbone.$=$;var MainEvents=require("../../events/main-events"),CommentEvents=require("../../events/comment-events"),comments=require("../../collections/comment-collection"),CommentConfirmView=Backbone.View.extend({initialize:function(e){Backbone.View.prototype.setElement.call(this,"#"+e.id),this.docId=this.$el.data("doc-id"),this.metadataUrl=this.$el.data("metadata-url"),this.metadataUrl&&(this.poll(this.metadataUrl),comments.filter(this.docId).forEach(function(e){e.destroy()}))},poll:function(e){this.interval=window.setInterval(function(){$.getJSON(e).then(function(e){e.error?this.setRegsGovError():(this.setPdfUrl(e.pdfUrl),this.setTrackingNumber(e.trackingNumber)),window.clearInterval(this.interval)}.bind(this))}.bind(this),5e3)},replaceTemplate:function(e,t,i){i||(i=".js-template"),this.$el.find(e).each(function(e,n){var r=$(n),a=r.find(i),s=_.template(a.prop("innerHTML"))(t);r.empty(),r.append(a),r.append(s)})},setPdfUrl:function(e){this.replaceTemplate(".save-pdf",{url:e})},setTrackingNumber:function(e){this.replaceTemplate(".tracking-number .status",{number:e}),this.$el.find(".status").addClass("tracking-number-retrieved"),this.$el.find(".status-waiting").hide()},setRegsGovError:function(){this.replaceTemplate(".status-container",{},".js-regsgov-error")}});module.exports=CommentConfirmView;
},{"../../collections/comment-collection":146,"../../events/comment-events":148,"../../events/main-events":152,"backbone":3,"jquery":17,"underscore":140,"urijs":143}],173:[function(require,module,exports){
"use strict";function getOptions(e){var t=$(e).closest(".comment-index-item");return{section:t.data("comment-section"),tocId:t.data("comment-toc-section"),label:t.data("comment-label")}}var $=require("jquery"),_=require("underscore"),Backbone=require("backbone");Backbone.$=$;var MainEvents=require("../../events/main-events"),DrawerEvents=require("../../events/drawer-events"),CommentEvents=require("../../events/comment-events"),comments=require("../../collections/comment-collection");module.exports=Backbone.CommentIndexView=Backbone.View.extend({events:{"click .comment-index-edit":"editComment","click .comment-index-clear":"clearComment"},initialize:function(e){this.docId=e.docId,this.template=_.template($("#comment-index-template").html()),this.$index=this.$el.find(".comment-index-items"),this.$commentIndexReview=this.$el.find(".comment-index-review"),this.listenTo(comments,"add remove",this.render),this.render()},render:function(){var e=comments.toJSON({docId:this.docId}),t=this.template({comments:e});this.$index.html(t),e.length?this.$commentIndexReview.show():this.$commentIndexReview.hide()},editComment:function(e){var t=_.extend({mode:"write"},getOptions(e.target)),n=t.section.split("-")[1];DrawerEvents.trigger("section:open",t.tocId),DrawerEvents.trigger("pane:change","preamble"===n?"table-of-contents":"table-of-contents-secondary"),MainEvents.trigger("section:open",t.section,t,"preamble-section"),CommentEvents.trigger("comment:writeTabOpen")},clearComment:function(e){var t=getOptions(e.target),n=comments.get(t.section);n&&n.destroy()}});
},{"../../collections/comment-collection":146,"../../events/comment-events":148,"../../events/drawer-events":149,"../../events/main-events":152,"backbone":3,"jquery":17,"underscore":140}],174:[function(require,module,exports){
"use strict";function selfOrChild(e,t){return e.is(t)?e:e.find(t)}function toggleInput(e,t){e.toggle(t),selfOrChild(e,"input, select").prop("disabled",!t)}var $=require("jquery"),URI=require("urijs"),_=require("underscore"),Backbone=require("backbone");Backbone.$=$;var MainEvents=require("../../events/main-events"),CommentEvents=require("../../events/comment-events"),comments=require("../../collections/comment-collection"),DrawerEvents=require("../../events/drawer-events"),CommentReviewView=Backbone.View.extend({events:{"click .edit-comment":"editComment","click .preview-button":"preview","change #agree":"toggleSubmit"},initialize:function(e){Backbone.View.prototype.setElement.call(this,"#"+e.id),this.$content=this.$el.find(".comment-review-items"),this.docId=this.$el.data("doc-id"),this.template=_.template($("#comment-template").html()),this.previewLoading=!1,DrawerEvents.trigger("pane:init","table-of-contents"),this.render()},findElms:function(){this.$form=this.$el.find("form"),this.$submit=this.$el.find(".submit-button"),this.$agree=this.$el.find("#agree")},editComment:function(e){var t=$(e.target).closest("li").data("section"),i=$(e.target).closest("li").find(".comment-section-label").text(),n={id:t,section:t,label:i,mode:"write"};$("#content-body").removeClass("comment-review-wrapper"),MainEvents.trigger("section:open",t,n,"preamble-section"),CommentEvents.trigger("comment:writeTabOpen")},render:function(){var e=comments.toJSON({docId:this.docId}),t=this.template({comments:e,previewLoading:this.previewLoading});this.$content.html(t),this.findElms(),this.toggleSubmit(),this.initTabs(),this.initDependencies(),this.$form.find('[name="comments"]').val(JSON.stringify(e)),this.$el.find(".toggle .collapsible").attr("aria-hidden","true").hide(),this.$el.find(".toggle .toggle-button-close").attr("aria-hidden","true").hide(),CommentEvents.trigger("comment:writeTabOpen")},initTabs:function(){function e(e,i){var n='[data-tab="'+e+'"]',a='[data-tab-set="'+i+'"]';t.$el.find(a).removeClass("current"),t.$el.find(a+n).addClass("current"),t.$el.find(a+"[data-tabs]").each(function(t,i){var n=$(i),a=n.data("tabs");a.indexOf(e)!==-1?n.show():n.hide()})}var t=this,i=t.$el.find("[data-tab]");e(i.data("tab"),i.data("tab-set")),i.on("click",function(t){var i=$(this);t.preventDefault(),e(i.data("tab"),i.data("tab-set"))})},initDependencies:function(){var e=this;e.$el.find("[data-depends-on]").each(function(t,i){function n(e){r.find("option[value]").remove();var t=0,i=[];s.each(function(n,a){var r=a.getAttribute("data-dependency");r===e&&t++,r!==e&&"_all"!==r||i.push(a)}),toggleInput(d,0===t),toggleInput(a,t>0),r.append(i),r.val(null)}var a=$(i),r=selfOrChild(a,"select"),o=e.$el.find('[name="'+a.data("depends-on")+'"]'),s=r.find("option[value]").detach().clone(),d=e.$el.find('[data-writein-for="'+r.prop("id")+'"]');n(o.val()),o.on("change",function(){n($(this).val())})})},preview:function(e){e.preventDefault();var t=$.ajax({type:"POST",url:window.APP_PREFIX+"comments/preview",data:JSON.stringify({assembled_comment:comments.toJSON({docId:this.docId})}),contentType:"application/json",dataType:"json"});t.then(this.previewSuccess.bind(this),this.previewError.bind(this)),this.previewLoading=!0,this.render()},previewSuccess:function(e){window.location=e.url,this.previewLoading=!1,this.render()},previewError:function(e,t,i){this.previewLoading=!1,this.render(),this.$el.find(".download-comment").find(".details").after('<div class="error">There was an error in building the PDF.</div>')},toggleSubmit:function(){this.$agree.length&&this.$submit.prop("disabled",!this.$agree.prop("checked"))}});module.exports=CommentReviewView;
},{"../../collections/comment-collection":146,"../../events/comment-events":148,"../../events/drawer-events":149,"../../events/main-events":152,"backbone":3,"jquery":17,"underscore":140,"urijs":143}],175:[function(require,module,exports){
"use strict";function getUploadUrl(t){return $.getJSON(window.APP_PREFIX+"comments/attachment",{size:t.size,name:t.name,type:t.type||"application/octet-stream"}).then(function(t){return t})}var $=require("jquery"),_=require("underscore"),Backbone=require("backbone"),filesize=require("filesize");Backbone.$=$;var edit=require("prosemirror/dist/edit"),menu=require("prosemirror/dist/menu/menu");require("prosemirror/dist/menu/menubar"),require("prosemirror/dist/markdown");var MainEvents=require("../../events/main-events"),DrawerEvents=require("../../events/drawer-events"),CommentModel=require("../../models/comment-model").CommentModel,CommentEvents=require("../../events/comment-events"),AttachmentView=require("../../views/comment/attachment-view"),comments=require("../../collections/comment-collection"),helpers=require("../../helpers"),MAX_ATTACHMENTS=9,CommentView=Backbone.View.extend({events:{'change input[type="file"]':"addAttachments",'dragenter input[type="file"]':"highlightDropzone",'dragleave input[type="file"]':"unhighlightDropzone","click .comment-header":"openComment","click .comment-context-toggle":"toggleCommentExcerpt","click .comment-delete-response":"deleteComment","submit form":"save"},initialize:function(t){this.options=t,this.$context=this.$el.find(".comment-context"),this.$contextSectionLabel=this.$el.find(".comment-context-section"),this.$header=this.$el.find(".comment-header"),this.$headerLink=this.$el.find(".comment-header-link"),this.$deleteResponseDiv=this.$el.find(".comment-delete-response"),this.$container=this.$el.find(".editor-container"),this.$input=this.$el.find('input[type="file"]'),this.$attachmentCount=this.$el.find(".comment-attachment-count"),this.$attachmentLimit=this.$el.find(".comment-attachment-limit"),this.$attachments=this.$el.find(".comment-attachments"),this.$status=this.$el.find(".status");var e=new menu.MenuCommandGroup("insert"),n=new menu.Dropdown({label:"Heading",displayActive:!0},[new menu.MenuCommandGroup("textblock"),new menu.MenuCommandGroup("textblockHeading")]);this.editor=new edit.ProseMirror({menuBar:{content:[menu.inlineGroup,n,menu.blockGroup,e]},commands:edit.CommandSet.default.update({"code:toggle":{menu:null},"code_block:make":{menu:null},"image:insert":{menu:null},selectParentNode:{menu:null}}),place:this.$container.get(0),docFormat:"markdown",doc:""}),this.attachmentViews=[],this.listenTo(CommentEvents,"comment:target",this.target),this.listenTo(CommentEvents,"attachment:remove",this.clearAttachment),this.setSection(t.section,t.tocId,t.indexes,t.label)},setSection:function(t,e,n,i,o){this.model&&this.stopListening(this.model);var s={id:t,tocId:e,indexes:n,label:i,docId:this.options.docId};this.model=o?new CommentModel(s):comments.get(t)||new CommentModel(s),this.listenTo(this.model,"destroy",this.setSection.bind(this,t,e,n,i,!0)),this.render()},target:function(t){if(this.setSection(t.section,t.tocId,t.indexes,t.label),this.$context.empty(),t.$parent){var e=t.label,n=helpers.parsePreambleId(t.section),i=window.APP_PREFIX+n.path.join("/")+"#"+n.hash,o=t.$parent.find(".node:first :header");o.length&&(e=[e,o.text().split(". ").slice(1)].join(". "),o.remove()),this.$headerLink.html('<a href="'+i+'">'+e+"</a>"),this.$contextSectionLabel.html(t.label),this.$deleteResponseDiv.attr("data-section",t.section),this.$context.append(t.$parent)}},openComment:function(t){t.preventDefault();var e={section:this.model.get("id"),tocId:this.model.get("tocId"),label:this.model.get("label")},n=e.section.split("-")[1];DrawerEvents.trigger("section:open",e.tocId),DrawerEvents.trigger("pane:change","preamble"===n?"table-of-contents":"table-of-contents-secondary"),MainEvents.trigger("section:open",e.section,e,"preamble-section")},toggleCommentExcerpt:function(){$(".comment-context-text-show").toggle(),$(".comment-context-text-hide").toggle(),$(".fa-plus-circle").toggle(),$(".fa-minus-circle").toggle(),$(".comment-context").toggle()},render:function(){this.editor.setContent(this.model.get("comment"),"markdown"),this.$attachments.empty(),this.attachmentViews=this.model.get("files").map(function(t){return new AttachmentView(_.extend({$parent:this.$attachments},t))}.bind(this)),this.setAttachmentCount(),this.$attachmentLimit.html("<strong>Limit</strong>: "+MAX_ATTACHMENTS+" total attachments.")},highlightDropzone:function(){this.$input.addClass("highlight")},unhighlightDropzone:function(){this.$input.removeClass("highlight")},addAttachments:function(t){return this.attachmentCount+t.target.files.length>MAX_ATTACHMENTS?void this.$status.text("Too many attachments"):(_.each(t.target.files,function(t){this.addAttachment(t)}.bind(this)),this.$input.val(null),void this.unhighlightDropzone())},addAttachment:function(t){getUploadUrl(t).then(function(e){var n=new XMLHttpRequest;this.attachmentViews.push(new AttachmentView({$parent:this.$attachments,previewUrl:e.urls.get,name:t.name,size:filesize(t.size),key:e.key,xhr:n})),this.setAttachmentCount(),n.open("PUT",e.urls.put),n.setRequestHeader("Content-Type",t.type||"application/octet-stream"),n.setRequestHeader("x-amz-meta-name",t.name),n.send(t)}.bind(this))},clearAttachment:function(t){var e=_.findIndex(this.attachmentViews,function(e){return e.options.key===t});this.attachmentViews[e].remove(),this.attachmentViews.splice(e,1),this.setAttachmentCount()},setAttachmentCount:function(){var t=comments.filter(this.options.docId).reduce(function(t,e){var n=e.id!==this.model.id?e.get("files").length:0;return t+n}.bind(this),0);t+=this.attachmentViews.length,this.attachmentCount=t;var e=1!==this.attachmentCount?"s":"";this.$attachmentCount.text("You've uploaded "+this.attachmentCount+" total attachment"+e+"."),this.$input.prop("disabled",this.attachmentCount>=MAX_ATTACHMENTS)},deleteComment:function(t){t.preventDefault();var e=comments.get($(t.target).data("section"));e&&(e.destroy(),this.editor.setContent("","html"),this.$status.hide().html("Your comment was deleted.").fadeIn())},save:function(t){t.preventDefault(),this.model.set({comment:this.editor.getContent("markdown"),commentHtml:this.editor.getContent("html"),files:_.map(this.attachmentViews,function(t){return{key:t.options.key,name:t.options.name,size:t.options.size,previewUrl:t.options.previewUrl}})}),comments.add(this.model),this.model.save(),this.$status.hide().html("Your comment was saved.").fadeIn()}});module.exports=CommentView;
},{"../../collections/comment-collection":146,"../../events/comment-events":148,"../../events/drawer-events":149,"../../events/main-events":152,"../../helpers":155,"../../models/comment-model":156,"../../views/comment/attachment-view":171,"backbone":3,"filesize":15,"jquery":17,"prosemirror/dist/edit":28,"prosemirror/dist/markdown":42,"prosemirror/dist/menu/menu":45,"prosemirror/dist/menu/menubar":46,"underscore":140}],176:[function(require,module,exports){
"use strict";var $=require("jquery"),_=require("underscore"),Backbone=require("backbone"),DrawerEvents=require("../../events/drawer-events"),GAEvents=require("../../events/ga-events"),MainEvents=require("../../events/main-events");Backbone.$=$;var DrawerTabsView=Backbone.View.extend({el:".toc-head",events:{"click .toc-toggle":"openDrawer","click .toc-nav-link":"updatePaneTabs"},idMap:{"table-of-contents":"#menu-link","table-of-contents-secondary":"#table-of-contents-secondary-link",timeline:"#timeline-link",search:"#search-link"},initialize:function(e){this.listenTo(DrawerEvents,"pane:change",this.changeActiveTab),this.listenTo(DrawerEvents,"pane:init",this.setStartingTab),this.$activeEls=$("#menu, #site-header, #content-body, #primary-footer, #content-header"),this.$tocLinks=$(".toc-nav-link"),this.$toggleArrow=$("#panel-link"),this.drawerState="close",(e.forceOpen||document.documentElement.clientWidth>1100)&&(this.$toggleArrow.addClass("open"),this.drawerState="open"),this.$activeEls.addClass(this.drawerState)},setStartingTab:function(e){$(this.idMap[e]).addClass("current")},changeActiveTab:function(e){this.$tocLinks.removeClass("current"),$(this.idMap[e]).addClass("current"),GAEvents.trigger("drawer:switchTab",{id:e,type:"drawer"})},updateDOMState:function(){"undefined"!=typeof this.$activeEls&&this.$activeEls.toggleClass(this.drawerState)},openDrawer:function(e){var t={type:"drawer"};e&&e.preventDefault(),this.toggleDrawerState(),e&&($(e.target).hasClass("open")?GAEvents.trigger("drawer:open",t):GAEvents.trigger("drawer:close",t),MainEvents.trigger("section:resize",t))},toggleDrawerState:function(){var e="open"===this.drawerState?"close":"open";this.updateDOMState(),this.$toggleArrow.toggleClass("open"),this.drawerState=e,this.updateDOMState()},updatePaneTabs:function(e){e.preventDefault();var t=$(e.target),a=_.last(t.closest("a").attr("href").split("#"));this.activePane=a,"-200px"===$(".panel").css("left")&&this.openDrawer(),DrawerEvents.trigger("pane:change",a)}});module.exports=DrawerTabsView;
},{"../../events/drawer-events":149,"../../events/ga-events":150,"../../events/main-events":152,"backbone":3,"jquery":17,"underscore":140}],177:[function(require,module,exports){
"use strict";var $=require("jquery"),_=require("underscore"),Backbone=require("backbone"),TOCView=require("./toc-view"),HistoryView=require("./history-view"),SearchView=require("./search-view"),DrawerTabs=require("./drawer-tabs-view"),DrawerEvents=require("../../events/drawer-events");Backbone.$=$;var DrawerView=Backbone.View.extend({el:"#menu",initialize:function(e){this.listenTo(DrawerEvents,"pane:change",this.setActivePane),this.listenTo(DrawerEvents,"pane:init",this.setActivePane),this.$label=$(".toc-type"),this.$children=$(".toc-container"),this.childViews={},this.childViews["table-of-contents"]=new TOCView,this.childViews.timeline=new HistoryView,this.childViews.search=new SearchView,this.childViews["drawer-tabs"]=new DrawerTabs({forceOpen:e.forceOpen});var i=$("#table-of-contents-secondary");i.length&&(this.childViews["table-of-contents-secondary"]=new TOCView({el:i})),this.setActivePane("table-of-contents")},pageTypeMap:{diff:"timeline","reg-section":"table-of-contents",error:"table-of-contents","search-results":"search"},setActivePane:function(e){"undefined"==typeof this.childViews[e]&&(e=this.pageTypeMap[e]),this.$children.addClass("hidden"),this.childViews[e].$el.removeClass("hidden")}});module.exports=DrawerView;
},{"../../events/drawer-events":149,"./drawer-tabs-view":176,"./history-view":178,"./search-view":179,"./toc-view":180,"backbone":3,"jquery":17,"underscore":140}],178:[function(require,module,exports){
"use strict";var $=require("jquery"),_=require("underscore"),Backbone=require("backbone"),MainEvents=require("../../events/main-events");Backbone.$=$;var HistoryView=Backbone.View.extend({el:"#timeline",events:{"click .version-link":"setStorageItem"},initialize:function(){this.listenTo(MainEvents,"section:open",this.updateLinks),this.listenTo(MainEvents,"diff:open",this.updateLinks)},setStorageItem:function(){sessionStorage.setItem("drawerDefault","timeline")},updateLinks:function(e){var t=window.APP_PREFIX;"undefined"!=typeof t&&"/"!==t.substr(t.length-1)&&(t+="/"),"undefined"!=typeof e&&(this.$el.find(".version-link").each(function(){var i=$(this);i.attr("href",t+e+"/"+i.data("version"))}),this.$el.find(".stop-button").each(function(){var i=$(this);e.indexOf("Interp")!==-1?i.attr("href",t+i.data("first-subterp")+"/"+i.data("version")):i.attr("href",t+e+"/"+i.data("version"))}),e.indexOf("Interp")!==-1&&(e=e.split("-")[0]+"-Interp"),this.$el.find(".select-content form").each(function(){var t,i,n=$(this);t=_.compact(n.attr("action").split("/")),t.splice(-2,1,e),i="/"+t.join("/"),n.attr("action",i)}))}});module.exports=HistoryView;
},{"../../events/main-events":152,"backbone":3,"jquery":17,"underscore":140}],179:[function(require,module,exports){
"use strict";var $=require("jquery"),_=require("underscore"),Backbone=require("backbone"),Router=require("../../router"),MainEvents=require("../../events/main-events");Backbone.$=$;var SearchView=Backbone.View.extend({el:"#search",events:{submit:"openSearchResults"},initialize:function(){Router.hasPushState===!1&&(this.events={})},openSearchResults:function(e){sessionStorage.setItem("drawerDefault","search"),e.preventDefault();var r=$(e.target),t={docType:r.data("doc-type"),query:r.find('input[name="q"]').val(),searchVersion:r.find("select[name=version]").val()};MainEvents.trigger("search-results:open",null,t,"search-results")}});module.exports=SearchView;
},{"../../events/main-events":152,"../../router":167,"backbone":3,"jquery":17,"underscore":140}],180:[function(require,module,exports){
"use strict";var $=require("jquery"),_=require("underscore"),Backbone=require("backbone"),Helpers=require("../../helpers"),Router=require("../../router"),MainEvents=require("../../events/main-events"),DrawerEvents=require("../../events/drawer-events"),HeaderEvents=require("../../events/header-events"),Resources=require("../../resources.js");Backbone.$=$;var TOCView=Backbone.View.extend({el:"#table-of-contents",events:{"click a.diff[data-section-id]":"sendDiffClickEvent","click a[data-section-id]:not(.diff)":"sendClickEvent"},initialize:function(){var e=$("section[data-page-type]").attr("id");this.listenTo(DrawerEvents,"section:open",this.setActive),e&&this.setActive(e),Router.hasPushState===!1&&(this.events={})},setActive:function(e){var t,r;return t=this.$el.find('a[data-section-id="'+e+'"]'),this.$el.find(".current").removeClass("current"),t.addClass("current"),r=t.parent().prevAll("li[data-subpart-heading]").first().find(".toc-nav__divider").attr("data-section-id"),r&&r.length>0?HeaderEvents.trigger("subpart:present",Helpers.formatSubpartLabel(r)):HeaderEvents.trigger("subpart:absent"),this},sendClickEvent:function(e){e.preventDefault();var t=$(e.currentTarget).data("section-id"),r=this.$el.closest(".panel").data("page-type");DrawerEvents.trigger("section:open",t),MainEvents.trigger("section:open",t,{},r)},sendDiffClickEvent:function(e){e.preventDefault();var t=$(e.currentTarget),r=t.data("section-id"),n={};n.newerVersion=Helpers.findDiffVersion(Resources.versionElements),n.baseVersion=Helpers.findVersion(Resources.versionElements),DrawerEvents.trigger("section:open",r),MainEvents.trigger("diff:open",r,n,"diff")},scrollToActive:function(){var e=document.querySelectorAll("#table-of-contents .current");e[0]&&e[0].scrollIntoView()}});module.exports=TOCView;
},{"../../events/drawer-events":149,"../../events/header-events":151,"../../events/main-events":152,"../../helpers":155,"../../resources.js":166,"../../router":167,"backbone":3,"jquery":17,"underscore":140}],181:[function(require,module,exports){
"use strict";var $=require("jquery"),_=require("underscore"),Backbone=require("backbone"),SubHead=require("./sub-head-view");Backbone.$=$;var HeaderView=Backbone.View.extend({el:".reg-header",initialize:function(){this.subHeadView=new SubHead},events:{"click .mobile-nav-trigger":"toggleNav"},toggleNav:function(e){e.preventDefault(),$(".app-nav-list, .mobile-nav-trigger").toggleClass("open")},contextMap:{changeSubHeadText:"_updateSubHead"},ask:function(e,a){"undefined"!=typeof this.contextMap[e]&&this.contextMap[e].apply(a)},_updateSubHead:function(e){this.subHeadView.change(e.type,e.content)}});module.exports=HeaderView;
},{"./sub-head-view":183,"backbone":3,"jquery":17,"underscore":140}],182:[function(require,module,exports){
"use strict";var $=require("jquery"),_=require("underscore"),Backbone=require("backbone");Backbone.$=$;var MainEvents=require("../../events/main-events"),CommentEvents=require("../../events/comment-events"),PreambleHeadView=Backbone.View.extend({el:".preamble-header",events:{"click .read-proposal":"readProposal","click .write-comment":"writeComment"},initialize:function(){this.$readTab=this.$el.find(".read-proposal"),this.$writeTab=this.$el.find(".write-comment"),this.listenTo(CommentEvents,"comment:readTabOpen",this.readTabOpen),this.listenTo(CommentEvents,"comment:writeTabOpen",this.writeTabOpen),this.listenTo(MainEvents,"route",this.handleRoute)},handleRoute:function(e){this.$readTab.find("a").attr("href","/"+e)},readTabOpen:function(){this.$readTab.addClass("active-mode"),this.$writeTab.removeClass("active-mode")},readProposal:function(e){e.preventDefault(),($("#preamble-write").is(":visible")||$("#comment-review").length)&&(this.readTabOpen(),CommentEvents.trigger("read:proposal"))},writeTabOpen:function(){this.$writeTab.addClass("active-mode"),this.$readTab.removeClass("active-mode")},writeComment:function(){$("#preamble-read").is(":visible")&&(this.writeTabOpen(),CommentEvents.trigger("comment:write"))}});module.exports=PreambleHeadView;
},{"../../events/comment-events":148,"../../events/main-events":152,"backbone":3,"jquery":17,"underscore":140}],183:[function(require,module,exports){
"use strict";var $=require("jquery"),_=require("underscore"),Backbone=require("backbone"),HeaderEvents=require("../../events/header-events");Backbone.$=$;var SubHeadView=Backbone.View.extend({el:"#content-header",initialize:function(){this.listenTo(HeaderEvents,"section:open",this.changeTitle),this.listenTo(HeaderEvents,"search-results:open",this.displayCount),this.listenTo(HeaderEvents,"search-results:open",this.changeDate),this.listenTo(HeaderEvents,"search-results:open",this.removeSubpart),this.listenTo(HeaderEvents,"clear",this.reset),this.listenTo(HeaderEvents,"subpart:present",this.renderSubpart),this.listenTo(HeaderEvents,"subpart:absent",this.removeSubpart),this.$activeTitle=this.$el.find(".header-label"),this.$subpartLabel=this.$el.find(".subpart")},changeTitle:function(e){this.$activeTitle.html(e)},displayCount:function(e){this.$activeTitle.html('<span class="subpart">Search results</span> '+e)},changeDate:function(){this.version=$("section[data-base-version]").data("base-version"),this.version?(this.displayDate=$('select[name="version"] option[value="'+this.version+'"]').text(),$(".effective-date").html("<strong>Effective date:</strong> "+this.displayDate)):$(".effective-date").html("")},renderSubpart:function(e){this.$subpartLabel.text(e).show(),this.$activeTitle.addClass("with-subpart")},removeSubpart:function(){this.$subpartLabel.text("").hide(),this.$activeTitle.removeClass("with-subpart")},reset:function(){this.$activeTitle.html("")}});module.exports=SubHeadView;
},{"../../events/header-events":151,"backbone":3,"jquery":17,"underscore":140}],184:[function(require,module,exports){
"use strict";var $=require("jquery"),_=require("underscore"),Backbone=require("backbone");require("../../events/scroll-stop.js");var Router=require("../../router"),HeaderEvents=require("../../events/header-events"),DrawerEvents=require("../../events/drawer-events"),Helpers=require("../../helpers"),MainEvents=require("../../events/main-events"),GAEvents=require("../../events/ga-events");Backbone.$=$;var WAYFINDER_SCROLL_OFFSET=window.WAYFINDER_SCROLL_OFFSET||64,ChildView=Backbone.View.extend({el:"#content-wrapper",initialize:function(e){this.options=e,this.$topSection=this.$el.find("[data-page-type]"),this.sectionLabel=this.$topSection.data("label"),this.attachWayfinding(),this.options.render?(this.title||(this.title=this.assembleTitle()),this.route(this.options),GAEvents.trigger("section:open",this.options),this.render()):this.options.id&&(MainEvents.trigger("section:sethandlers"),DrawerEvents.trigger("section:open",this.options.id)),this.activeSection=this.options.id,this.$activeSection=$("#"+this.activeSection),this.loadImages()},attachWayfinding:function(){this.updateWayfinding(),$(window).on("scrollstop",_.bind(this.checkActiveSection,this))},render:function(){this.updateWayfinding(),this.loadImages(),this.scroll(),HeaderEvents.trigger("section:open",this.sectionLabel),DrawerEvents.trigger("section:open",this.id)},scroll:function(){var e,t;this.options.scrollToId&&(t=$("#"+this.options.scrollToId),t.length&&(e=t.offset().top),window.scrollTo(0,e||0))},changeFocus:function(e){$(e).focus()},assembleTitle:function(){var e,t;return e=_.compact(document.title.split(" ")),t=[e[0],e[1],this.sectionLabel,"|","eRegulations"],t.join(" ")},checkActiveSection:function(){$.each(this.$sections,function(e,t){if(t.offset().top+WAYFINDER_SCROLL_OFFSET>=$(window).scrollTop()&&(_.isEmpty(this.activeSection)||this.activeSection!==t.id))return this.activeSection=t[0].id,this.$activeSection=$(t[0]),HeaderEvents.trigger("section:open",this.$activeSection.data("label")),DrawerEvents.trigger("section:open",this.$activeSection.data("toc-id")||this.id),MainEvents.trigger("paragraph:active",this.activeSection),"undefined"!=typeof window.history&&"undefined"!=typeof window.history.replaceState&&window.history.replaceState(null,null,window.location.origin+window.location.pathname+window.location.search+"#"+this.activeSection),!1}.bind(this))},updateWayfinding:function(){this.$sections=this.$el.find("li[id], .reg-section, .appendix-section, .supplement-section").map(function(e,t){return $(t)})},route:function(e){if(Router.hasPushState&&"undefined"==typeof e.noRoute){var t=this.url;e&&e.scrollToId?(t+="#"+e.scrollToId,this.navigate(t),$("html, body").scrollTop($("#"+e.scrollToId).offset().top)):(["diff","search-results"].indexOf(e.type)===-1&&(t+="#"+e.id),this.navigate(t))}},navigate:function(e){Router.navigate(e),MainEvents.trigger("route",e),document.title=this.title},remove:function(){return $(window).off("scrollstop"),this.stopListening(),this.off(),this},loadImages:function(){$(".reg-image").lazyload()}});module.exports=ChildView;
},{"../../events/drawer-events":149,"../../events/ga-events":150,"../../events/header-events":151,"../../events/main-events":152,"../../events/scroll-stop.js":153,"../../helpers":155,"../../router":167,"backbone":3,"jquery":17,"underscore":140}],185:[function(require,module,exports){
"use strict";var $=require("jquery"),_=require("underscore"),Backbone=require("backbone"),Router=require("../../router"),HeaderEvents=require("../../events/header-events"),DrawerEvents=require("../../events/drawer-events"),Helpers=require("../../helpers"),Resources=require("../../resources"),MainEvents=require("../../events/main-events"),ChildView=require("./child-view");Backbone.$=$;var DiffView=ChildView.extend({initialize:function(e){this.options=e,this.id=this.options.id,this.baseVersion=this.options.baseVersion,this.newerVersion=this.options.newerVersion||Helpers.findDiffVersion(Resources.versionElements,this.baseVersion),this.fromVersion=this.options.fromVersion||this.newerVersion,this.options.sectionId=this.id,this.url="diff/"+this.model.assembleDiffURL(this.options),ChildView.prototype.initialize.apply(this,arguments),"undefined"==typeof this.options.render&&DrawerEvents.trigger("pane:change","timeline")},assembleTitle:function(){var e,i;return e=_.compact(document.title.split(" ")),i=[e[0],e[1],this.sectionLabel,"|","eRegulations"],i.join(" ")}});module.exports=DiffView;
},{"../../events/drawer-events":149,"../../events/header-events":151,"../../events/main-events":152,"../../helpers":155,"../../resources":166,"../../router":167,"./child-view":184,"backbone":3,"jquery":17,"underscore":140}],186:[function(require,module,exports){
"use strict";var $=require("jquery"),_=require("underscore"),URI=require("urijs"),DataTable=require("datatables.net")(),Clipboard=require("clipboard"),QueryCommand=require("query-command-supported"),Backbone=require("backbone"),SearchResultsView=require("./search-results-view"),RegView=require("./reg-view"),RegModel=require("../../models/reg-model"),SearchModel=require("../../models/search-model"),SubHeadView=require("../header/sub-head-view"),SectionFooter=require("./section-footer-view"),MainEvents=require("../../events/main-events"),SidebarEvents=require("../../events/sidebar-events"),DiffModel=require("../../models/diff-model"),PreambleModel=require("../../models/preamble-model"),DiffView=require("./diff-view"),Router=require("../../router"),HeaderEvents=require("../../events/header-events"),DrawerEvents=require("../../events/drawer-events"),Helpers=require("../../helpers"),MainEvents=require("../../events/main-events"),CommentReviewView=require("../comment/comment-review-view"),CommentConfirmView=require("../comment/comment-confirm-view"),PreambleView=require("./preamble-view"),Resources=require("../../resources");Backbone.$=$;var MainView=Backbone.View.extend({el:"#content-body",events:{"click .toggle .button":"toggleElement"},toggleElement:function(e){var i=$(e.target),t=i.closest(".toggle"),n=t.find(".collapsible"),r=t.find(".button"),s=r.find(".toggle-button-open"),o=r.find(".toggle-button-close");e.preventDefault(),n.is(":visible")?(n.hide(),n.attr("aria-hidden",!0),r.attr("aria-expanded",!1),s.show(),s.attr("aria-hidden",!1),o.hide(),o.attr("aria-hidden",!0)):(n.show(),n.attr("aria-hidden",!1),r.attr("aria-expanded",!0),o.show(),o.attr("aria-hidden",!1),s.hide(),s.attr("aria-hidden",!0))},initialize:function(){this.dataTables=null,Router.hasPushState&&(this.listenTo(MainEvents,"search-results:open",this.openSection),this.listenTo(MainEvents,"section:open",this.openSection),this.listenTo(MainEvents,"diff:open",this.openSection),this.listenTo(MainEvents,"breakaway:open",this.breakawayOpen),this.listenTo(MainEvents,"section:error",this.displayError)),this.listenTo(MainEvents,"section:resize",this.applyTablePlugin),this.listenTo(MainEvents,"section:setHandlers",this.setHandlers),this.$topSection=this.$el.find("section[data-page-type]"),this.contentType=this.$topSection.data("page-type"),this.regVersion=Helpers.findVersion(Resources.versionElements),this.sectionId=this.$topSection.attr("id")||this.$topSection.find("section[id]").attr("id"),this.docId=$("#menu").data("doc-id"),this.cfrTitle=$("#menu").data("cfr-title-number"),this.childModel=this.modelmap[this.contentType],this.sectionId&&this.childModel&&this.modelmap[this.contentType].set(this.sectionId,this.$el.html());var e={subContentType:this.isAppendixOrSupplement(),render:!1};"search-results"===this.contentType&&(e.params=URI.parseQuery(window.location.search),e.query=e.params.q),this.setChildOptions(e),"landing-page"===this.contentType&&DrawerEvents.trigger("pane:change","table-of-contents"),this.renderSection(null),$(".toggle .collapsible").attr("aria-hidden","true").hide(),$(".toggle .toggle-button-close").attr("aria-hidden","true").hide()},modelmap:{"reg-section":RegModel,"landing-page":RegModel,"search-results":SearchModel,diff:DiffModel,appendix:RegModel,interpretation:RegModel,"preamble-section":PreambleModel},viewmap:{"reg-section":RegView,"landing-page":RegView,"search-results":SearchResultsView,diff:DiffView,appendix:RegView,interpretation:RegView,"comment-review":CommentReviewView,"comment-confirm":CommentConfirmView,"preamble-section":PreambleView},openSection:function(e,i,t){"undefined"!=typeof this.breakawayCallback&&(this.breakawayCallback(),delete this.breakawayCallback),this.contentType=t,null!==e&&(this.sectionId=e),this.childView&&(this.childView.remove(),delete this.childView),this.loading(),SidebarEvents.trigger("section:loading"),this.childModel=this.modelmap[this.contentType],this.setChildOptions(_.extend({render:!0},i)),this.childModel.get(e,this.childOptions).then(this.renderSection.bind(this)).fail(this.renderError.bind(this))},setChildOptions:function(e){this.childOptions=_.extend({id:this.sectionId,type:this.contentType,regVersion:this.regVersion,docId:this.docId,model:this.childModel,cfrTitle:this.cfrTitle},e),"diff"===this.contentType&&(this.childOptions.baseVersion=this.regVersion||Helpers.findVersion(Resources.versionElements),this.childOptions.newerVersion=Helpers.findDiffVersion(Resources.versionElements),"undefined"==typeof e.fromVersion&&(this.childOptions.fromVersion=$("#table-of-contents").data("from-version"))),"search-results"===this.contentType&&"undefined"!=typeof e.searchVersion&&(this.childOptions.regVersion=e.searchVersion)},renderSection:function(e){e&&this.$el.html(e),this.childOptions.el=this.$el.children().get(0),this.contentType&&(this.childView=new this.viewmap[this.contentType](this.childOptions)),this.sectionFooter&&this.sectionFooter.remove();var i=this.$el.find(".section-nav");i&&(this.sectionFooter=new SectionFooter({el:i})),SidebarEvents.trigger("update",{type:this.contentType,id:this.sectionId}),this.loaded()},renderError:function(){MainEvents.trigger("section:error")},isAppendixOrSupplement:function(){return Helpers.isAppendix(this.sectionId)?"appendix":!!Helpers.isSupplement(this.sectionId)&&"supplement"},breakawayOpen:function(e){this.breakawayCallback=e,this.loading()},displayError:function(e){e||(e="Due to a network error, we were unable to retrieve the requested information."),$(".error-network").remove();var i=this.$el.find("section[data-page-type]"),t=i.attr("id"),n=i.data("label"),r=this.$el.prepend('<div class="error error-network"><span class="cf-icon cf-icon-error icon-warning"></span>'+e+"</div>").hide().fadeIn("slow");DrawerEvents.trigger("section:open",t),HeaderEvents.trigger("section:open",n),this.loaded(),SidebarEvents.trigger("section:error"),window.scrollTo(r.offset().top,0)},loading:function(){$(".main-content").addClass("loading")},loaded:function(){$(".main-content").removeClass("loading").focus(),this.setHandlers()},setHandlers:function(){this.applyTablePlugin(),this.applyClipboardPlugin()},applyClipboardPlugin:function(){document.queryCommandSupported("copy")&&this.$el.find('*[data-copyable="true"]').each(function(e,i){var t=$("<a>",{class:"clipboard-link",text:"Copy this text to your clipboard",title:"Copy this text to your clipboard",id:"#copyable-"+e,href:"#copyable-"+e});new Clipboard(t[0],{target:function(e){return i}});$(i).before(t)})},applyTablePlugin:function(){this.dataTables&&this.dataTables.destroy(),this.$el.find("table").length&&(this.dataTables=this.$el.find("table").has("thead *").DataTable({paging:!1,searching:!1,scrollY:400,scrollCollapse:!0,scrollX:!0,info:!1}))}});module.exports=MainView;
},{"../../events/drawer-events":149,"../../events/header-events":151,"../../events/main-events":152,"../../events/sidebar-events":154,"../../helpers":155,"../../models/diff-model":158,"../../models/preamble-model":160,"../../models/reg-model":161,"../../models/search-model":162,"../../resources":166,"../../router":167,"../comment/comment-confirm-view":172,"../comment/comment-review-view":174,"../header/sub-head-view":183,"./diff-view":185,"./preamble-view":187,"./reg-view":188,"./search-results-view":189,"./section-footer-view":190,"backbone":3,"clipboard":6,"datatables.net":14,"jquery":17,"query-command-supported":139,"underscore":140,"urijs":143}],187:[function(require,module,exports){
"use strict";var $=require("jquery"),_=require("underscore"),Backbone=require("backbone");Backbone.$=$;var ChildView=require("./child-view"),MainEvents=require("../../events/main-events"),PreambleHeadView=require("../header/preamble-head-view"),CommentView=require("../comment/comment-view"),CommentIndexView=require("../comment/comment-index-view"),CommentEvents=require("../../events/comment-events"),DrawerEvents=require("../../events/drawer-events"),starsHelpers=require("./stars-helpers"),helpers=require("../../helpers"),PreambleView=ChildView.extend({events:{"click .activate-write":"handleWriteLink","click .citation.internal":"openCitation"},initialize:function(e){this.options=e;var t=helpers.parsePreambleId(this.options.id);t.type;this.options.scrollToId=t.hash,this.url=t.path.join("/"),ChildView.prototype.initialize.apply(this,arguments),this.renderComments(),this.listenTo(CommentEvents,"read:proposal",this.handleRead),this.listenTo(CommentEvents,"comment:write",this.handleWriteTab),this.listenTo(MainEvents,"paragraph:active",this.handleParagraphActive),CommentEvents.trigger("comment:readTabOpen"),DrawerEvents.trigger("pane:init","preamble"===t.type?"table-of-contents":"table-of-contents-secondary")},openCitation:function(e){var t=$(e.currentTarget),i=t.attr("href"),n=t.attr("data-section-id"),r={},a=this.options.type,s=helpers.parsePreambleCitationId(i,a);n&&(e.preventDefault(),MainEvents.trigger("section:open",s,r,a))},handleRead:function(){this.mode="read",this.$write.hide(),this.$read.show()},handleParagraphActive:function(e){this.section=e},handleWriteLink:function(e){var t=$(e.target),i=t.closest(".activate-write"),n=t.closest("[data-permalink-section]");this.write(i.data("section"),n.data("toc-id"),i.data("indexes"),i.data("label"),n),CommentEvents.trigger("comment:writeTabOpen")},handleWriteTab:function(){var e=$("#"+this.section);this.write(e.find(".activate-write").data("section"),e.data("toc-id"),e.data("indexes"),e.find(".activate-write").data("label"),e)},cantWriteMessage:["Your browser does not support localStorage, which is currently required","to <em>submit</em> comments through this system. To find alternative","comment submission methods, please read the agency instructions as","listed in the preamble. We apologize for the inconvenience, but hope to","remove this limitation soon."].join(" "),checkCanWrite:function(){try{localStorage.setItem("_test","value"),"value"!==localStorage.getItem("_test")&&MainEvents.trigger("section:error",this.cantWriteMessage)}catch(e){MainEvents.trigger("section:error",this.cantWriteMessage)}},write:function(e,t,i,n,r){this.mode="write",this.checkCanWrite(),r=r.is("[data-page-type]")?this.$read.find(".preamble-content"):r,r=r.clone(),r.find(".activate-write").remove(),e&&CommentEvents.trigger("comment:target",{section:e,tocId:t,indexes:i,label:n,$parent:r}),this.$read.hide(),this.$write.show(),$("body").scrollTop(0)},renderComments:function(){if(this.mode="read",this.$read=this.$el.find("#preamble-read"),this.$write=this.$el.find("#preamble-write"),this.section=this.$read.find("[data-permalink-section]").attr("id"),this.docId=this.$read.closest("section").data("doc-id"),this.preambleHeadView=new PreambleHeadView,this.commentView=new CommentView({el:this.$write.find(".comment-wrapper"),section:this.section,docId:this.docId}),this.commentIndex=new CommentIndexView({el:this.$write.find(".comment-index"),docId:this.docId}),"write"===this.options.mode){var e=$("#"+this.options.scrollToId),t=e.data("indexes");this.write(this.options.section,this.options.tocId,t,this.options.label,e)}else this.handleRead();this.collapseStars()},collapseStars:function(){var e;this.$el.find("li[data-stars]").each(function(t,i){var n=$(i),r=n.data("stars");e=starsHelpers[r](n,e)})},remove:function(){this.commentView.remove(),this.commentIndex.remove(),Backbone.View.prototype.remove.call(this)},checkActiveSection:function(){"read"===this.mode&&ChildView.prototype.checkActiveSection.call(this)}});module.exports=PreambleView;
},{"../../events/comment-events":148,"../../events/drawer-events":149,"../../events/main-events":152,"../../helpers":155,"../comment/comment-index-view":173,"../comment/comment-view":175,"../header/preamble-head-view":182,"./child-view":184,"./stars-helpers":191,"backbone":3,"jquery":17,"underscore":140}],188:[function(require,module,exports){
"use strict";var $=require("jquery"),_=require("underscore"),Backbone=require("backbone");require("../../events/scroll-stop.js");var LazyLoad=require("jquery-lazyload"),DefinitionView=require("../sidebar/definition-view"),RegModel=require("../../models/reg-model"),SectionFooterView=require("./section-footer-view"),Router=require("../../router"),MainEvents=require("../../events/main-events"),HeaderEvents=require("../../events/header-events"),SidebarEvents=require("../../events/sidebar-events"),Helpers=require("../../helpers"),DrawerEvents=require("../../events/drawer-events"),ChildView=require("./child-view"),GAEvents=require("../../events/ga-events");Backbone.$=$;var RegView=ChildView.extend({events:{"click .definition":"termLinkHandler","click .inline-interp-header":"expandInterp"},initialize:function(e){this.options=e,this.listenTo(MainEvents,"definition:close",this.closeDefinition),this.listenTo(MainEvents,"definition:carriedOver",this.checkDefinitionScope),this.listenTo(MainEvents,"paragraph:active",this.newActiveParagraph),DrawerEvents.trigger("pane:init","table-of-contents"),this.id=this.options.id,this.regVersion=this.options.regVersion,this.activeSection=this.options.id,this.$activeSection=$("#"+this.activeSection),this.$sections={},this.url=this.id+"/"+this.options.regVersion,this.docId=this.options.docId,this.cfrTitle=this.options.cfrTitle,Router.hasPushState&&(this.events["click .inline-interpretation .section-link"]="openInterp",this.events["click .citation.internal"]="openSection",this.events["click .section-nav .navigation-link"]="openSection",this.delegateEvents()),ChildView.prototype.initialize.apply(this,arguments),HeaderEvents.trigger("section:open",this.sectionLabel)},closeDefinition:function(){this.clearActiveTerms()},toggleDefinition:function(e){return this.setActiveTerm(e),this},openSection:function(e){var i,t=$(e.currentTarget),n=t.attr("data-section-id")||t.attr("data-linked-section"),r=t.attr("href"),s={};"undefined"!=typeof r&&(i=r.indexOf("#")),n&&(e.preventDefault(),s.id=n,i!==-1&&(s.scrollToId=r.substr(i+1)),MainEvents.trigger("section:open",Helpers.findBaseSection(n),s,"reg-section"))},assembleTitle:function(){return"supplement"===this.options.subContentType?"Supplement I to Part "+this.docId+" | eRegulations":"appendix"===this.options.subContentType?"Appendix "+this.id.substr(this.id.length-1)+" to Part "+this.docId+" | eRegulations":this.cfrTitle+" CFR "+this.sectionLabel+" | eRegulations"},checkDefinitionScope:function(){var e,i=$("#definition"),t=i.data("defined-term"),n=i.find(".open-definition").attr("id"),r=!1;t&&n&&i.length>0&&(this.defScopeExclusions=this.defScopeExclusions||[],e=this.$el.find("a.definition"),e.each(function(e,i){var s=$(i);s.data("defined-term")===t&&s.data("definition")!==n&&(r||(SidebarEvents.trigger("definition:outOfScope",this.id),r=!0),this.defScopeExclusions.push(s.closest("li[data-permalink-section]").attr("id")))}.bind(this)),0===this.defScopeExclusions.length&&SidebarEvents.trigger("definition:inScope"))},newActiveParagraph:function(e){var i,t,n;"undefined"!=typeof this.defScopeExclusions&&(this.defScopeExclusions.indexOf(e)!==-1?(i=this.$activeSection.find('.definition[data-defined-term="'+$("#definition").data("definedTerm")+'"]').first(),t=i.data("definition"),n=i.attr("href"),SidebarEvents.trigger("definition:deactivate",t,n,this.activeSection)):SidebarEvents.trigger("definition:activate"))},render:function(){ChildView.prototype.render.apply(this,arguments),this.checkDefinitionScope()},termLinkHandler:function(e){e.preventDefault();var i=$(e.target),t=i.data("definition"),n=i.data("defined-term");return i.data("active")?(SidebarEvents.trigger("definition:close"),GAEvents.trigger("definition:close",{type:"defintion",by:"toggling term link"}),this.clearActiveTerms()):$(".open-definition").attr("id")===t?this.toggleDefinition(i):(SidebarEvents.trigger("definition:close"),GAEvents.trigger("definition:close",{type:"defintion",by:"opening new definition"}),this.setActiveTerm(i),SidebarEvents.trigger("definition:open",{id:t,term:n}),GAEvents.trigger("definition:open",{id:t,from:this.activeSection,type:"definition"})),this},expandInterp:function(e){e.stopImmediatePropagation(),e.preventDefault();var i=$(e.currentTarget),t=i.parent(),n=i.find(".expand-button"),r=i.find(".expand-text"),s={id:t.data("interp-id"),to:t.data("interp-for"),type:"inline-interp"};return t.toggleClass("open"),t.find(".hidden").slideToggle(),n.toggleClass("open"),r.html(t.hasClass("open")?"Hide":"Show"),t.hasClass("open")?GAEvents.trigger("interp:expand",s):GAEvents.trigger("interp:collapse",s),this},clearActiveTerms:function(){this.$el.find(".active.definition").removeClass("active").removeData("active")},setActiveTerm:function(e){this.clearActiveTerms(),e.addClass("active").data("active",1)},openInterp:function(e){e.preventDefault();var i=$(e.currentTarget).data("linked-section"),t=$(e.currentTarget).data("linked-subsection"),n=$("section[data-base-version]").data("base-version");Router.navigate(i+"/"+n+"#"+t,{trigger:!0}),GAEvents.trigger("interp:followCitation",{id:t,regVersion:n,type:"inline-interp"})}});module.exports=RegView;
},{"../../events/drawer-events":149,"../../events/ga-events":150,"../../events/header-events":151,"../../events/main-events":152,"../../events/scroll-stop.js":153,"../../events/sidebar-events":154,"../../helpers":155,"../../models/reg-model":161,"../../router":167,"../sidebar/definition-view":192,"./child-view":184,"./section-footer-view":190,"backbone":3,"jquery":17,"jquery-lazyload":16,"underscore":140}],189:[function(require,module,exports){
"use strict";var $=require("jquery"),URI=require("urijs"),_=require("underscore"),Backbone=require("backbone"),SearchModel=require("../../models/search-model.js"),Router=require("../../router"),HeaderEvents=require("../../events/header-events"),MainEvents=require("../../events/main-events"),DrawerEvents=require("../../events/drawer-events"),ChildView=require("./child-view");Backbone.$=$;var SearchResultsView=ChildView.extend({events:{"click .search-nav a":"paginate","click h3 .internal":"openResult"},initialize:function(e){this.options=e,this.query=this.options.query,this.resultsRegVersion=this.options.regVersion,this.page=parseInt(this.options.page,10)||0,this.title="Search of "+this.options.docId+" for "+this.query+" | eRegulations",Router.hasPushState===!1&&(this.events={}),DrawerEvents.trigger("pane:change","search"),this.options.render?(this.url="search/"+this.model.assembleSearchURL(this.options),ChildView.prototype.initialize.apply(this,arguments)):this.options.docType=this.$el.data("doc-type")},setElement:function(){Backbone.View.prototype.setElement.call(this,"#content-wrapper.search-results")},render:function(){var e=this.$el.find("#result-count");e.text().length>0&&(HeaderEvents.trigger("search-results:open",e.text()),e.remove()),Router.hasPushState&&"undefined"!=typeof this.options.id&&Router.navigate(this.url)},paginate:function(e){e.preventDefault();var t={query:this.options.query,docType:this.options.docType,regVersion:this.options.regVersion,page:this.page+($(e.target).hasClass("previous")?-1:1)};MainEvents.trigger("search-results:open",null,t,"search-results")},openResult:function(e){if(!this.resultsRegVersion||this.resultsRegVersion===$("nav#toc").attr("data-toc-version")){e.preventDefault();var t=$(e.target),s="cfr"===this.options.docType?"reg-section":"preamble-section",r={regVersion:t.data("linked-version"),scrollToId:t.data("linked-subsection")};DrawerEvents.trigger("pane:change","table-of-contents"),MainEvents.trigger("section:open",t.data("linked-section"),r,s)}}});module.exports=SearchResultsView;
},{"../../events/drawer-events":149,"../../events/header-events":151,"../../events/main-events":152,"../../models/search-model.js":162,"../../router":167,"./child-view":184,"backbone":3,"jquery":17,"underscore":140,"urijs":143}],190:[function(require,module,exports){
"use strict";var $=require("jquery"),_=require("underscore"),Backbone=require("backbone"),Router=require("../../router"),MainEvents=require("../../events/main-events");Backbone.$=$;var SectionFooterView=Backbone.View.extend({events:{"click .navigation-link":"sendNavEvent"},initialize:function(){(Router.hasPushState===!1||$("#table-of-contents").hasClass("diff-toc"))&&(this.events={})},sendNavEvent:function(e){var t=$(e.currentTarget),n=t.data("linked-section"),i=t.data("page-type")||"reg-section";n&&(e.preventDefault(),MainEvents.trigger("section:open",n,{},i))},remove:function(){return this.stopListening(),this}});module.exports=SectionFooterView;
},{"../../events/main-events":152,"../../router":167,"backbone":3,"jquery":17,"underscore":140}],191:[function(require,module,exports){
"use strict";var $=require("jquery"),starContent='<button class="show-more-context">&#9733; &nbsp;&nbsp; &#9733; &nbsp;&nbsp; &#9733; <span>Show more context</span> &#9733; &nbsp;&nbsp; &#9733; &nbsp;&nbsp; &#9733;</button>';module.exports={none:function(){return null},inline:function(n){var e=n.find(".paragraph-text:first").hide(),t=$(starContent).insertBefore(e),s=t.parent();return t.click(function(){t.remove(),e.show()}),s.hasClass("collapsed")&&(s.removeClass("collapsed"),t.click(function(){s.addClass("collapsed")})),t},full:function(n,e){var t;return e?t=n.hide():(t=n.children().hide(),e=$(starContent).insertBefore(t),e.click(function(){e.remove()})),e.click(function(){t.show()}),e}};
},{"jquery":17}],192:[function(require,module,exports){
"use strict";var $=require("jquery"),_=require("underscore"),Backbone=require("backbone"),RegModel="../../models/reg-model.js",Helpers=require("../../helpers"),Router=require("../../router"),MainEvents=require("../../events/main-events"),SidebarEvents=require("../../events/sidebar-events"),GAEvents=require("../../events/ga-events");Backbone.$=$;var DefinitionView=Backbone.View.extend({el:"#definition",events:{"click .close-button":"close","click .update-definition":"updateDefinition"},initialize:function(e){this.options=e,this.listenTo(SidebarEvents,"definition:outOfScope",this.displayScopeMsg),this.listenTo(SidebarEvents,"definition:inScope",this.removeScopeMsg),this.listenTo(SidebarEvents,"definition:activate",this.unGrayDefinition),this.listenTo(SidebarEvents,"definition:deactivate",this.grayOutDefinition),"undefined"!=typeof this.options.id&&(this.id=this.options.id),"undefined"!=typeof this.options.term&&(this.term=this.options.term,this.$el.data("defined-term",this.term)),this.renderHeader(),Router.hasPushState&&(this.events["click .continue-link.interp"]="openInterpretation",this.events["click .continue-link.full-def"]="openFullDefinition",this.events["click .definition"]="openFullDefinition",this.delegateEvents(this.events))},renderHeader:function(){this.$el.html('<div class="sidebar-header group spinner"><h4>Defined Term</h4></div>')},render:function(e){this.$el.html(e)},renderError:function(e){this.$el.html(""),this.renderHeader(),this.$el.children().removeClass("spinner"),this.$el.append('<div class="error"><span class="cf-icon cf-icon-error icon-warning"></span>'+e+"</div>")},close:function(e){e.preventDefault(),$(".definition.active").focus(),MainEvents.trigger("definition:close"),GAEvents.trigger("definition:close",{type:"definition",by:"header close button"}),this.remove()},updateDefinition:function(e){e.preventDefault(e),SidebarEvents.trigger("definition:open",{id:$(e.target).data("definition"),term:this.term,cb:function(){MainEvents.trigger("definition:carriedOver")}})},displayScopeMsg:function(e){var i="<p>This term has a different definition for some portions of ";i+=e?$("#"+e).data("label")+".":"this section.",i+="</p>",this.$warningContainer=this.$warningContainer||this.$el.find(".definition-warning"),this.$warningContainer.removeClass("hidden").find(".msg").html(i)},removeScopeMsg:function(){"undefined"!=typeof this.$warningContainer&&this.$warningContainer.length>0&&this.$warningContainer.addClass("hidden").find(".msg").html(""),this.unGrayDefinition()},grayOutDefinition:function(e,i,n){var t,o,r=this.$el.find(".definition-text"),s="Load the correct definition for ";"undefined"==typeof this.$warningContainer&&this.displayScopeMsg(Helpers.findBaseSection(n)),o=this.$warningContainer.find(".msg"),s+=e?$("#"+n).data("label"):"this section",t='<a href="'+i+'" class="update-definition inactive internal" data-definition="'+e+'">',t+=s+"</a>",o.find("a").remove(),o.append(t),r.addClass("inactive")},unGrayDefinition:function(){var e=this.$el.find(".definition-text");e.removeClass("inactive"),this.$el.find(".definition-warning a").remove()},openFullDefinition:function(e){e.preventDefault();var i=$(e.target).data("linked-section")||$(e.target).data("definition"),n=Helpers.findBaseSection(i);MainEvents.trigger("section:open",n,{scrollToId:i},"reg-section"),GAEvents.trigger("definition:followCitation",{id:i,type:"definition"})},openInterpretation:function(e){e.preventDefault();var i=$(e.target),n=i.data("linked-section"),t=i.data("linked-subsection");MainEvents.trigger("section:open",n,{scrollToId:t},"interpretation"),GAEvents.trigger("definition:followCitation",{id:n,type:"definition"})},remove:function(){return this.stopListening(),this.off(),this.$el.html(""),this}});module.exports=DefinitionView;
},{"../../events/ga-events":150,"../../events/main-events":152,"../../events/sidebar-events":154,"../../helpers":155,"../../router":167,"backbone":3,"jquery":17,"underscore":140}],193:[function(require,module,exports){
"use strict";var $=require("jquery"),_=require("underscore"),Backbone=require("backbone"),RegModel=require("../../models/reg-model"),SxSList=require("./sxs-list-view"),SidebarModel=require("../../models/sidebar-model"),DefinitionModel=require("../../models/definition-model"),Breakaway=require("../breakaway/breakaway-view"),SidebarEvents=require("../../events/sidebar-events"),Definition=require("./definition-view"),MetaModel=require("../../models/meta-model"),MainEvents=require("../../events/main-events"),Helpers=require("../../helpers.js");Backbone.$=$;var SidebarView=Backbone.View.extend({el:"#sidebar-content",events:{"click .expandable":"toggleExpandable"},initialize:function(){this.listenTo(SidebarEvents,"update",this.updateChildViews),this.listenTo(SidebarEvents,"definition:open",this.openDefinition),this.listenTo(SidebarEvents,"definition:close",this.closeDefinition),this.listenTo(SidebarEvents,"section:loading",this.loading),this.listenTo(SidebarEvents,"section:error",this.loaded),this.listenTo(SidebarEvents,"breakaway:open",this.hideChildren),this.childViews={sxs:new SxSList},this.definitionModel=DefinitionModel,this.model=SidebarModel,this.$el.find("[data-cache-key=sidebar]").each(function(i,e){var n=$(e);SidebarModel.set(n.data("cache-value"),n.html())})},openDefinition:function(i){this.childViews.definition=new Definition({id:i.id,term:i.term}),this.definitionModel.get(i.id,{}).then(function(i){this.childViews.definition.render(i)}.bind(this)).fail(function(){var i="We tried to load that definition, but something went wrong. ";i+='<a href="#" class="update-definition inactive internal" data-definition="'+this.childViews.definition.id+'">Try again?</a>',this.childViews.definition.renderError(i)}.bind(this))},closeDefinition:function(){"undefined"!=typeof this.childViews.definition&&this.childViews.definition.remove()},updateChildViews:function(i){switch(this.$definition=this.$definition||this.$el.find("#definition"),i.type){case"reg-section":this.model.get(i.id,{}).then(this.openRegFolders.bind(this)),MainEvents.trigger("definition:carriedOver"),this.$definition.is(":hidden")&&this.$definition.show();break;case"search":this.removeChildren(),this.loaded();break;case"diff":this.loaded();break;default:this.removeChildren(),this.loaded()}this.removeLandingSidebar()},openRegFolders:function(i){this.removeChildren("definition"),this.$el.find("[data-cache-key=sidebar]").remove(),this.$el.append(i),this.childViews.sxs=new SxSList,this.loaded()},removeLandingSidebar:function(){$(".landing-sidebar").hide()},insertDefinition:function(i){this.closeExpandables(),0===this.$el.definition.length&&(this.$el.prepend('<section id="definition"></section>'),this.$el.definition=this.$el.find("#definition")),this.$el.definition.html(i)},closeExpandables:function(){this.$el.find(".expandable").each(function(i,e){var n=$(e);n.hasClass("open")&&this.toggleExpandable(n)}.bind(this))},toggleExpandable:function(i){var e;"undefined"!=typeof i.stopPropagation?(i.stopPropagation(),e=$(i.currentTarget)):e=i,Helpers.toggleExpandable(e,400)},removeChildren:function(i){var e;for(e in this.childViews)this.childViews.hasOwnProperty(e)&&(i&&i===e||this.childViews[e].remove());this.$el.find(".regs-meta").remove()},loading:function(){this.$el.addClass("loading")},loaded:function(){this.$el.removeClass("loading")},hideChildren:function(){this.loading()}});module.exports=SidebarView;
},{"../../events/main-events":152,"../../events/sidebar-events":154,"../../helpers.js":155,"../../models/definition-model":157,"../../models/meta-model":159,"../../models/reg-model":161,"../../models/sidebar-model":163,"../breakaway/breakaway-view":169,"./definition-view":192,"./sxs-list-view":194,"backbone":3,"jquery":17,"underscore":140}],194:[function(require,module,exports){
"use strict";var $=require("jquery"),_=require("underscore"),Backbone=require("backbone"),SxSList=require("./sxs-list-view"),Router=require("../../router"),BreakawayEvents=require("../../events/breakaway-events"),GAEvents=require("../../events/ga-events"),Helpers=require("../../helpers.js");Backbone.$=$;var SxSListView=Backbone.View.extend({el:"#sxs-list",events:{"click .sxs-link":"openSxS"},initialize:function(){this.render=_.bind(this.render,this),Router.hasPushState===!1&&(this.events={})},openSxS:function(e){e.preventDefault();var r=$(e.target),s=r.data("sxs-paragraph-id"),t=r.data("doc-number"),i=$("section[data-base-version]").data("base-version");BreakawayEvents.trigger("sxs:open",{regParagraph:s,docNumber:t,fromVersion:i}),GAEvents.trigger("sxs:open",{id:s,docNumber:t,regVersion:i,type:"sxs"})},render:function(e){var r=$(e),s=r.find("#sxs-list").html();this.$el.html(s)}});module.exports=SxSListView;
},{"../../events/breakaway-events":147,"../../events/ga-events":150,"../../helpers.js":155,"../../router":167,"./sxs-list-view":194,"backbone":3,"jquery":17,"underscore":140}]},{},[165])


//# sourceMappingURL=/static/regulations/js/built/regulations.min.map